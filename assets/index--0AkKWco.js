(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(c){if(c.ep)return;c.ep=!0;const h=i(c);fetch(c.href,h)}})();var ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function im(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wf={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function ib(){if(Pv)return to;Pv=1;var r=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function i(u,c,h){var g=null;if(h!==void 0&&(g=""+h),c.key!==void 0&&(g=""+c.key),"key"in c){h={};for(var _ in c)_!=="key"&&(h[_]=c[_])}else h=c;return c=h.ref,{$$typeof:r,type:u,key:g,ref:c!==void 0?c:null,props:h}}return to.Fragment=l,to.jsx=i,to.jsxs=i,to}var $v;function lb(){return $v||($v=1,Wf.exports=ib()),Wf.exports}var re=lb(),ed={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function ub(){if(Jv)return $e;Jv=1;var r=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,N={};function L(R,J,ne){this.props=R,this.context=J,this.refs=N,this.updater=ne||T}L.prototype.isReactComponent={},L.prototype.setState=function(R,J){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,J,"setState")},L.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function ae(){}ae.prototype=L.prototype;function ie(R,J,ne){this.props=R,this.context=J,this.refs=N,this.updater=ne||T}var K=ie.prototype=new ae;K.constructor=ie,D(K,L.prototype),K.isPureReactComponent=!0;var fe=Array.isArray,be={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function xe(R,J,ne,oe,Te,Le){return ne=Le.ref,{$$typeof:r,type:R,key:J,ref:ne!==void 0?ne:null,props:Le}}function Ue(R,J){return xe(R.type,J,void 0,void 0,void 0,R.props)}function ke(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function Ce(R){var J={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ne){return J[ne]})}var we=/\/+/g;function Me(R,J){return typeof R=="object"&&R!==null&&R.key!=null?Ce(""+R.key):J.toString(36)}function Se(){}function me(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Se,Se):(R.status="pending",R.then(function(J){R.status==="pending"&&(R.status="fulfilled",R.value=J)},function(J){R.status==="pending"&&(R.status="rejected",R.reason=J)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Ee(R,J,ne,oe,Te){var Le=typeof R;(Le==="undefined"||Le==="boolean")&&(R=null);var He=!1;if(R===null)He=!0;else switch(Le){case"bigint":case"string":case"number":He=!0;break;case"object":switch(R.$$typeof){case r:case l:He=!0;break;case y:return He=R._init,Ee(He(R._payload),J,ne,oe,Te)}}if(He)return Te=Te(R),He=oe===""?"."+Me(R,0):oe,fe(Te)?(ne="",He!=null&&(ne=He.replace(we,"$&/")+"/"),Ee(Te,J,ne,"",function(qe){return qe})):Te!=null&&(ke(Te)&&(Te=Ue(Te,ne+(Te.key==null||R&&R.key===Te.key?"":(""+Te.key).replace(we,"$&/")+"/")+He)),J.push(Te)),1;He=0;var Pt=oe===""?".":oe+":";if(fe(R))for(var _t=0;_t<R.length;_t++)oe=R[_t],Le=Pt+Me(oe,_t),He+=Ee(oe,J,ne,Le,Te);else if(_t=x(R),typeof _t=="function")for(R=_t.call(R),_t=0;!(oe=R.next()).done;)oe=oe.value,Le=Pt+Me(oe,_t++),He+=Ee(oe,J,ne,Le,Te);else if(Le==="object"){if(typeof R.then=="function")return Ee(me(R),J,ne,oe,Te);throw J=String(R),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return He}function I(R,J,ne){if(R==null)return R;var oe=[],Te=0;return Ee(R,oe,"","",function(Le){return J.call(ne,Le,Te++)}),oe}function ye(R){if(R._status===-1){var J=R._result;J=J(),J.then(function(ne){(R._status===0||R._status===-1)&&(R._status=1,R._result=ne)},function(ne){(R._status===0||R._status===-1)&&(R._status=2,R._result=ne)}),R._status===-1&&(R._status=0,R._result=J)}if(R._status===1)return R._result.default;throw R._result}var Re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function he(){}return $e.Children={map:I,forEach:function(R,J,ne){I(R,function(){J.apply(this,arguments)},ne)},count:function(R){var J=0;return I(R,function(){J++}),J},toArray:function(R){return I(R,function(J){return J})||[]},only:function(R){if(!ke(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},$e.Component=L,$e.Fragment=i,$e.Profiler=c,$e.PureComponent=ie,$e.StrictMode=u,$e.Suspense=m,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=be,$e.__COMPILER_RUNTIME={__proto__:null,c:function(R){return be.H.useMemoCache(R)}},$e.cache=function(R){return function(){return R.apply(null,arguments)}},$e.cloneElement=function(R,J,ne){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var oe=D({},R.props),Te=R.key,Le=void 0;if(J!=null)for(He in J.ref!==void 0&&(Le=void 0),J.key!==void 0&&(Te=""+J.key),J)!de.call(J,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&J.ref===void 0||(oe[He]=J[He]);var He=arguments.length-2;if(He===1)oe.children=ne;else if(1<He){for(var Pt=Array(He),_t=0;_t<He;_t++)Pt[_t]=arguments[_t+2];oe.children=Pt}return xe(R.type,Te,void 0,void 0,Le,oe)},$e.createContext=function(R){return R={$$typeof:g,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:h,_context:R},R},$e.createElement=function(R,J,ne){var oe,Te={},Le=null;if(J!=null)for(oe in J.key!==void 0&&(Le=""+J.key),J)de.call(J,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Te[oe]=J[oe]);var He=arguments.length-2;if(He===1)Te.children=ne;else if(1<He){for(var Pt=Array(He),_t=0;_t<He;_t++)Pt[_t]=arguments[_t+2];Te.children=Pt}if(R&&R.defaultProps)for(oe in He=R.defaultProps,He)Te[oe]===void 0&&(Te[oe]=He[oe]);return xe(R,Le,void 0,void 0,null,Te)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(R){return{$$typeof:_,render:R}},$e.isValidElement=ke,$e.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:ye}},$e.memo=function(R,J){return{$$typeof:v,type:R,compare:J===void 0?null:J}},$e.startTransition=function(R){var J=be.T,ne={};be.T=ne;try{var oe=R(),Te=be.S;Te!==null&&Te(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(he,Re)}catch(Le){Re(Le)}finally{be.T=J}},$e.unstable_useCacheRefresh=function(){return be.H.useCacheRefresh()},$e.use=function(R){return be.H.use(R)},$e.useActionState=function(R,J,ne){return be.H.useActionState(R,J,ne)},$e.useCallback=function(R,J){return be.H.useCallback(R,J)},$e.useContext=function(R){return be.H.useContext(R)},$e.useDebugValue=function(){},$e.useDeferredValue=function(R,J){return be.H.useDeferredValue(R,J)},$e.useEffect=function(R,J,ne){var oe=be.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(R,J)},$e.useId=function(){return be.H.useId()},$e.useImperativeHandle=function(R,J,ne){return be.H.useImperativeHandle(R,J,ne)},$e.useInsertionEffect=function(R,J){return be.H.useInsertionEffect(R,J)},$e.useLayoutEffect=function(R,J){return be.H.useLayoutEffect(R,J)},$e.useMemo=function(R,J){return be.H.useMemo(R,J)},$e.useOptimistic=function(R,J){return be.H.useOptimistic(R,J)},$e.useReducer=function(R,J,ne){return be.H.useReducer(R,J,ne)},$e.useRef=function(R){return be.H.useRef(R)},$e.useState=function(R){return be.H.useState(R)},$e.useSyncExternalStore=function(R,J,ne){return be.H.useSyncExternalStore(R,J,ne)},$e.useTransition=function(){return be.H.useTransition()},$e.version="19.1.0",$e}var Fv;function qd(){return Fv||(Fv=1,ed.exports=ub()),ed.exports}var Ne=qd();const Vt=im(Ne);var td={exports:{}},no={},nd={exports:{}},rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function ob(){return Wv||(Wv=1,function(r){function l(I,ye){var Re=I.length;I.push(ye);e:for(;0<Re;){var he=Re-1>>>1,R=I[he];if(0<c(R,ye))I[he]=ye,I[Re]=R,Re=he;else break e}}function i(I){return I.length===0?null:I[0]}function u(I){if(I.length===0)return null;var ye=I[0],Re=I.pop();if(Re!==ye){I[0]=Re;e:for(var he=0,R=I.length,J=R>>>1;he<J;){var ne=2*(he+1)-1,oe=I[ne],Te=ne+1,Le=I[Te];if(0>c(oe,Re))Te<R&&0>c(Le,oe)?(I[he]=Le,I[Te]=Re,he=Te):(I[he]=oe,I[ne]=Re,he=ne);else if(Te<R&&0>c(Le,Re))I[he]=Le,I[Te]=Re,he=Te;else break e}}return ye}function c(I,ye){var Re=I.sortIndex-ye.sortIndex;return Re!==0?Re:I.id-ye.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var g=Date,_=g.now();r.unstable_now=function(){return g.now()-_}}var m=[],v=[],y=1,w=null,x=3,T=!1,D=!1,N=!1,L=!1,ae=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function fe(I){for(var ye=i(v);ye!==null;){if(ye.callback===null)u(v);else if(ye.startTime<=I)u(v),ye.sortIndex=ye.expirationTime,l(m,ye);else break;ye=i(v)}}function be(I){if(N=!1,fe(I),!D)if(i(m)!==null)D=!0,de||(de=!0,Me());else{var ye=i(v);ye!==null&&Ee(be,ye.startTime-I)}}var de=!1,xe=-1,Ue=5,ke=-1;function Ce(){return L?!0:!(r.unstable_now()-ke<Ue)}function we(){if(L=!1,de){var I=r.unstable_now();ke=I;var ye=!0;try{e:{D=!1,N&&(N=!1,ie(xe),xe=-1),T=!0;var Re=x;try{t:{for(fe(I),w=i(m);w!==null&&!(w.expirationTime>I&&Ce());){var he=w.callback;if(typeof he=="function"){w.callback=null,x=w.priorityLevel;var R=he(w.expirationTime<=I);if(I=r.unstable_now(),typeof R=="function"){w.callback=R,fe(I),ye=!0;break t}w===i(m)&&u(m),fe(I)}else u(m);w=i(m)}if(w!==null)ye=!0;else{var J=i(v);J!==null&&Ee(be,J.startTime-I),ye=!1}}break e}finally{w=null,x=Re,T=!1}ye=void 0}}finally{ye?Me():de=!1}}}var Me;if(typeof K=="function")Me=function(){K(we)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,me=Se.port2;Se.port1.onmessage=we,Me=function(){me.postMessage(null)}}else Me=function(){ae(we,0)};function Ee(I,ye){xe=ae(function(){I(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(I){I.callback=null},r.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ue=0<I?Math.floor(1e3/I):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(I){switch(x){case 1:case 2:case 3:var ye=3;break;default:ye=x}var Re=x;x=ye;try{return I()}finally{x=Re}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(I,ye){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Re=x;x=I;try{return ye()}finally{x=Re}},r.unstable_scheduleCallback=function(I,ye,Re){var he=r.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?he+Re:he):Re=he,I){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Re+R,I={id:y++,callback:ye,priorityLevel:I,startTime:Re,expirationTime:R,sortIndex:-1},Re>he?(I.sortIndex=Re,l(v,I),i(m)===null&&I===i(v)&&(N?(ie(xe),xe=-1):N=!0,Ee(be,Re-he))):(I.sortIndex=R,l(m,I),D||T||(D=!0,de||(de=!0,Me()))),I},r.unstable_shouldYield=Ce,r.unstable_wrapCallback=function(I){var ye=x;return function(){var Re=x;x=ye;try{return I.apply(this,arguments)}finally{x=Re}}}}(rd)),rd}var ep;function sb(){return ep||(ep=1,nd.exports=ob()),nd.exports}var ad={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function cb(){if(tp)return dn;tp=1;var r=qd();function l(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)v+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var u={d:{f:i,r:function(){throw Error(l(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(m,v,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:m,containerInfo:v,implementation:y}}var g=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,dn.createPortal=function(m,v){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(l(299));return h(m,v,null,y)},dn.flushSync=function(m){var v=g.T,y=u.p;try{if(g.T=null,u.p=2,m)return m()}finally{g.T=v,u.p=y,u.d.f()}},dn.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,u.d.C(m,v))},dn.prefetchDNS=function(m){typeof m=="string"&&u.d.D(m)},dn.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var y=v.as,w=_(y,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,T=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;y==="style"?u.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:T}):y==="script"&&u.d.X(m,{crossOrigin:w,integrity:x,fetchPriority:T,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},dn.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var y=_(v.as,v.crossOrigin);u.d.M(m,{crossOrigin:y,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&u.d.M(m)},dn.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var y=v.as,w=_(y,v.crossOrigin);u.d.L(m,y,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},dn.preloadModule=function(m,v){if(typeof m=="string")if(v){var y=_(v.as,v.crossOrigin);u.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:y,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else u.d.m(m)},dn.requestFormReset=function(m){u.d.r(m)},dn.unstable_batchedUpdates=function(m,v){return m(v)},dn.useFormState=function(m,v,y){return g.H.useFormState(m,v,y)},dn.useFormStatus=function(){return g.H.useHostTransitionStatus()},dn.version="19.1.0",dn}var np;function fb(){if(np)return ad.exports;np=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(l){console.error(l)}}return r(),ad.exports=cb(),ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function db(){if(rp)return no;rp=1;var r=sb(),l=qd(),i=fb();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(h(e)!==e)throw Error(u(188))}function m(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var d=s.alternate;if(d===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===d.child){for(d=s.child;d;){if(d===n)return _(s),e;if(d===a)return _(s),t;d=d.sibling}throw Error(u(188))}if(n.return!==a.return)n=s,a=d;else{for(var S=!1,O=s.child;O;){if(O===n){S=!0,n=s,a=d;break}if(O===a){S=!0,a=s,n=d;break}O=O.sibling}if(!S){for(O=d.child;O;){if(O===n){S=!0,n=d,a=s;break}if(O===a){S=!0,a=d,n=s;break}O=O.sibling}if(!S)throw Error(u(189))}}if(n.alternate!==a)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),K=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),ke=Symbol.for("react.activity"),Ce=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function Me(e){return e===null||typeof e!="object"?null:(e=we&&e[we]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case L:return"Profiler";case N:return"StrictMode";case be:return"Suspense";case de:return"SuspenseList";case ke:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case K:return(e.displayName||"Context")+".Provider";case ie:return(e._context.displayName||"Context")+".Consumer";case fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case Ue:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}var Ee=Array.isArray,I=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},he=[],R=-1;function J(e){return{current:e}}function ne(e){0>R||(e.current=he[R],he[R]=null,R--)}function oe(e,t){R++,he[R]=e.current,e.current=t}var Te=J(null),Le=J(null),He=J(null),Pt=J(null);function _t(e,t){switch(oe(He,t),oe(Le,e),oe(Te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ev(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ev(t),e=xv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ne(Te),oe(Te,e)}function qe(){ne(Te),ne(Le),ne(He)}function Mi(e){e.memoizedState!==null&&oe(Pt,e);var t=Te.current,n=xv(t,e.type);t!==n&&(oe(Le,e),oe(Te,n))}function Cr(e){Le.current===e&&(ne(Te),ne(Le)),Pt.current===e&&(ne(Pt),$u._currentValue=Re)}var ot=Object.prototype.hasOwnProperty,Rr=r.unstable_scheduleCallback,Ql=r.unstable_cancelCallback,Dr=r.unstable_shouldYield,cc=r.unstable_requestPaint,Bn=r.unstable_now,fc=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,ji=r.unstable_UserBlockingPriority,hn=r.unstable_NormalPriority,_o=r.unstable_LowPriority,da=r.unstable_IdlePriority,So=r.log,ni=r.unstable_setDisableYieldValue,xn=null,jt=null;function qn(e){if(typeof So=="function"&&ni(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(xn,e)}catch{}}var Yt=Math.clz32?Math.clz32:Mr,Vl=Math.log,Ui=Math.LN2;function Mr(e){return e>>>=0,e===0?32:31-(Vl(e)/Ui|0)|0}var jr=256,ha=4194304;function un(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Be(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,d=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var O=a&134217727;return O!==0?(a=O&~d,a!==0?s=un(a):(S&=O,S!==0?s=un(S):n||(n=O&~e,n!==0&&(s=un(n))))):(O=a&~d,O!==0?s=un(O):S!==0?s=un(S):n||(n=a&~e,n!==0&&(s=un(n)))),s===0?0:t!==0&&t!==s&&(t&d)===0&&(d=s&-s,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:s}function Fn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ur(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ri(){var e=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),e}function De(){var e=ha;return ha<<=1,(ha&62914560)===0&&(ha=4194304),e}function ai(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ya(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xl(e,t,n,a,s,d){var S=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var O=e.entanglements,j=e.expirationTimes,P=e.hiddenUpdates;for(n=S&~n;0<n;){var ue=31-Yt(n),ce=1<<ue;O[ue]=0,j[ue]=-1;var F=P[ue];if(F!==null)for(P[ue]=null,ue=0;ue<F.length;ue++){var W=F[ue];W!==null&&(W.lane&=-536870913)}n&=~ce}a!==0&&Zl(e,a,0),d!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=d&~(S&~t))}function Zl(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Yt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function Ni(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Yt(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function Il(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nr(){var e=ye.p;return e!==0?e:(e=window.event,e===void 0?32:Gv(e.type))}function va(e,t){var n=ye.p;try{return ye.p=e,t()}finally{ye.p=n}}var Ln=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Ln,Fe="__reactProps$"+Ln,wt="__reactContainer$"+Ln,$l="__reactEvents$"+Ln,ki="__reactListeners$"+Ln,zi="__reactHandles$"+Ln,ii="__reactResources$"+Ln,li="__reactMarker$"+Ln;function Hn(e){delete e[Ut],delete e[Fe],delete e[$l],delete e[ki],delete e[zi]}function An(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wt]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cv(e);e!==null;){if(n=e[Ut])return n;e=Cv(e)}return t}e=n,n=e.parentNode}return null}function yn(e){if(e=e[Ut]||e[wt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ur(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function pa(e){var t=e[ii];return t||(t=e[ii]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[li]=!0}var Jl=new Set,or={};function sr(e,t){cr(e,t),cr(e+"Capture",t)}function cr(e,t){for(or[e]=t,e=0;e<t.length;e++)Jl.add(t[e])}var Ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fr={},Kn={};function wo(e){return ot.call(Kn,e)?!0:ot.call(fr,e)?!1:Ot.test(e)?Kn[e]=!0:(fr[e]=!0,!1)}function Wn(e,t,n){if(wo(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function kr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function On(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var ui,dr;function zr(e){if(ui===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ui=t&&t[1]||"",dr=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ui+e+dr}var ma=!1;function Bi(e,t){if(!e||ma)return"";ma=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(W){var F=W}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(W){F=W}e.call(ce.prototype)}}else{try{throw Error()}catch(W){F=W}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(W){if(W&&F&&typeof W.stack=="string")return[W.stack,F.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=a.DetermineComponentFrameRoot(),S=d[0],O=d[1];if(S&&O){var j=S.split(`
`),P=O.split(`
`);for(s=a=0;a<j.length&&!j[a].includes("DetermineComponentFrameRoot");)a++;for(;s<P.length&&!P[s].includes("DetermineComponentFrameRoot");)s++;if(a===j.length||s===P.length)for(a=j.length-1,s=P.length-1;1<=a&&0<=s&&j[a]!==P[s];)s--;for(;1<=a&&0<=s;a--,s--)if(j[a]!==P[s]){if(a!==1||s!==1)do if(a--,s--,0>s||j[a]!==P[s]){var ue=`
`+j[a].replace(" at new "," at ");return e.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",e.displayName)),ue}while(1<=a&&0<=s);break}}}finally{ma=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?zr(n):""}function tt(e){switch(e.tag){case 26:case 27:case 5:return zr(e.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 15:return Bi(e.type,!1);case 11:return Bi(e.type.render,!1);case 1:return Bi(e.type,!0);case 31:return zr("Activity");default:return""}}function Fl(e){try{var t="";do t+=tt(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gt(e){var t=Wl(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(S){a=""+S,d.call(this,S)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hr(e){e._valueTracker||(e._valueTracker=gt(e))}function ga(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Wl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var eu=/[\n"\\]/g;function on(e){return e.replace(eu,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ba(e,t,n,a,s,d,S,O){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+vn(t)):e.value!==""+vn(t)&&(e.value=""+vn(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?_a(e,S,vn(t)):n!=null?_a(e,S,vn(n)):a!=null&&e.removeAttribute("value"),s==null&&d!=null&&(e.defaultChecked=!!d),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+vn(O):e.removeAttribute("name")}function tu(e,t,n,a,s,d,S,O){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;n=n!=null?""+vn(n):"",t=t!=null?""+vn(t):n,O||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=O?e.checked:!!a,e.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function _a(e,t,n){t==="number"&&er(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Br(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Sa(e,t,n){if(t!=null&&(t=""+vn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+vn(n):""}function nu(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(u(92));if(Ee(a)){if(1<a.length)throw Error(u(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=vn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qi(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||lt.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Eo(e,t,n){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&qi(e,s,a)}else for(var d in t)t.hasOwnProperty(d)&&qi(e,d,t[d])}function ru(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ea=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qr(e){return Ea.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Yn=null;function Li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lr=null,Et=null;function Tn(e){var t=yn(e);if(t&&(e=t.stateNode)){var n=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(ba(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+on(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Fe]||null;if(!s)throw Error(u(90));ba(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&ga(a)}break e;case"textarea":Sa(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Br(e,!!n.multiple,t,!1)}}}var Hr=!1;function xa(e,t,n){if(Hr)return e(t,n);Hr=!0;try{var a=e(t);return a}finally{if(Hr=!1,(Lr!==null||Et!==null)&&(fs(),Lr&&(t=Lr,e=Et,Et=Lr=null,Tn(t),e)))for(t=0;t<e.length;t++)Tn(e[t])}}function Kr(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Fe]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),au=!1;if($t)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){au=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{au=!1}var Gn=null,Hi=null,Aa=null;function Oa(){if(Aa)return Aa;var e,t=Hi,n=t.length,a,s="value"in Gn?Gn.value:Gn.textContent,d=s.length;for(e=0;e<n&&t[e]===s[e];e++);var S=n-e;for(a=1;a<=S&&t[n-a]===s[d-a];a++);return Aa=s.slice(e,1<a?1-a:void 0)}function Ta(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function xo(){return!1}function Bt(e){function t(n,a,s,d,S){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=d,this.target=S,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(n=e[O],this[O]=n?n(d):d[O]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:xo,this.isPropagationStopped=xo,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=Bt(Yr),yr=y({},Yr,{view:0,detail:0}),Yi=Bt(yr),si,iu,ci,Gi=y({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(si=e.screenX-ci.screenX,iu=e.screenY-ci.screenY):iu=si=0,ci=e),si)},movementY:function(e){return"movementY"in e?e.movementY:iu}}),Qi=Bt(Gi),lu=y({},Gi,{dataTransfer:0}),Ao=Bt(lu),Vi=y({},yr,{relatedTarget:0}),Ca=Bt(Vi),Xi=y({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=Bt(Xi),dc=y({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zi=Bt(dc),uu=y({},Yr,{data:0}),Ii=Bt(uu),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jt[e])?!!t[e]:!1}function Gr(){return fi}var To=y({},yr,{key:function(e){if(e.key){var t=ou[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ta(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(e){return e.type==="keypress"?Ta(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ta(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pi=Bt(To),Co=y({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=Bt(Co),$i=y({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),fu=Bt($i),Qr=y({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=Bt(Qr),hu=y({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ji=Bt(hu),yu=y({},Yr,{newState:0,oldState:0}),Ro=Bt(yu),hc=[9,13,27,32],di=$t&&"CompositionEvent"in window,vr=null;$t&&"documentMode"in document&&(vr=document.documentMode);var yc=$t&&"TextEvent"in window&&!vr,Fi=$t&&(!di||vr&&8<vr&&11>=vr),Wi=" ",Do=!1;function vu(e,t){switch(e){case"keyup":return hc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function jo(e,t){switch(e){case"compositionend":return Mo(t);case"keypress":return t.which!==32?null:(Do=!0,Wi);case"textInput":return e=t.data,e===Wi&&Do?null:e;default:return null}}function vc(e,t){if(Vr)return e==="compositionend"||!di&&vu(e,t)?(e=Oa(),Aa=Hi=Gn=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fi&&t.locale!=="ko"?null:t.data;default:return null}}var Uo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function el(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uo[e.type]:t==="textarea"}function pu(e,t,n,a){Lr?Et?Et.push(a):Et=[a]:Lr=a,t=ms(t,"onChange"),0<t.length&&(n=new Ki("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ra=null,hi=null;function pc(e){gv(e,0)}function tl(e){var t=ur(e);if(ga(t))return e}function yi(e,t){if(e==="change")return t}var Qn=!1;if($t){var xt;if($t){var Da="oninput"in document;if(!Da){var mn=document.createElement("div");mn.setAttribute("oninput","return;"),Da=typeof mn.oninput=="function"}xt=Da}else xt=!1;Qn=xt&&(!document.documentMode||9<document.documentMode)}function No(){Ra&&(Ra.detachEvent("onpropertychange",nl),hi=Ra=null)}function nl(e){if(e.propertyName==="value"&&tl(hi)){var t=[];pu(t,hi,e,Li(e)),xa(pc,t)}}function ko(e,t,n){e==="focusin"?(No(),Ra=t,hi=n,Ra.attachEvent("onpropertychange",nl)):e==="focusout"&&No()}function Xr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(hi)}function mu(e,t){if(e==="click")return tl(t)}function Ma(e,t){if(e==="input"||e==="change")return tl(t)}function pr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:pr;function o(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!ot.call(t,s)||!cn(e[s],t[s]))return!1}return!0}function f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p(e,t){var n=f(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f(n)}}function b(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?b(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function E(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=er(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=er(e.document)}return t}function A(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var C=$t&&"documentMode"in document&&11>=document.documentMode,M=null,z=null,q=null,G=!1;function U(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;G||M==null||M!==er(a)||(a=M,"selectionStart"in a&&A(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),q&&o(q,a)||(q=a,a=ms(z,"onSelect"),0<a.length&&(t=new Ki("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=M)))}function V(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var k={animationend:V("Animation","AnimationEnd"),animationiteration:V("Animation","AnimationIteration"),animationstart:V("Animation","AnimationStart"),transitionrun:V("Transition","TransitionRun"),transitionstart:V("Transition","TransitionStart"),transitioncancel:V("Transition","TransitionCancel"),transitionend:V("Transition","TransitionEnd")},Y={},X={};$t&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete k.animationend.animation,delete k.animationiteration.animation,delete k.animationstart.animation),"TransitionEvent"in window||delete k.transitionend.transition);function H(e){if(Y[e])return Y[e];if(!k[e])return e;var t=k[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in X)return Y[e]=t[n];return e}var $=H("animationend"),ee=H("animationiteration"),te=H("animationstart"),le=H("transitionrun"),ge=H("transitionstart"),Ae=H("transitioncancel"),ve=H("transitionend"),_e=new Map,Oe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oe.push("scrollEnd");function pe(e,t){_e.set(e,t),sr(t,[e])}var je=new WeakMap;function Ge(e,t){if(typeof e=="object"&&e!==null){var n=je.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Fl(t)},je.set(e,t),t)}return{value:e,source:t,stack:Fl(t)}}var Qe=[],Pe=0,nn=0;function Ze(){for(var e=Pe,t=nn=Pe=0;t<e;){var n=Qe[t];Qe[t++]=null;var a=Qe[t];Qe[t++]=null;var s=Qe[t];Qe[t++]=null;var d=Qe[t];if(Qe[t++]=null,a!==null&&s!==null){var S=a.pending;S===null?s.next=s:(s.next=S.next,S.next=s),a.pending=s}d!==0&&Ft(n,s,d)}}function Nt(e,t,n,a){Qe[Pe++]=e,Qe[Pe++]=t,Qe[Pe++]=n,Qe[Pe++]=a,nn|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function qt(e,t,n,a){return Nt(e,t,n,a),Vn(e)}function tr(e,t){return Nt(e,null,null,t),Vn(e)}function Ft(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,d=e.return;d!==null;)d.childLanes|=n,a=d.alternate,a!==null&&(a.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(s=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,s&&t!==null&&(s=31-Yt(n),e=d.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),d):null}function Vn(e){if(50<Yu)throw Yu=0,Ef=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var mr={};function Gg(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,n,a){return new Gg(e,t,n,a)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zr(e,t){var n=e.alternate;return n===null?(n=Cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function rh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zo(e,t,n,a,s,d){var S=0;if(a=e,typeof e=="function")mc(e)&&(S=1);else if(typeof e=="string")S=V0(e,n,Te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ke:return e=Cn(31,n,t,s),e.elementType=ke,e.lanes=d,e;case D:return vi(n.children,s,d,t);case N:S=8,s|=24;break;case L:return e=Cn(12,n,t,s|2),e.elementType=L,e.lanes=d,e;case be:return e=Cn(13,n,t,s),e.elementType=be,e.lanes=d,e;case de:return e=Cn(19,n,t,s),e.elementType=de,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:case K:S=10;break e;case ie:S=9;break e;case fe:S=11;break e;case xe:S=14;break e;case Ue:S=16,a=null;break e}S=29,n=Error(u(130,e===null?"null":typeof e,"")),a=null}return t=Cn(S,n,t,s),t.elementType=e,t.type=a,t.lanes=d,t}function vi(e,t,n,a){return e=Cn(7,e,a,t),e.lanes=n,e}function gc(e,t,n){return e=Cn(6,e,null,t),e.lanes=n,e}function bc(e,t,n){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rl=[],al=0,Bo=null,qo=0,Xn=[],Zn=0,pi=null,Ir=1,Pr="";function mi(e,t){rl[al++]=qo,rl[al++]=Bo,Bo=e,qo=t}function ah(e,t,n){Xn[Zn++]=Ir,Xn[Zn++]=Pr,Xn[Zn++]=pi,pi=e;var a=Ir;e=Pr;var s=32-Yt(a)-1;a&=~(1<<s),n+=1;var d=32-Yt(t)+s;if(30<d){var S=s-s%5;d=(a&(1<<S)-1).toString(32),a>>=S,s-=S,Ir=1<<32-Yt(t)+s|n<<s|a,Pr=d+e}else Ir=1<<d|n<<s|a,Pr=e}function _c(e){e.return!==null&&(mi(e,1),ah(e,1,0))}function Sc(e){for(;e===Bo;)Bo=rl[--al],rl[al]=null,qo=rl[--al],rl[al]=null;for(;e===pi;)pi=Xn[--Zn],Xn[Zn]=null,Pr=Xn[--Zn],Xn[Zn]=null,Ir=Xn[--Zn],Xn[Zn]=null}var gn=null,Rt=null,ct=!1,gi=null,gr=!1,wc=Error(u(519));function bi(e){var t=Error(u(418,""));throw _u(Ge(t,e)),wc}function ih(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ut]=e,t[Fe]=a,n){case"dialog":rt("cancel",t),rt("close",t);break;case"iframe":case"object":case"embed":rt("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)rt(Qu[n],t);break;case"source":rt("error",t);break;case"img":case"image":case"link":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"input":rt("invalid",t),tu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),hr(t);break;case"select":rt("invalid",t);break;case"textarea":rt("invalid",t),nu(t,a.value,a.defaultValue,a.children),hr(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||wv(t.textContent,n)?(a.popover!=null&&(rt("beforetoggle",t),rt("toggle",t)),a.onScroll!=null&&rt("scroll",t),a.onScrollEnd!=null&&rt("scrollend",t),a.onClick!=null&&(t.onclick=gs),t=!0):t=!1,t||bi(e)}function lh(e){for(gn=e.return;gn;)switch(gn.tag){case 5:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:gn=gn.return}}function gu(e){if(e!==gn)return!1;if(!ct)return lh(e),ct=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Lf(e.type,e.memoizedProps)),n=!n),n&&Rt&&bi(e),lh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Rt=rr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Rt=null}}else t===27?(t=Rt,Za(e.type)?(e=Gf,Gf=null,Rt=e):Rt=t):Rt=gn?rr(e.stateNode.nextSibling):null;return!0}function bu(){Rt=gn=null,ct=!1}function uh(){var e=gi;return e!==null&&(wn===null?wn=e:wn.push.apply(wn,e),gi=null),e}function _u(e){gi===null?gi=[e]:gi.push(e)}var Ec=J(null),_i=null,$r=null;function ja(e,t,n){oe(Ec,t._currentValue),t._currentValue=n}function Jr(e){e._currentValue=Ec.current,ne(Ec)}function xc(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ac(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var d=s.dependencies;if(d!==null){var S=s.child;d=d.firstContext;e:for(;d!==null;){var O=d;d=s;for(var j=0;j<t.length;j++)if(O.context===t[j]){d.lanes|=n,O=d.alternate,O!==null&&(O.lanes|=n),xc(d.return,n,e),a||(S=null);break e}d=O.next}}else if(s.tag===18){if(S=s.return,S===null)throw Error(u(341));S.lanes|=n,d=S.alternate,d!==null&&(d.lanes|=n),xc(S,n,e),S=null}else S=s.child;if(S!==null)S.return=s;else for(S=s;S!==null;){if(S===e){S=null;break}if(s=S.sibling,s!==null){s.return=S.return,S=s;break}S=S.return}s=S}}function Su(e,t,n,a){e=null;for(var s=t,d=!1;s!==null;){if(!d){if((s.flags&524288)!==0)d=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var S=s.alternate;if(S===null)throw Error(u(387));if(S=S.memoizedProps,S!==null){var O=s.type;cn(s.pendingProps.value,S.value)||(e!==null?e.push(O):e=[O])}}else if(s===Pt.current){if(S=s.alternate,S===null)throw Error(u(387));S.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push($u):e=[$u])}s=s.return}e!==null&&Ac(t,e,n,a),t.flags|=262144}function Lo(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Si(e){_i=e,$r=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fn(e){return oh(_i,e)}function Ho(e,t){return _i===null&&Si(e),oh(e,t)}function oh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},$r===null){if(e===null)throw Error(u(308));$r=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else $r=$r.next=t;return n}var Qg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Vg=r.unstable_scheduleCallback,Xg=r.unstable_NormalPriority,Gt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new Qg,data:new Map,refCount:0}}function wu(e){e.refCount--,e.refCount===0&&Vg(Xg,function(){e.controller.abort()})}var Eu=null,Tc=0,il=0,ll=null;function Zg(e,t){if(Eu===null){var n=Eu=[];Tc=0,il=Df(),ll={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Tc++,t.then(sh,sh),t}function sh(){if(--Tc===0&&Eu!==null){ll!==null&&(ll.status="fulfilled");var e=Eu;Eu=null,il=0,ll=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ig(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var ch=I.S;I.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zg(e,t),ch!==null&&ch(e,t)};var wi=J(null);function Cc(){var e=wi.current;return e!==null?e:St.pooledCache}function Ko(e,t){t===null?oe(wi,wi.current):oe(wi,t.pool)}function fh(){var e=Cc();return e===null?null:{parent:Gt._currentValue,pool:e}}var xu=Error(u(460)),dh=Error(u(474)),Yo=Error(u(542)),Rc={then:function(){}};function hh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Go(){}function yh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Go,Go),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ph(e),e;default:if(typeof t.status=="string")t.then(Go,Go);else{if(e=St,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ph(e),e}throw Au=t,xu}}var Au=null;function vh(){if(Au===null)throw Error(u(459));var e=Au;return Au=null,e}function ph(e){if(e===xu||e===Yo)throw Error(u(483))}var Ua=!1;function Dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ka(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ft&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Vn(e),Ft(e,null,n),t}return Nt(e,a,t,n),Vn(e)}function Ou(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ni(e,n)}}function jc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var S={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?s=d=S:d=d.next=S,n=n.next}while(n!==null);d===null?s=d=t:d=d.next=t}else s=d=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:d,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Uc=!1;function Tu(){if(Uc){var e=ll;if(e!==null)throw e}}function Cu(e,t,n,a){Uc=!1;var s=e.updateQueue;Ua=!1;var d=s.firstBaseUpdate,S=s.lastBaseUpdate,O=s.shared.pending;if(O!==null){s.shared.pending=null;var j=O,P=j.next;j.next=null,S===null?d=P:S.next=P,S=j;var ue=e.alternate;ue!==null&&(ue=ue.updateQueue,O=ue.lastBaseUpdate,O!==S&&(O===null?ue.firstBaseUpdate=P:O.next=P,ue.lastBaseUpdate=j))}if(d!==null){var ce=s.baseState;S=0,ue=P=j=null,O=d;do{var F=O.lane&-536870913,W=F!==O.lane;if(W?(ut&F)===F:(a&F)===F){F!==0&&F===il&&(Uc=!0),ue!==null&&(ue=ue.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ie=e,Ve=O;F=t;var vt=n;switch(Ve.tag){case 1:if(Ie=Ve.payload,typeof Ie=="function"){ce=Ie.call(vt,ce,F);break e}ce=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ve.payload,F=typeof Ie=="function"?Ie.call(vt,ce,F):Ie,F==null)break e;ce=y({},ce,F);break e;case 2:Ua=!0}}F=O.callback,F!==null&&(e.flags|=64,W&&(e.flags|=8192),W=s.callbacks,W===null?s.callbacks=[F]:W.push(F))}else W={lane:F,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ue===null?(P=ue=W,j=ce):ue=ue.next=W,S|=F;if(O=O.next,O===null){if(O=s.shared.pending,O===null)break;W=O,O=W.next,W.next=null,s.lastBaseUpdate=W,s.shared.pending=null}}while(!0);ue===null&&(j=ce),s.baseState=j,s.firstBaseUpdate=P,s.lastBaseUpdate=ue,d===null&&(s.shared.lanes=0),Ga|=S,e.lanes=S,e.memoizedState=ce}}function mh(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function gh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)mh(n[e],t)}var ul=J(null),Qo=J(0);function bh(e,t){e=aa,oe(Qo,e),oe(ul,t),aa=e|t.baseLanes}function Nc(){oe(Qo,aa),oe(ul,ul.current)}function kc(){aa=Qo.current,ne(ul),ne(Qo)}var za=0,We=null,ht=null,Lt=null,Vo=!1,ol=!1,Ei=!1,Xo=0,Ru=0,sl=null,Pg=0;function kt(){throw Error(u(321))}function zc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function Bc(e,t,n,a,s,d){return za=d,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?ny:ry,Ei=!1,d=n(a,s),Ei=!1,ol&&(d=Sh(t,n,a,s)),_h(e),d}function _h(e){I.H=Fo;var t=ht!==null&&ht.next!==null;if(za=0,Lt=ht=We=null,Vo=!1,Ru=0,sl=null,t)throw Error(u(300));e===null||Wt||(e=e.dependencies,e!==null&&Lo(e)&&(Wt=!0))}function Sh(e,t,n,a){We=e;var s=0;do{if(ol&&(sl=null),Ru=0,ol=!1,25<=s)throw Error(u(301));if(s+=1,Lt=ht=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}I.H=n0,d=t(n,a)}while(ol);return d}function $g(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?Du(t):t,e=e.useState()[0],(ht!==null?ht.memoizedState:null)!==e&&(We.flags|=1024),t}function qc(){var e=Xo!==0;return Xo=0,e}function Lc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hc(e){if(Vo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Vo=!1}za=0,Lt=ht=We=null,ol=!1,Ru=Xo=0,sl=null}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?We.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Ht(){if(ht===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=Lt===null?We.memoizedState:Lt.next;if(t!==null)Lt=t,ht=e;else{if(e===null)throw We.alternate===null?Error(u(467)):Error(u(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Lt===null?We.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(e){var t=Ru;return Ru+=1,sl===null&&(sl=[]),e=yh(sl,e,t),t=We,(Lt===null?t.memoizedState:Lt.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?ny:ry),e}function Zo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Du(e);if(e.$$typeof===K)return fn(e)}throw Error(u(438,String(e)))}function Yc(e){var t=null,n=We.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=We.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Kc(),We.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Ce;return t.index++,n}function Fr(e,t){return typeof t=="function"?t(e):t}function Io(e){var t=Ht();return Gc(t,ht,e)}function Gc(e,t,n){var a=e.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=n;var s=e.baseQueue,d=a.pending;if(d!==null){if(s!==null){var S=s.next;s.next=d.next,d.next=S}t.baseQueue=s=d,a.pending=null}if(d=e.baseState,s===null)e.memoizedState=d;else{t=s.next;var O=S=null,j=null,P=t,ue=!1;do{var ce=P.lane&-536870913;if(ce!==P.lane?(ut&ce)===ce:(za&ce)===ce){var F=P.revertLane;if(F===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),ce===il&&(ue=!0);else if((za&F)===F){P=P.next,F===il&&(ue=!0);continue}else ce={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},j===null?(O=j=ce,S=d):j=j.next=ce,We.lanes|=F,Ga|=F;ce=P.action,Ei&&n(d,ce),d=P.hasEagerState?P.eagerState:n(d,ce)}else F={lane:ce,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},j===null?(O=j=F,S=d):j=j.next=F,We.lanes|=ce,Ga|=ce;P=P.next}while(P!==null&&P!==t);if(j===null?S=d:j.next=O,!cn(d,e.memoizedState)&&(Wt=!0,ue&&(n=ll,n!==null)))throw n;e.memoizedState=d,e.baseState=S,e.baseQueue=j,a.lastRenderedState=d}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Qc(e){var t=Ht(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,d=t.memoizedState;if(s!==null){n.pending=null;var S=s=s.next;do d=e(d,S.action),S=S.next;while(S!==s);cn(d,t.memoizedState)||(Wt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,a]}function wh(e,t,n){var a=We,s=Ht(),d=ct;if(d){if(n===void 0)throw Error(u(407));n=n()}else n=t();var S=!cn((ht||s).memoizedState,n);S&&(s.memoizedState=n,Wt=!0),s=s.queue;var O=Ah.bind(null,a,s,e);if(Mu(2048,8,O,[e]),s.getSnapshot!==t||S||Lt!==null&&Lt.memoizedState.tag&1){if(a.flags|=2048,cl(9,Po(),xh.bind(null,a,s,n,t),null),St===null)throw Error(u(349));d||(za&124)!==0||Eh(a,t,n)}return n}function Eh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t=Kc(),We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xh(e,t,n,a){t.value=n,t.getSnapshot=a,Oh(t)&&Th(e)}function Ah(e,t,n){return n(function(){Oh(t)&&Th(e)})}function Oh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function Th(e){var t=tr(e,2);t!==null&&Un(t,e,2)}function Vc(e){var t=_n();if(typeof e=="function"){var n=e;if(e=n(),Ei){qn(!0);try{n()}finally{qn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t}function Ch(e,t,n,a){return e.baseState=n,Gc(e,ht,typeof a=="function"?a:Fr)}function Jg(e,t,n,a,s){if(Jo(e))throw Error(u(485));if(e=t.action,e!==null){var d={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){d.listeners.push(S)}};I.T!==null?n(!0):d.isTransition=!1,a(d),n=t.pending,n===null?(d.next=t.pending=d,Rh(t,d)):(d.next=n.next,t.pending=n.next=d)}}function Rh(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var d=I.T,S={};I.T=S;try{var O=n(s,a),j=I.S;j!==null&&j(S,O),Dh(e,t,O)}catch(P){Xc(e,t,P)}finally{I.T=d}}else try{d=n(s,a),Dh(e,t,d)}catch(P){Xc(e,t,P)}}function Dh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Mh(e,t,a)},function(a){return Xc(e,t,a)}):Mh(e,t,n)}function Mh(e,t,n){t.status="fulfilled",t.value=n,jh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Rh(e,n)))}function Xc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,jh(t),t=t.next;while(t!==a)}e.action=null}function jh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Uh(e,t){return t}function Nh(e,t){if(ct){var n=St.formState;if(n!==null){e:{var a=We;if(ct){if(Rt){t:{for(var s=Rt,d=gr;s.nodeType!==8;){if(!d){s=null;break t}if(s=rr(s.nextSibling),s===null){s=null;break t}}d=s.data,s=d==="F!"||d==="F"?s:null}if(s){Rt=rr(s.nextSibling),a=s.data==="F!";break e}}bi(a)}a=!1}a&&(t=n[0])}}return n=_n(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uh,lastRenderedState:t},n.queue=a,n=Wh.bind(null,We,a),a.dispatch=n,a=Vc(!1),d=Jc.bind(null,We,!1,a.queue),a=_n(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=Jg.bind(null,We,s,d,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function kh(e){var t=Ht();return zh(t,ht,e)}function zh(e,t,n){if(t=Gc(e,t,Uh)[0],e=Io(Fr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Du(t)}catch(S){throw S===xu?Yo:S}else a=t;t=Ht();var s=t.queue,d=s.dispatch;return n!==t.memoizedState&&(We.flags|=2048,cl(9,Po(),Fg.bind(null,s,n),null)),[a,d,e]}function Fg(e,t){e.action=t}function Bh(e){var t=Ht(),n=ht;if(n!==null)return zh(t,n,e);Ht(),t=t.memoizedState,n=Ht();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function cl(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=We.updateQueue,t===null&&(t=Kc(),We.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Po(){return{destroy:void 0,resource:void 0}}function qh(){return Ht().memoizedState}function $o(e,t,n,a){var s=_n();a=a===void 0?null:a,We.flags|=e,s.memoizedState=cl(1|t,Po(),n,a)}function Mu(e,t,n,a){var s=Ht();a=a===void 0?null:a;var d=s.memoizedState.inst;ht!==null&&a!==null&&zc(a,ht.memoizedState.deps)?s.memoizedState=cl(t,d,n,a):(We.flags|=e,s.memoizedState=cl(1|t,d,n,a))}function Lh(e,t){$o(8390656,8,e,t)}function Hh(e,t){Mu(2048,8,e,t)}function Kh(e,t){return Mu(4,2,e,t)}function Yh(e,t){return Mu(4,4,e,t)}function Gh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qh(e,t,n){n=n!=null?n.concat([e]):null,Mu(4,4,Gh.bind(null,t,e),n)}function Zc(){}function Vh(e,t){var n=Ht();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&zc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Xh(e,t){var n=Ht();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&zc(t,a[1]))return a[0];if(a=e(),Ei){qn(!0);try{e()}finally{qn(!1)}}return n.memoizedState=[a,t],a}function Ic(e,t,n){return n===void 0||(za&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Py(),We.lanes|=e,Ga|=e,n)}function Zh(e,t,n,a){return cn(n,t)?n:ul.current!==null?(e=Ic(e,n,a),cn(e,t)||(Wt=!0),e):(za&42)===0?(Wt=!0,e.memoizedState=n):(e=Py(),We.lanes|=e,Ga|=e,t)}function Ih(e,t,n,a,s){var d=ye.p;ye.p=d!==0&&8>d?d:8;var S=I.T,O={};I.T=O,Jc(e,!1,t,n);try{var j=s(),P=I.S;if(P!==null&&P(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ue=Ig(j,a);ju(e,t,ue,jn(e))}else ju(e,t,a,jn(e))}catch(ce){ju(e,t,{then:function(){},status:"rejected",reason:ce},jn())}finally{ye.p=d,I.T=S}}function Wg(){}function Pc(e,t,n,a){if(e.tag!==5)throw Error(u(476));var s=Ph(e).queue;Ih(e,s,t,Re,n===null?Wg:function(){return $h(e),n(a)})}function Ph(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:Re},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $h(e){var t=Ph(e).next.queue;ju(e,t,{},jn())}function $c(){return fn($u)}function Jh(){return Ht().memoizedState}function Fh(){return Ht().memoizedState}function e0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=jn();e=Na(n);var a=ka(t,e,n);a!==null&&(Un(a,t,n),Ou(a,t,n)),t={cache:Oc()},e.payload=t;return}t=t.return}}function t0(e,t,n){var a=jn();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?ey(t,n):(n=qt(e,t,n,a),n!==null&&(Un(n,e,a),ty(n,t,a)))}function Wh(e,t,n){var a=jn();ju(e,t,n,a)}function ju(e,t,n,a){var s={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))ey(t,s);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var S=t.lastRenderedState,O=d(S,n);if(s.hasEagerState=!0,s.eagerState=O,cn(O,S))return Nt(e,t,s,0),St===null&&Ze(),!1}catch{}finally{}if(n=qt(e,t,s,a),n!==null)return Un(n,e,a),ty(n,t,a),!0}return!1}function Jc(e,t,n,a){if(a={lane:2,revertLane:Df(),action:a,hasEagerState:!1,eagerState:null,next:null},Jo(e)){if(t)throw Error(u(479))}else t=qt(e,n,a,2),t!==null&&Un(t,e,2)}function Jo(e){var t=e.alternate;return e===We||t!==null&&t===We}function ey(e,t){ol=Vo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ty(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ni(e,n)}}var Fo={readContext:fn,use:Zo,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},ny={readContext:fn,use:Zo,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:fn,useEffect:Lh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,$o(4194308,4,Gh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){$o(4,2,e,t)},useMemo:function(e,t){var n=_n();t=t===void 0?null:t;var a=e();if(Ei){qn(!0);try{e()}finally{qn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=_n();if(n!==void 0){var s=n(t);if(Ei){qn(!0);try{n(t)}finally{qn(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=t0.bind(null,We,e),[a.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:function(e){e=Vc(e);var t=e.queue,n=Wh.bind(null,We,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Zc,useDeferredValue:function(e,t){var n=_n();return Ic(n,e,t)},useTransition:function(){var e=Vc(!1);return e=Ih.bind(null,We,e.queue,!0,!1),_n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=We,s=_n();if(ct){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),St===null)throw Error(u(349));(ut&124)!==0||Eh(a,t,n)}s.memoizedState=n;var d={value:n,getSnapshot:t};return s.queue=d,Lh(Ah.bind(null,a,d,e),[e]),a.flags|=2048,cl(9,Po(),xh.bind(null,a,d,n,t),null),n},useId:function(){var e=_n(),t=St.identifierPrefix;if(ct){var n=Pr,a=Ir;n=(a&~(1<<32-Yt(a)-1)).toString(32)+n,t=""+t+"R"+n,n=Xo++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Pg++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:$c,useFormState:Nh,useActionState:Nh,useOptimistic:function(e){var t=_n();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Jc.bind(null,We,!0,n),n.dispatch=t,[e,t]},useMemoCache:Yc,useCacheRefresh:function(){return _n().memoizedState=e0.bind(null,We)}},ry={readContext:fn,use:Zo,useCallback:Vh,useContext:fn,useEffect:Hh,useImperativeHandle:Qh,useInsertionEffect:Kh,useLayoutEffect:Yh,useMemo:Xh,useReducer:Io,useRef:qh,useState:function(){return Io(Fr)},useDebugValue:Zc,useDeferredValue:function(e,t){var n=Ht();return Zh(n,ht.memoizedState,e,t)},useTransition:function(){var e=Io(Fr)[0],t=Ht().memoizedState;return[typeof e=="boolean"?e:Du(e),t]},useSyncExternalStore:wh,useId:Jh,useHostTransitionStatus:$c,useFormState:kh,useActionState:kh,useOptimistic:function(e,t){var n=Ht();return Ch(n,ht,e,t)},useMemoCache:Yc,useCacheRefresh:Fh},n0={readContext:fn,use:Zo,useCallback:Vh,useContext:fn,useEffect:Hh,useImperativeHandle:Qh,useInsertionEffect:Kh,useLayoutEffect:Yh,useMemo:Xh,useReducer:Qc,useRef:qh,useState:function(){return Qc(Fr)},useDebugValue:Zc,useDeferredValue:function(e,t){var n=Ht();return ht===null?Ic(n,e,t):Zh(n,ht.memoizedState,e,t)},useTransition:function(){var e=Qc(Fr)[0],t=Ht().memoizedState;return[typeof e=="boolean"?e:Du(e),t]},useSyncExternalStore:wh,useId:Jh,useHostTransitionStatus:$c,useFormState:Bh,useActionState:Bh,useOptimistic:function(e,t){var n=Ht();return ht!==null?Ch(n,ht,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:Fh},fl=null,Uu=0;function Wo(e){var t=Uu;return Uu+=1,fl===null&&(fl=[]),yh(fl,e,t)}function Nu(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function es(e,t){throw t.$$typeof===w?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ay(e){var t=e._init;return t(e._payload)}function iy(e){function t(Q,B){if(e){var Z=Q.deletions;Z===null?(Q.deletions=[B],Q.flags|=16):Z.push(B)}}function n(Q,B){if(!e)return null;for(;B!==null;)t(Q,B),B=B.sibling;return null}function a(Q){for(var B=new Map;Q!==null;)Q.key!==null?B.set(Q.key,Q):B.set(Q.index,Q),Q=Q.sibling;return B}function s(Q,B){return Q=Zr(Q,B),Q.index=0,Q.sibling=null,Q}function d(Q,B,Z){return Q.index=Z,e?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<B?(Q.flags|=67108866,B):Z):(Q.flags|=67108866,B)):(Q.flags|=1048576,B)}function S(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function O(Q,B,Z,se){return B===null||B.tag!==6?(B=gc(Z,Q.mode,se),B.return=Q,B):(B=s(B,Z),B.return=Q,B)}function j(Q,B,Z,se){var ze=Z.type;return ze===D?ue(Q,B,Z.props.children,se,Z.key):B!==null&&(B.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Ue&&ay(ze)===B.type)?(B=s(B,Z.props),Nu(B,Z),B.return=Q,B):(B=zo(Z.type,Z.key,Z.props,null,Q.mode,se),Nu(B,Z),B.return=Q,B)}function P(Q,B,Z,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=bc(Z,Q.mode,se),B.return=Q,B):(B=s(B,Z.children||[]),B.return=Q,B)}function ue(Q,B,Z,se,ze){return B===null||B.tag!==7?(B=vi(Z,Q.mode,se,ze),B.return=Q,B):(B=s(B,Z),B.return=Q,B)}function ce(Q,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=gc(""+B,Q.mode,Z),B.return=Q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return Z=zo(B.type,B.key,B.props,null,Q.mode,Z),Nu(Z,B),Z.return=Q,Z;case T:return B=bc(B,Q.mode,Z),B.return=Q,B;case Ue:var se=B._init;return B=se(B._payload),ce(Q,B,Z)}if(Ee(B)||Me(B))return B=vi(B,Q.mode,Z,null),B.return=Q,B;if(typeof B.then=="function")return ce(Q,Wo(B),Z);if(B.$$typeof===K)return ce(Q,Ho(Q,B),Z);es(Q,B)}return null}function F(Q,B,Z,se){var ze=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return ze!==null?null:O(Q,B,""+Z,se);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return Z.key===ze?j(Q,B,Z,se):null;case T:return Z.key===ze?P(Q,B,Z,se):null;case Ue:return ze=Z._init,Z=ze(Z._payload),F(Q,B,Z,se)}if(Ee(Z)||Me(Z))return ze!==null?null:ue(Q,B,Z,se,null);if(typeof Z.then=="function")return F(Q,B,Wo(Z),se);if(Z.$$typeof===K)return F(Q,B,Ho(Q,Z),se);es(Q,Z)}return null}function W(Q,B,Z,se,ze){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Q=Q.get(Z)||null,O(B,Q,""+se,ze);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return Q=Q.get(se.key===null?Z:se.key)||null,j(B,Q,se,ze);case T:return Q=Q.get(se.key===null?Z:se.key)||null,P(B,Q,se,ze);case Ue:var et=se._init;return se=et(se._payload),W(Q,B,Z,se,ze)}if(Ee(se)||Me(se))return Q=Q.get(Z)||null,ue(B,Q,se,ze,null);if(typeof se.then=="function")return W(Q,B,Z,Wo(se),ze);if(se.$$typeof===K)return W(Q,B,Z,Ho(B,se),ze);es(B,se)}return null}function Ie(Q,B,Z,se){for(var ze=null,et=null,Ke=B,Xe=B=0,tn=null;Ke!==null&&Xe<Z.length;Xe++){Ke.index>Xe?(tn=Ke,Ke=null):tn=Ke.sibling;var st=F(Q,Ke,Z[Xe],se);if(st===null){Ke===null&&(Ke=tn);break}e&&Ke&&st.alternate===null&&t(Q,Ke),B=d(st,B,Xe),et===null?ze=st:et.sibling=st,et=st,Ke=tn}if(Xe===Z.length)return n(Q,Ke),ct&&mi(Q,Xe),ze;if(Ke===null){for(;Xe<Z.length;Xe++)Ke=ce(Q,Z[Xe],se),Ke!==null&&(B=d(Ke,B,Xe),et===null?ze=Ke:et.sibling=Ke,et=Ke);return ct&&mi(Q,Xe),ze}for(Ke=a(Ke);Xe<Z.length;Xe++)tn=W(Ke,Q,Xe,Z[Xe],se),tn!==null&&(e&&tn.alternate!==null&&Ke.delete(tn.key===null?Xe:tn.key),B=d(tn,B,Xe),et===null?ze=tn:et.sibling=tn,et=tn);return e&&Ke.forEach(function(Fa){return t(Q,Fa)}),ct&&mi(Q,Xe),ze}function Ve(Q,B,Z,se){if(Z==null)throw Error(u(151));for(var ze=null,et=null,Ke=B,Xe=B=0,tn=null,st=Z.next();Ke!==null&&!st.done;Xe++,st=Z.next()){Ke.index>Xe?(tn=Ke,Ke=null):tn=Ke.sibling;var Fa=F(Q,Ke,st.value,se);if(Fa===null){Ke===null&&(Ke=tn);break}e&&Ke&&Fa.alternate===null&&t(Q,Ke),B=d(Fa,B,Xe),et===null?ze=Fa:et.sibling=Fa,et=Fa,Ke=tn}if(st.done)return n(Q,Ke),ct&&mi(Q,Xe),ze;if(Ke===null){for(;!st.done;Xe++,st=Z.next())st=ce(Q,st.value,se),st!==null&&(B=d(st,B,Xe),et===null?ze=st:et.sibling=st,et=st);return ct&&mi(Q,Xe),ze}for(Ke=a(Ke);!st.done;Xe++,st=Z.next())st=W(Ke,Q,Xe,st.value,se),st!==null&&(e&&st.alternate!==null&&Ke.delete(st.key===null?Xe:st.key),B=d(st,B,Xe),et===null?ze=st:et.sibling=st,et=st);return e&&Ke.forEach(function(rb){return t(Q,rb)}),ct&&mi(Q,Xe),ze}function vt(Q,B,Z,se){if(typeof Z=="object"&&Z!==null&&Z.type===D&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:e:{for(var ze=Z.key;B!==null;){if(B.key===ze){if(ze=Z.type,ze===D){if(B.tag===7){n(Q,B.sibling),se=s(B,Z.props.children),se.return=Q,Q=se;break e}}else if(B.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Ue&&ay(ze)===B.type){n(Q,B.sibling),se=s(B,Z.props),Nu(se,Z),se.return=Q,Q=se;break e}n(Q,B);break}else t(Q,B);B=B.sibling}Z.type===D?(se=vi(Z.props.children,Q.mode,se,Z.key),se.return=Q,Q=se):(se=zo(Z.type,Z.key,Z.props,null,Q.mode,se),Nu(se,Z),se.return=Q,Q=se)}return S(Q);case T:e:{for(ze=Z.key;B!==null;){if(B.key===ze)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){n(Q,B.sibling),se=s(B,Z.children||[]),se.return=Q,Q=se;break e}else{n(Q,B);break}else t(Q,B);B=B.sibling}se=bc(Z,Q.mode,se),se.return=Q,Q=se}return S(Q);case Ue:return ze=Z._init,Z=ze(Z._payload),vt(Q,B,Z,se)}if(Ee(Z))return Ie(Q,B,Z,se);if(Me(Z)){if(ze=Me(Z),typeof ze!="function")throw Error(u(150));return Z=ze.call(Z),Ve(Q,B,Z,se)}if(typeof Z.then=="function")return vt(Q,B,Wo(Z),se);if(Z.$$typeof===K)return vt(Q,B,Ho(Q,Z),se);es(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,B!==null&&B.tag===6?(n(Q,B.sibling),se=s(B,Z),se.return=Q,Q=se):(n(Q,B),se=gc(Z,Q.mode,se),se.return=Q,Q=se),S(Q)):n(Q,B)}return function(Q,B,Z,se){try{Uu=0;var ze=vt(Q,B,Z,se);return fl=null,ze}catch(Ke){if(Ke===xu||Ke===Yo)throw Ke;var et=Cn(29,Ke,null,Q.mode);return et.lanes=se,et.return=Q,et}finally{}}}var dl=iy(!0),ly=iy(!1),In=J(null),br=null;function Ba(e){var t=e.alternate;oe(Qt,Qt.current&1),oe(In,e),br===null&&(t===null||ul.current!==null||t.memoizedState!==null)&&(br=e)}function uy(e){if(e.tag===22){if(oe(Qt,Qt.current),oe(In,e),br===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(br=e)}}else qa()}function qa(){oe(Qt,Qt.current),oe(In,In.current)}function Wr(e){ne(In),br===e&&(br=null),ne(Qt)}var Qt=J(0);function ts(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Yf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=jn(),s=Na(a);s.payload=t,n!=null&&(s.callback=n),t=ka(e,s,a),t!==null&&(Un(t,e,a),Ou(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=jn(),s=Na(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ka(e,s,a),t!==null&&(Un(t,e,a),Ou(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jn(),a=Na(n);a.tag=2,t!=null&&(a.callback=t),t=ka(e,a,n),t!==null&&(Un(t,e,n),Ou(t,e,n))}};function oy(e,t,n,a,s,d,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,S):t.prototype&&t.prototype.isPureReactComponent?!o(n,a)||!o(s,d):!0}function sy(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Wc.enqueueReplaceState(t,t.state,null)}function xi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var ns=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cy(e){ns(e)}function fy(e){console.error(e)}function dy(e){ns(e)}function rs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function hy(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function ef(e,t,n){return n=Na(n),n.tag=3,n.payload={element:null},n.callback=function(){rs(e,t)},n}function yy(e){return e=Na(e),e.tag=3,e}function vy(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var d=a.value;e.payload=function(){return s(d)},e.callback=function(){hy(t,n,a)}}var S=n.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){hy(t,n,a),typeof s!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var O=a.stack;this.componentDidCatch(a.value,{componentStack:O!==null?O:""})})}function r0(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Su(t,n,s,!0),n=In.current,n!==null){switch(n.tag){case 13:return br===null?Af():n.alternate===null&&Dt===0&&(Dt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===Rc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Tf(e,a,s)),!1;case 22:return n.flags|=65536,a===Rc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Tf(e,a,s)),!1}throw Error(u(435,n.tag))}return Tf(e,a,s),Af(),!1}if(ct)return t=In.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==wc&&(e=Error(u(422),{cause:a}),_u(Ge(e,n)))):(a!==wc&&(t=Error(u(423),{cause:a}),_u(Ge(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=Ge(a,n),s=ef(e.stateNode,a,s),jc(e,s),Dt!==4&&(Dt=2)),!1;var d=Error(u(520),{cause:a});if(d=Ge(d,n),Ku===null?Ku=[d]:Ku.push(d),Dt!==4&&(Dt=2),t===null)return!0;a=Ge(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=ef(n.stateNode,a,e),jc(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qa===null||!Qa.has(d))))return n.flags|=65536,s&=-s,n.lanes|=s,s=yy(s),vy(s,e,n,a),jc(n,s),!1}n=n.return}while(n!==null);return!1}var py=Error(u(461)),Wt=!1;function rn(e,t,n,a){t.child=e===null?ly(t,null,n,a):dl(t,e.child,n,a)}function my(e,t,n,a,s){n=n.render;var d=t.ref;if("ref"in a){var S={};for(var O in a)O!=="ref"&&(S[O]=a[O])}else S=a;return Si(t),a=Bc(e,t,n,S,d,s),O=qc(),e!==null&&!Wt?(Lc(e,t,s),ea(e,t,s)):(ct&&O&&_c(t),t.flags|=1,rn(e,t,a,s),t.child)}function gy(e,t,n,a,s){if(e===null){var d=n.type;return typeof d=="function"&&!mc(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,by(e,t,d,a,s)):(e=zo(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!sf(e,s)){var S=d.memoizedProps;if(n=n.compare,n=n!==null?n:o,n(S,a)&&e.ref===t.ref)return ea(e,t,s)}return t.flags|=1,e=Zr(d,a),e.ref=t.ref,e.return=t,t.child=e}function by(e,t,n,a,s){if(e!==null){var d=e.memoizedProps;if(o(d,a)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=a=d,sf(e,s))(e.flags&131072)!==0&&(Wt=!0);else return t.lanes=e.lanes,ea(e,t,s)}return tf(e,t,n,a,s)}function _y(e,t,n){var a=t.pendingProps,s=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=d!==null?d.baseLanes|n:n,e!==null){for(s=t.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;t.childLanes=d&~a}else t.childLanes=0,t.child=null;return Sy(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ko(t,d!==null?d.cachePool:null),d!==null?bh(t,d):Nc(),uy(t);else return t.lanes=t.childLanes=536870912,Sy(e,t,d!==null?d.baseLanes|n:n,n)}else d!==null?(Ko(t,d.cachePool),bh(t,d),qa(),t.memoizedState=null):(e!==null&&Ko(t,null),Nc(),qa());return rn(e,t,s,n),t.child}function Sy(e,t,n,a){var s=Cc();return s=s===null?null:{parent:Gt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Ko(t,null),Nc(),uy(t),e!==null&&Su(e,t,a,!0),null}function as(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(u(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function tf(e,t,n,a,s){return Si(t),n=Bc(e,t,n,a,void 0,s),a=qc(),e!==null&&!Wt?(Lc(e,t,s),ea(e,t,s)):(ct&&a&&_c(t),t.flags|=1,rn(e,t,n,s),t.child)}function wy(e,t,n,a,s,d){return Si(t),t.updateQueue=null,n=Sh(t,a,n,s),_h(e),a=qc(),e!==null&&!Wt?(Lc(e,t,d),ea(e,t,d)):(ct&&a&&_c(t),t.flags|=1,rn(e,t,n,d),t.child)}function Ey(e,t,n,a,s){if(Si(t),t.stateNode===null){var d=mr,S=n.contextType;typeof S=="object"&&S!==null&&(d=fn(S)),d=new n(a,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=a,d.state=t.memoizedState,d.refs={},Dc(t),S=n.contextType,d.context=typeof S=="object"&&S!==null?fn(S):mr,d.state=t.memoizedState,S=n.getDerivedStateFromProps,typeof S=="function"&&(Fc(t,n,S,a),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(S=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),S!==d.state&&Wc.enqueueReplaceState(d,d.state,null),Cu(t,a,d,s),Tu(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){d=t.stateNode;var O=t.memoizedProps,j=xi(n,O);d.props=j;var P=d.context,ue=n.contextType;S=mr,typeof ue=="object"&&ue!==null&&(S=fn(ue));var ce=n.getDerivedStateFromProps;ue=typeof ce=="function"||typeof d.getSnapshotBeforeUpdate=="function",O=t.pendingProps!==O,ue||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(O||P!==S)&&sy(t,d,a,S),Ua=!1;var F=t.memoizedState;d.state=F,Cu(t,a,d,s),Tu(),P=t.memoizedState,O||F!==P||Ua?(typeof ce=="function"&&(Fc(t,n,ce,a),P=t.memoizedState),(j=Ua||oy(t,n,j,a,F,P,S))?(ue||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=P),d.props=a,d.state=P,d.context=S,a=j):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{d=t.stateNode,Mc(e,t),S=t.memoizedProps,ue=xi(n,S),d.props=ue,ce=t.pendingProps,F=d.context,P=n.contextType,j=mr,typeof P=="object"&&P!==null&&(j=fn(P)),O=n.getDerivedStateFromProps,(P=typeof O=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S!==ce||F!==j)&&sy(t,d,a,j),Ua=!1,F=t.memoizedState,d.state=F,Cu(t,a,d,s),Tu();var W=t.memoizedState;S!==ce||F!==W||Ua||e!==null&&e.dependencies!==null&&Lo(e.dependencies)?(typeof O=="function"&&(Fc(t,n,O,a),W=t.memoizedState),(ue=Ua||oy(t,n,ue,a,F,W,j)||e!==null&&e.dependencies!==null&&Lo(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,W,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,W,j)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||S===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=W),d.props=a,d.state=W,d.context=j,a=ue):(typeof d.componentDidUpdate!="function"||S===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),a=!1)}return d=a,as(e,t),a=(t.flags&128)!==0,d||a?(d=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&a?(t.child=dl(t,e.child,null,s),t.child=dl(t,null,n,s)):rn(e,t,n,s),t.memoizedState=d.state,e=t.child):e=ea(e,t,s),e}function xy(e,t,n,a){return bu(),t.flags|=256,rn(e,t,n,a),t.child}var nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rf(e){return{baseLanes:e,cachePool:fh()}}function af(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Pn),e}function Ay(e,t,n){var a=t.pendingProps,s=!1,d=(t.flags&128)!==0,S;if((S=d)||(S=e!==null&&e.memoizedState===null?!1:(Qt.current&2)!==0),S&&(s=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(ct){if(s?Ba(t):qa(),ct){var O=Rt,j;if(j=O){e:{for(j=O,O=gr;j.nodeType!==8;){if(!O){O=null;break e}if(j=rr(j.nextSibling),j===null){O=null;break e}}O=j}O!==null?(t.memoizedState={dehydrated:O,treeContext:pi!==null?{id:Ir,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},j=Cn(18,null,null,0),j.stateNode=O,j.return=t,t.child=j,gn=t,Rt=null,j=!0):j=!1}j||bi(t)}if(O=t.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Yf(O)?t.lanes=32:t.lanes=536870912,null;Wr(t)}return O=a.children,a=a.fallback,s?(qa(),s=t.mode,O=is({mode:"hidden",children:O},s),a=vi(a,s,n,null),O.return=t,a.return=t,O.sibling=a,t.child=O,s=t.child,s.memoizedState=rf(n),s.childLanes=af(e,S,n),t.memoizedState=nf,a):(Ba(t),lf(t,O))}if(j=e.memoizedState,j!==null&&(O=j.dehydrated,O!==null)){if(d)t.flags&256?(Ba(t),t.flags&=-257,t=uf(e,t,n)):t.memoizedState!==null?(qa(),t.child=e.child,t.flags|=128,t=null):(qa(),s=a.fallback,O=t.mode,a=is({mode:"visible",children:a.children},O),s=vi(s,O,n,null),s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,dl(t,e.child,null,n),a=t.child,a.memoizedState=rf(n),a.childLanes=af(e,S,n),t.memoizedState=nf,t=s);else if(Ba(t),Yf(O)){if(S=O.nextSibling&&O.nextSibling.dataset,S)var P=S.dgst;S=P,a=Error(u(419)),a.stack="",a.digest=S,_u({value:a,source:null,stack:null}),t=uf(e,t,n)}else if(Wt||Su(e,t,n,!1),S=(n&e.childLanes)!==0,Wt||S){if(S=St,S!==null&&(a=n&-n,a=(a&42)!==0?1:Il(a),a=(a&(S.suspendedLanes|n))!==0?0:a,a!==0&&a!==j.retryLane))throw j.retryLane=a,tr(e,a),Un(S,e,a),py;O.data==="$?"||Af(),t=uf(e,t,n)}else O.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,Rt=rr(O.nextSibling),gn=t,ct=!0,gi=null,gr=!1,e!==null&&(Xn[Zn++]=Ir,Xn[Zn++]=Pr,Xn[Zn++]=pi,Ir=e.id,Pr=e.overflow,pi=t),t=lf(t,a.children),t.flags|=4096);return t}return s?(qa(),s=a.fallback,O=t.mode,j=e.child,P=j.sibling,a=Zr(j,{mode:"hidden",children:a.children}),a.subtreeFlags=j.subtreeFlags&65011712,P!==null?s=Zr(P,s):(s=vi(s,O,n,null),s.flags|=2),s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,O=e.child.memoizedState,O===null?O=rf(n):(j=O.cachePool,j!==null?(P=Gt._currentValue,j=j.parent!==P?{parent:P,pool:P}:j):j=fh(),O={baseLanes:O.baseLanes|n,cachePool:j}),s.memoizedState=O,s.childLanes=af(e,S,n),t.memoizedState=nf,a):(Ba(t),n=e.child,e=n.sibling,n=Zr(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=n,t.memoizedState=null,n)}function lf(e,t){return t=is({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function is(e,t){return e=Cn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function uf(e,t,n){return dl(t,e.child,null,n),e=lf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Oy(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),xc(e.return,t,n)}function of(e,t,n,a,s){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=n,d.tailMode=s)}function Ty(e,t,n){var a=t.pendingProps,s=a.revealOrder,d=a.tail;if(rn(e,t,a.children,n),a=Qt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oy(e,n,t);else if(e.tag===19)Oy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(oe(Qt,a),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ts(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),of(t,!1,s,n,d);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ts(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}of(t,!0,n,null,d);break;case"together":of(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ea(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ga|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Su(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=Zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Lo(e)))}function a0(e,t,n){switch(t.tag){case 3:_t(t,t.stateNode.containerInfo),ja(t,Gt,e.memoizedState.cache),bu();break;case 27:case 5:Mi(t);break;case 4:_t(t,t.stateNode.containerInfo);break;case 10:ja(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ba(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Ay(e,t,n):(Ba(t),e=ea(e,t,n),e!==null?e.sibling:null);Ba(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Su(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return Ty(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(Qt,Qt.current),a)break;return null;case 22:case 23:return t.lanes=0,_y(e,t,n);case 24:ja(t,Gt,e.memoizedState.cache)}return ea(e,t,n)}function Cy(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Wt=!0;else{if(!sf(e,n)&&(t.flags&128)===0)return Wt=!1,a0(e,t,n);Wt=(e.flags&131072)!==0}else Wt=!1,ct&&(t.flags&1048576)!==0&&ah(t,qo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,s=a._init;if(a=s(a._payload),t.type=a,typeof a=="function")mc(a)?(e=xi(a,e),t.tag=1,t=Ey(null,t,a,e,n)):(t.tag=0,t=tf(null,t,a,e,n));else{if(a!=null){if(s=a.$$typeof,s===fe){t.tag=11,t=my(null,t,a,e,n);break e}else if(s===xe){t.tag=14,t=gy(null,t,a,e,n);break e}}throw t=me(a)||a,Error(u(306,t,""))}}return t;case 0:return tf(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=xi(a,t.pendingProps),Ey(e,t,a,s,n);case 3:e:{if(_t(t,t.stateNode.containerInfo),e===null)throw Error(u(387));a=t.pendingProps;var d=t.memoizedState;s=d.element,Mc(e,t),Cu(t,a,null,n);var S=t.memoizedState;if(a=S.cache,ja(t,Gt,a),a!==d.cache&&Ac(t,[Gt],n,!0),Tu(),a=S.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=xy(e,t,a,n);break e}else if(a!==s){s=Ge(Error(u(424)),t),_u(s),t=xy(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rt=rr(e.firstChild),gn=t,ct=!0,gi=null,gr=!0,n=ly(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(bu(),a===s){t=ea(e,t,n);break e}rn(e,t,a,n)}t=t.child}return t;case 26:return as(e,t),e===null?(n=jv(t.type,null,t.pendingProps,null))?t.memoizedState=n:ct||(n=t.type,e=t.pendingProps,a=bs(He.current).createElement(n),a[Ut]=t,a[Fe]=e,ln(a,n,e),mt(a),t.stateNode=a):t.memoizedState=jv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Mi(t),e===null&&ct&&(a=t.stateNode=Rv(t.type,t.pendingProps,He.current),gn=t,gr=!0,s=Rt,Za(t.type)?(Gf=s,Rt=rr(a.firstChild)):Rt=s),rn(e,t,t.pendingProps.children,n),as(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ct&&((s=a=Rt)&&(a=j0(a,t.type,t.pendingProps,gr),a!==null?(t.stateNode=a,gn=t,Rt=rr(a.firstChild),gr=!1,s=!0):s=!1),s||bi(t)),Mi(t),s=t.type,d=t.pendingProps,S=e!==null?e.memoizedProps:null,a=d.children,Lf(s,d)?a=null:S!==null&&Lf(s,S)&&(t.flags|=32),t.memoizedState!==null&&(s=Bc(e,t,$g,null,null,n),$u._currentValue=s),as(e,t),rn(e,t,a,n),t.child;case 6:return e===null&&ct&&((e=n=Rt)&&(n=U0(n,t.pendingProps,gr),n!==null?(t.stateNode=n,gn=t,Rt=null,e=!0):e=!1),e||bi(t)),null;case 13:return Ay(e,t,n);case 4:return _t(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=dl(t,null,a,n):rn(e,t,a,n),t.child;case 11:return my(e,t,t.type,t.pendingProps,n);case 7:return rn(e,t,t.pendingProps,n),t.child;case 8:return rn(e,t,t.pendingProps.children,n),t.child;case 12:return rn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ja(t,t.type,a.value),rn(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Si(t),s=fn(s),a=a(s),t.flags|=1,rn(e,t,a,n),t.child;case 14:return gy(e,t,t.type,t.pendingProps,n);case 15:return by(e,t,t.type,t.pendingProps,n);case 19:return Ty(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=is(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Zr(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return _y(e,t,n);case 24:return Si(t),a=fn(Gt),e===null?(s=Cc(),s===null&&(s=St,d=Oc(),s.pooledCache=d,d.refCount++,d!==null&&(s.pooledCacheLanes|=n),s=d),t.memoizedState={parent:a,cache:s},Dc(t),ja(t,Gt,s)):((e.lanes&n)!==0&&(Mc(e,t),Cu(t,null,null,n),Tu()),s=e.memoizedState,d=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ja(t,Gt,a)):(a=d.cache,ja(t,Gt,a),a!==s.cache&&Ac(t,[Gt],n,!0))),rn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function ta(e){e.flags|=4}function Ry(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bv(t)){if(t=In.current,t!==null&&((ut&4194048)===ut?br!==null:(ut&62914560)!==ut&&(ut&536870912)===0||t!==br))throw Au=Rc,dh;e.flags|=8192}}function ls(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?De():536870912,e.lanes|=t,pl|=t)}function ku(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function i0(e,t,n){var a=t.pendingProps;switch(Sc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Tt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Jr(Gt),qe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gu(t)?ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,uh())),Tt(t),null;case 26:return n=t.memoizedState,e===null?(ta(t),n!==null?(Tt(t),Ry(t,n)):(Tt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ta(t),Tt(t),Ry(t,n)):(Tt(t),t.flags&=-16777217):(e.memoizedProps!==a&&ta(t),Tt(t),t.flags&=-16777217),null;case 27:Cr(t),n=He.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ta(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Tt(t),null}e=Te.current,gu(t)?ih(t):(e=Rv(s,a,n),t.stateNode=e,ta(t))}return Tt(t),null;case 5:if(Cr(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ta(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Tt(t),null}if(e=Te.current,gu(t))ih(t);else{switch(s=bs(He.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?s.createElement(n,{is:a.is}):s.createElement(n)}}e[Ut]=t,e[Fe]=a;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(ln(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ta(t)}}return Tt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ta(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(u(166));if(e=He.current,gu(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=gn,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Ut]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||wv(e.nodeValue,n)),e||bi(t)}else e=bs(e).createTextNode(a),e[Ut]=t,t.stateNode=e}return Tt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=gu(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(u(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(u(317));s[Ut]=t}else bu(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Tt(t),s=!1}else s=uh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Wr(t),t):(Wr(t),null)}if(Wr(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool);var d=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==s&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ls(t,t.updateQueue),Tt(t),null;case 4:return qe(),e===null&&Nf(t.stateNode.containerInfo),Tt(t),null;case 10:return Jr(t.type),Tt(t),null;case 19:if(ne(Qt),s=t.memoizedState,s===null)return Tt(t),null;if(a=(t.flags&128)!==0,d=s.rendering,d===null)if(a)ku(s,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=ts(e),d!==null){for(t.flags|=128,ku(s,!1),e=d.updateQueue,t.updateQueue=e,ls(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)rh(n,e),n=n.sibling;return oe(Qt,Qt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Bn()>ss&&(t.flags|=128,a=!0,ku(s,!1),t.lanes=4194304)}else{if(!a)if(e=ts(d),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ls(t,e),ku(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!ct)return Tt(t),null}else 2*Bn()-s.renderingStartTime>ss&&n!==536870912&&(t.flags|=128,a=!0,ku(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Bn(),t.sibling=null,e=Qt.current,oe(Qt,a?e&1|2:e&1),t):(Tt(t),null);case 22:case 23:return Wr(t),kc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),n=t.updateQueue,n!==null&&ls(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&ne(wi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Jr(Gt),Tt(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function l0(e,t){switch(Sc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jr(Gt),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Cr(t),null;case 13:if(Wr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));bu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(Qt),null;case 4:return qe(),null;case 10:return Jr(t.type),null;case 22:case 23:return Wr(t),kc(),e!==null&&ne(wi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Jr(Gt),null;case 25:return null;default:return null}}function Dy(e,t){switch(Sc(t),t.tag){case 3:Jr(Gt),qe();break;case 26:case 27:case 5:Cr(t);break;case 4:qe();break;case 13:Wr(t);break;case 19:ne(Qt);break;case 10:Jr(t.type);break;case 22:case 23:Wr(t),kc(),e!==null&&ne(wi);break;case 24:Jr(Gt)}}function zu(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var d=n.create,S=n.inst;a=d(),S.destroy=a}n=n.next}while(n!==s)}}catch(O){bt(t,t.return,O)}}function La(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var d=s.next;a=d;do{if((a.tag&e)===e){var S=a.inst,O=S.destroy;if(O!==void 0){S.destroy=void 0,s=t;var j=n,P=O;try{P()}catch(ue){bt(s,j,ue)}}}a=a.next}while(a!==d)}}catch(ue){bt(t,t.return,ue)}}function My(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{gh(t,n)}catch(a){bt(e,e.return,a)}}}function jy(e,t,n){n.props=xi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){bt(e,t,a)}}function Bu(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){bt(e,t,s)}}function _r(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){bt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){bt(e,t,s)}else n.current=null}function Uy(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){bt(e,e.return,s)}}function cf(e,t,n){try{var a=e.stateNode;T0(a,e.type,n,t),a[Fe]=t}catch(s){bt(e,e.return,s)}}function Ny(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Za(e.type)||e.tag===4}function ff(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function df(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gs));else if(a!==4&&(a===27&&Za(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(df(e,t,n),e=e.sibling;e!==null;)df(e,t,n),e=e.sibling}function us(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Za(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(us(e,t,n),e=e.sibling;e!==null;)us(e,t,n),e=e.sibling}function ky(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ln(t,a,n),t[Ut]=e,t[Fe]=n}catch(d){bt(e,e.return,d)}}var na=!1,zt=!1,hf=!1,zy=typeof WeakSet=="function"?WeakSet:Set,en=null;function u0(e,t){if(e=e.containerInfo,Bf=As,e=E(e),A(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var S=0,O=-1,j=-1,P=0,ue=0,ce=e,F=null;t:for(;;){for(var W;ce!==n||s!==0&&ce.nodeType!==3||(O=S+s),ce!==d||a!==0&&ce.nodeType!==3||(j=S+a),ce.nodeType===3&&(S+=ce.nodeValue.length),(W=ce.firstChild)!==null;)F=ce,ce=W;for(;;){if(ce===e)break t;if(F===n&&++P===s&&(O=S),F===d&&++ue===a&&(j=S),(W=ce.nextSibling)!==null)break;ce=F,F=ce.parentNode}ce=W}n=O===-1||j===-1?null:{start:O,end:j}}else n=null}n=n||{start:0,end:0}}else n=null;for(qf={focusedElem:e,selectionRange:n},As=!1,en=t;en!==null;)if(t=en,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,en=e;else for(;en!==null;){switch(t=en,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,s=d.memoizedProps,d=d.memoizedState,a=n.stateNode;try{var Ie=xi(n.type,s,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(Ie,d),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ve){bt(n,n.return,Ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Kf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,en=e;break}en=t.return}}function By(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ha(e,n),a&4&&zu(5,n);break;case 1:if(Ha(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(S){bt(n,n.return,S)}else{var s=xi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){bt(n,n.return,S)}}a&64&&My(n),a&512&&Bu(n,n.return);break;case 3:if(Ha(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{gh(e,t)}catch(S){bt(n,n.return,S)}}break;case 27:t===null&&a&4&&ky(n);case 26:case 5:Ha(e,n),t===null&&a&4&&Uy(n),a&512&&Bu(n,n.return);break;case 12:Ha(e,n);break;case 13:Ha(e,n),a&4&&Hy(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=p0.bind(null,n),N0(e,n))));break;case 22:if(a=n.memoizedState!==null||na,!a){t=t!==null&&t.memoizedState!==null||zt,s=na;var d=zt;na=a,(zt=t)&&!d?Ka(e,n,(n.subtreeFlags&8772)!==0):Ha(e,n),na=s,zt=d}break;case 30:break;default:Ha(e,n)}}function qy(e){var t=e.alternate;t!==null&&(e.alternate=null,qy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Hn(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var At=null,Sn=!1;function ra(e,t,n){for(n=n.child;n!==null;)Ly(e,t,n),n=n.sibling}function Ly(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(xn,n)}catch{}switch(n.tag){case 26:zt||_r(n,t),ra(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||_r(n,t);var a=At,s=Sn;Za(n.type)&&(At=n.stateNode,Sn=!1),ra(e,t,n),Xu(n.stateNode),At=a,Sn=s;break;case 5:zt||_r(n,t);case 6:if(a=At,s=Sn,At=null,ra(e,t,n),At=a,Sn=s,At!==null)if(Sn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(n.stateNode)}catch(d){bt(n,t,d)}else try{At.removeChild(n.stateNode)}catch(d){bt(n,t,d)}break;case 18:At!==null&&(Sn?(e=At,Tv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),eo(e)):Tv(At,n.stateNode));break;case 4:a=At,s=Sn,At=n.stateNode.containerInfo,Sn=!0,ra(e,t,n),At=a,Sn=s;break;case 0:case 11:case 14:case 15:zt||La(2,n,t),zt||La(4,n,t),ra(e,t,n);break;case 1:zt||(_r(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&jy(n,t,a)),ra(e,t,n);break;case 21:ra(e,t,n);break;case 22:zt=(a=zt)||n.memoizedState!==null,ra(e,t,n),zt=a;break;default:ra(e,t,n)}}function Hy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{eo(e)}catch(n){bt(t,t.return,n)}}function o0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zy),t;default:throw Error(u(435,e.tag))}}function yf(e,t){var n=o0(e);t.forEach(function(a){var s=m0.bind(null,e,a);n.has(a)||(n.add(a),a.then(s,s))})}function Rn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],d=e,S=t,O=S;e:for(;O!==null;){switch(O.tag){case 27:if(Za(O.type)){At=O.stateNode,Sn=!1;break e}break;case 5:At=O.stateNode,Sn=!1;break e;case 3:case 4:At=O.stateNode.containerInfo,Sn=!0;break e}O=O.return}if(At===null)throw Error(u(160));Ly(d,S,s),At=null,Sn=!1,d=s.alternate,d!==null&&(d.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ky(t,e),t=t.sibling}var nr=null;function Ky(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(t,e),Dn(e),a&4&&(La(3,e,e.return),zu(3,e),La(5,e,e.return));break;case 1:Rn(t,e),Dn(e),a&512&&(zt||n===null||_r(n,n.return)),a&64&&na&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=nr;if(Rn(t,e),Dn(e),a&512&&(zt||n===null||_r(n,n.return)),a&4){var d=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":d=s.getElementsByTagName("title")[0],(!d||d[li]||d[Ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=s.createElement(a),s.head.insertBefore(d,s.querySelector("head > title"))),ln(d,a,n),d[Ut]=e,mt(d),a=d;break e;case"link":var S=kv("link","href",s).get(a+(n.href||""));if(S){for(var O=0;O<S.length;O++)if(d=S[O],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){S.splice(O,1);break t}}d=s.createElement(a),ln(d,a,n),s.head.appendChild(d);break;case"meta":if(S=kv("meta","content",s).get(a+(n.content||""))){for(O=0;O<S.length;O++)if(d=S[O],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){S.splice(O,1);break t}}d=s.createElement(a),ln(d,a,n),s.head.appendChild(d);break;default:throw Error(u(468,a))}d[Ut]=e,mt(d),a=d}e.stateNode=a}else zv(s,e.type,e.stateNode);else e.stateNode=Nv(s,a,e.memoizedProps);else d!==a?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,a===null?zv(s,e.type,e.stateNode):Nv(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&cf(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rn(t,e),Dn(e),a&512&&(zt||n===null||_r(n,n.return)),n!==null&&a&4&&cf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rn(t,e),Dn(e),a&512&&(zt||n===null||_r(n,n.return)),e.flags&32){s=e.stateNode;try{wa(s,"")}catch(W){bt(e,e.return,W)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,cf(e,s,n!==null?n.memoizedProps:s)),a&1024&&(hf=!0);break;case 6:if(Rn(t,e),Dn(e),a&4){if(e.stateNode===null)throw Error(u(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(W){bt(e,e.return,W)}}break;case 3:if(ws=null,s=nr,nr=_s(t.containerInfo),Rn(t,e),nr=s,Dn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{eo(t.containerInfo)}catch(W){bt(e,e.return,W)}hf&&(hf=!1,Yy(e));break;case 4:a=nr,nr=_s(e.stateNode.containerInfo),Rn(t,e),Dn(e),nr=a;break;case 12:Rn(t,e),Dn(e);break;case 13:Rn(t,e),Dn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(_f=Bn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,yf(e,a)));break;case 22:s=e.memoizedState!==null;var j=n!==null&&n.memoizedState!==null,P=na,ue=zt;if(na=P||s,zt=ue||j,Rn(t,e),zt=ue,na=P,Dn(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||j||na||zt||Ai(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){j=n=t;try{if(d=j.stateNode,s)S=d.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{O=j.stateNode;var ce=j.memoizedProps.style,F=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;O.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(W){bt(j,j.return,W)}}}else if(t.tag===6){if(n===null){j=t;try{j.stateNode.nodeValue=s?"":j.memoizedProps}catch(W){bt(j,j.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,yf(e,n))));break;case 19:Rn(t,e),Dn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,yf(e,a)));break;case 30:break;case 21:break;default:Rn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Ny(a)){n=a;break}a=a.return}if(n==null)throw Error(u(160));switch(n.tag){case 27:var s=n.stateNode,d=ff(e);us(e,d,s);break;case 5:var S=n.stateNode;n.flags&32&&(wa(S,""),n.flags&=-33);var O=ff(e);us(e,O,S);break;case 3:case 4:var j=n.stateNode.containerInfo,P=ff(e);df(e,P,j);break;default:throw Error(u(161))}}catch(ue){bt(e,e.return,ue)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Yy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ha(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)By(e,t.alternate,t),t=t.sibling}function Ai(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:La(4,t,t.return),Ai(t);break;case 1:_r(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&jy(t,t.return,n),Ai(t);break;case 27:Xu(t.stateNode);case 26:case 5:_r(t,t.return),Ai(t);break;case 22:t.memoizedState===null&&Ai(t);break;case 30:Ai(t);break;default:Ai(t)}e=e.sibling}}function Ka(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,d=t,S=d.flags;switch(d.tag){case 0:case 11:case 15:Ka(s,d,n),zu(4,d);break;case 1:if(Ka(s,d,n),a=d,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(P){bt(a,a.return,P)}if(a=d,s=a.updateQueue,s!==null){var O=a.stateNode;try{var j=s.shared.hiddenCallbacks;if(j!==null)for(s.shared.hiddenCallbacks=null,s=0;s<j.length;s++)mh(j[s],O)}catch(P){bt(a,a.return,P)}}n&&S&64&&My(d),Bu(d,d.return);break;case 27:ky(d);case 26:case 5:Ka(s,d,n),n&&a===null&&S&4&&Uy(d),Bu(d,d.return);break;case 12:Ka(s,d,n);break;case 13:Ka(s,d,n),n&&S&4&&Hy(s,d);break;case 22:d.memoizedState===null&&Ka(s,d,n),Bu(d,d.return);break;case 30:break;default:Ka(s,d,n)}t=t.sibling}}function vf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&wu(n))}function pf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wu(e))}function Sr(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gy(e,t,n,a),t=t.sibling}function Gy(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Sr(e,t,n,a),s&2048&&zu(9,t);break;case 1:Sr(e,t,n,a);break;case 3:Sr(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wu(e)));break;case 12:if(s&2048){Sr(e,t,n,a),e=t.stateNode;try{var d=t.memoizedProps,S=d.id,O=d.onPostCommit;typeof O=="function"&&O(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){bt(t,t.return,j)}}else Sr(e,t,n,a);break;case 13:Sr(e,t,n,a);break;case 23:break;case 22:d=t.stateNode,S=t.alternate,t.memoizedState!==null?d._visibility&2?Sr(e,t,n,a):qu(e,t):d._visibility&2?Sr(e,t,n,a):(d._visibility|=2,hl(e,t,n,a,(t.subtreeFlags&10256)!==0)),s&2048&&vf(S,t);break;case 24:Sr(e,t,n,a),s&2048&&pf(t.alternate,t);break;default:Sr(e,t,n,a)}}function hl(e,t,n,a,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,S=t,O=n,j=a,P=S.flags;switch(S.tag){case 0:case 11:case 15:hl(d,S,O,j,s),zu(8,S);break;case 23:break;case 22:var ue=S.stateNode;S.memoizedState!==null?ue._visibility&2?hl(d,S,O,j,s):qu(d,S):(ue._visibility|=2,hl(d,S,O,j,s)),s&&P&2048&&vf(S.alternate,S);break;case 24:hl(d,S,O,j,s),s&&P&2048&&pf(S.alternate,S);break;default:hl(d,S,O,j,s)}t=t.sibling}}function qu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:qu(n,a),s&2048&&vf(a.alternate,a);break;case 24:qu(n,a),s&2048&&pf(a.alternate,a);break;default:qu(n,a)}t=t.sibling}}var Lu=8192;function yl(e){if(e.subtreeFlags&Lu)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 26:yl(e),e.flags&Lu&&e.memoizedState!==null&&Z0(nr,e.memoizedState,e.memoizedProps);break;case 5:yl(e);break;case 3:case 4:var t=nr;nr=_s(e.stateNode.containerInfo),yl(e),nr=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Lu,Lu=16777216,yl(e),Lu=t):yl(e));break;default:yl(e)}}function Vy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];en=a,Zy(a,e)}Vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xy(e),e=e.sibling}function Xy(e){switch(e.tag){case 0:case 11:case 15:Hu(e),e.flags&2048&&La(9,e,e.return);break;case 3:Hu(e);break;case 12:Hu(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,os(e)):Hu(e);break;default:Hu(e)}}function os(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];en=a,Zy(a,e)}Vy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:La(8,t,t.return),os(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,os(t));break;default:os(t)}e=e.sibling}}function Zy(e,t){for(;en!==null;){var n=en;switch(n.tag){case 0:case 11:case 15:La(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:wu(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,en=a;else e:for(n=e;en!==null;){a=en;var s=a.sibling,d=a.return;if(qy(a),a===n){en=null;break e}if(s!==null){s.return=d,en=s;break e}en=d}}}var s0={getCacheForType:function(e){var t=fn(Gt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},c0=typeof WeakMap=="function"?WeakMap:Map,ft=0,St=null,nt=null,ut=0,dt=0,Mn=null,Ya=!1,vl=!1,mf=!1,aa=0,Dt=0,Ga=0,Oi=0,gf=0,Pn=0,pl=0,Ku=null,wn=null,bf=!1,_f=0,ss=1/0,cs=null,Qa=null,an=0,Va=null,ml=null,gl=0,Sf=0,wf=null,Iy=null,Yu=0,Ef=null;function jn(){if((ft&2)!==0&&ut!==0)return ut&-ut;if(I.T!==null){var e=il;return e!==0?e:Df()}return Nr()}function Py(){Pn===0&&(Pn=(ut&536870912)===0||ct?ri():536870912);var e=In.current;return e!==null&&(e.flags|=32),Pn}function Un(e,t,n){(e===St&&(dt===2||dt===9)||e.cancelPendingCommit!==null)&&(bl(e,0),Xa(e,ut,Pn,!1)),ya(e,n),((ft&2)===0||e!==St)&&(e===St&&((ft&2)===0&&(Oi|=n),Dt===4&&Xa(e,ut,Pn,!1)),wr(e))}function $y(e,t,n){if((ft&6)!==0)throw Error(u(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Fn(e,t),s=a?h0(e,t):Of(e,t,!0),d=a;do{if(s===0){vl&&!a&&Xa(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!f0(n)){s=Of(e,t,!1),d=!1;continue}if(s===2){if(d=t,e.errorRecoveryDisabledLanes&d)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var O=e;s=Ku;var j=O.current.memoizedState.isDehydrated;if(j&&(bl(O,S).flags|=256),S=Of(O,S,!1),S!==2){if(mf&&!j){O.errorRecoveryDisabledLanes|=d,Oi|=d,s=4;break e}d=wn,wn=s,d!==null&&(wn===null?wn=d:wn.push.apply(wn,d))}s=S}if(d=!1,s!==2)continue}}if(s===1){bl(e,0),Xa(e,t,0,!0);break}e:{switch(a=e,d=s,d){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Xa(a,t,Pn,!Ya);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(s=_f+300-Bn(),10<s)){if(Xa(a,t,Pn,!Ya),Be(a,0,!0)!==0)break e;a.timeoutHandle=Av(Jy.bind(null,a,n,wn,cs,bf,t,Pn,Oi,pl,Ya,d,2,-0,0),s);break e}Jy(a,n,wn,cs,bf,t,Pn,Oi,pl,Ya,d,0,-0,0)}}break}while(!0);wr(e)}function Jy(e,t,n,a,s,d,S,O,j,P,ue,ce,F,W){if(e.timeoutHandle=-1,ce=t.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Pu={stylesheets:null,count:0,unsuspend:X0},Qy(t),ce=I0(),ce!==null)){e.cancelPendingCommit=ce(av.bind(null,e,t,d,n,a,s,S,O,j,ue,1,F,W)),Xa(e,d,S,!P);return}av(e,t,d,n,a,s,S,O,j)}function f0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],d=s.getSnapshot;s=s.value;try{if(!cn(d(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t,n,a){t&=~gf,t&=~Oi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var d=31-Yt(s),S=1<<d;a[d]=-1,s&=~S}n!==0&&Zl(e,n,t)}function fs(){return(ft&6)===0?(Gu(0),!1):!0}function xf(){if(nt!==null){if(dt===0)var e=nt.return;else e=nt,$r=_i=null,Hc(e),fl=null,Uu=0,e=nt;for(;e!==null;)Dy(e.alternate,e),e=e.return;nt=null}}function bl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,R0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),xf(),St=e,nt=n=Zr(e.current,null),ut=t,dt=0,Mn=null,Ya=!1,vl=Fn(e,t),mf=!1,pl=Pn=gf=Oi=Ga=Dt=0,wn=Ku=null,bf=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-Yt(a),d=1<<s;t|=e[s],a&=~d}return aa=t,Ze(),n}function Fy(e,t){We=null,I.H=Fo,t===xu||t===Yo?(t=vh(),dt=3):t===dh?(t=vh(),dt=4):dt=t===py?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mn=t,nt===null&&(Dt=1,rs(e,Ge(t,e.current)))}function Wy(){var e=I.H;return I.H=Fo,e===null?Fo:e}function ev(){var e=I.A;return I.A=s0,e}function Af(){Dt=4,Ya||(ut&4194048)!==ut&&In.current!==null||(vl=!0),(Ga&134217727)===0&&(Oi&134217727)===0||St===null||Xa(St,ut,Pn,!1)}function Of(e,t,n){var a=ft;ft|=2;var s=Wy(),d=ev();(St!==e||ut!==t)&&(cs=null,bl(e,t)),t=!1;var S=Dt;e:do try{if(dt!==0&&nt!==null){var O=nt,j=Mn;switch(dt){case 8:xf(),S=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(t=!0);var P=dt;if(dt=0,Mn=null,_l(e,O,j,P),n&&vl){S=0;break e}break;default:P=dt,dt=0,Mn=null,_l(e,O,j,P)}}d0(),S=Dt;break}catch(ue){Fy(e,ue)}while(!0);return t&&e.shellSuspendCounter++,$r=_i=null,ft=a,I.H=s,I.A=d,nt===null&&(St=null,ut=0,Ze()),S}function d0(){for(;nt!==null;)tv(nt)}function h0(e,t){var n=ft;ft|=2;var a=Wy(),s=ev();St!==e||ut!==t?(cs=null,ss=Bn()+500,bl(e,t)):vl=Fn(e,t);e:do try{if(dt!==0&&nt!==null){t=nt;var d=Mn;t:switch(dt){case 1:dt=0,Mn=null,_l(e,t,d,1);break;case 2:case 9:if(hh(d)){dt=0,Mn=null,nv(t);break}t=function(){dt!==2&&dt!==9||St!==e||(dt=7),wr(e)},d.then(t,t);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:hh(d)?(dt=0,Mn=null,nv(t)):(dt=0,Mn=null,_l(e,t,d,7));break;case 5:var S=null;switch(nt.tag){case 26:S=nt.memoizedState;case 5:case 27:var O=nt;if(!S||Bv(S)){dt=0,Mn=null;var j=O.sibling;if(j!==null)nt=j;else{var P=O.return;P!==null?(nt=P,ds(P)):nt=null}break t}}dt=0,Mn=null,_l(e,t,d,5);break;case 6:dt=0,Mn=null,_l(e,t,d,6);break;case 8:xf(),Dt=6;break e;default:throw Error(u(462))}}y0();break}catch(ue){Fy(e,ue)}while(!0);return $r=_i=null,I.H=a,I.A=s,ft=n,nt!==null?0:(St=null,ut=0,Ze(),Dt)}function y0(){for(;nt!==null&&!Dr();)tv(nt)}function tv(e){var t=Cy(e.alternate,e,aa);e.memoizedProps=e.pendingProps,t===null?ds(e):nt=t}function nv(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=wy(n,t,t.pendingProps,t.type,void 0,ut);break;case 11:t=wy(n,t,t.pendingProps,t.type.render,t.ref,ut);break;case 5:Hc(t);default:Dy(n,t),t=nt=rh(t,aa),t=Cy(n,t,aa)}e.memoizedProps=e.pendingProps,t===null?ds(e):nt=t}function _l(e,t,n,a){$r=_i=null,Hc(t),fl=null,Uu=0;var s=t.return;try{if(r0(e,s,t,n,ut)){Dt=1,rs(e,Ge(n,e.current)),nt=null;return}}catch(d){if(s!==null)throw nt=s,d;Dt=1,rs(e,Ge(n,e.current)),nt=null;return}t.flags&32768?(ct||a===1?e=!0:vl||(ut&536870912)!==0?e=!1:(Ya=e=!0,(a===2||a===9||a===3||a===6)&&(a=In.current,a!==null&&a.tag===13&&(a.flags|=16384))),rv(t,e)):ds(t)}function ds(e){var t=e;do{if((t.flags&32768)!==0){rv(t,Ya);return}e=t.return;var n=i0(t.alternate,t,aa);if(n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);Dt===0&&(Dt=5)}function rv(e,t){do{var n=l0(e.alternate,e);if(n!==null){n.flags&=32767,nt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=n}while(e!==null);Dt=6,nt=null}function av(e,t,n,a,s,d,S,O,j){e.cancelPendingCommit=null;do hs();while(an!==0);if((ft&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(d=t.lanes|t.childLanes,d|=nn,Xl(e,n,d,S,O,j),e===St&&(nt=St=null,ut=0),ml=t,Va=e,gl=n,Sf=d,wf=s,Iy=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,g0(hn,function(){return sv(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=I.T,I.T=null,s=ye.p,ye.p=2,S=ft,ft|=4;try{u0(e,t,n)}finally{ft=S,ye.p=s,I.T=a}}an=1,iv(),lv(),uv()}}function iv(){if(an===1){an=0;var e=Va,t=ml,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=I.T,I.T=null;var a=ye.p;ye.p=2;var s=ft;ft|=4;try{Ky(t,e);var d=qf,S=E(e.containerInfo),O=d.focusedElem,j=d.selectionRange;if(S!==O&&O&&O.ownerDocument&&b(O.ownerDocument.documentElement,O)){if(j!==null&&A(O)){var P=j.start,ue=j.end;if(ue===void 0&&(ue=P),"selectionStart"in O)O.selectionStart=P,O.selectionEnd=Math.min(ue,O.value.length);else{var ce=O.ownerDocument||document,F=ce&&ce.defaultView||window;if(F.getSelection){var W=F.getSelection(),Ie=O.textContent.length,Ve=Math.min(j.start,Ie),vt=j.end===void 0?Ve:Math.min(j.end,Ie);!W.extend&&Ve>vt&&(S=vt,vt=Ve,Ve=S);var Q=p(O,Ve),B=p(O,vt);if(Q&&B&&(W.rangeCount!==1||W.anchorNode!==Q.node||W.anchorOffset!==Q.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var Z=ce.createRange();Z.setStart(Q.node,Q.offset),W.removeAllRanges(),Ve>vt?(W.addRange(Z),W.extend(B.node,B.offset)):(Z.setEnd(B.node,B.offset),W.addRange(Z))}}}}for(ce=[],W=O;W=W.parentNode;)W.nodeType===1&&ce.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ce.length;O++){var se=ce[O];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}As=!!Bf,qf=Bf=null}finally{ft=s,ye.p=a,I.T=n}}e.current=t,an=2}}function lv(){if(an===2){an=0;var e=Va,t=ml,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=I.T,I.T=null;var a=ye.p;ye.p=2;var s=ft;ft|=4;try{By(e,t.alternate,t)}finally{ft=s,ye.p=a,I.T=n}}an=3}}function uv(){if(an===4||an===3){an=0,cc();var e=Va,t=ml,n=gl,a=Iy;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?an=5:(an=0,ml=Va=null,ov(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Qa=null),Pl(n),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(xn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=I.T,s=ye.p,ye.p=2,I.T=null;try{for(var d=e.onRecoverableError,S=0;S<a.length;S++){var O=a[S];d(O.value,{componentStack:O.stack})}}finally{I.T=t,ye.p=s}}(gl&3)!==0&&hs(),wr(e),s=e.pendingLanes,(n&4194090)!==0&&(s&42)!==0?e===Ef?Yu++:(Yu=0,Ef=e):Yu=0,Gu(0)}}function ov(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wu(t)))}function hs(e){return iv(),lv(),uv(),sv()}function sv(){if(an!==5)return!1;var e=Va,t=Sf;Sf=0;var n=Pl(gl),a=I.T,s=ye.p;try{ye.p=32>n?32:n,I.T=null,n=wf,wf=null;var d=Va,S=gl;if(an=0,ml=Va=null,gl=0,(ft&6)!==0)throw Error(u(331));var O=ft;if(ft|=4,Xy(d.current),Gy(d,d.current,S,n),ft=O,Gu(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(xn,d)}catch{}return!0}finally{ye.p=s,I.T=a,ov(e,t)}}function cv(e,t,n){t=Ge(n,t),t=ef(e.stateNode,t,2),e=ka(e,t,2),e!==null&&(ya(e,2),wr(e))}function bt(e,t,n){if(e.tag===3)cv(e,e,n);else for(;t!==null;){if(t.tag===3){cv(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Qa===null||!Qa.has(a))){e=Ge(n,e),n=yy(2),a=ka(t,n,2),a!==null&&(vy(n,a,t,e),ya(a,2),wr(a));break}}t=t.return}}function Tf(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new c0;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(mf=!0,s.add(n),e=v0.bind(null,e,t,n),t.then(e,e))}function v0(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,St===e&&(ut&n)===n&&(Dt===4||Dt===3&&(ut&62914560)===ut&&300>Bn()-_f?(ft&2)===0&&bl(e,0):gf|=n,pl===ut&&(pl=0)),wr(e)}function fv(e,t){t===0&&(t=De()),e=tr(e,t),e!==null&&(ya(e,t),wr(e))}function p0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fv(e,n)}function m0(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(u(314))}a!==null&&a.delete(t),fv(e,n)}function g0(e,t){return Rr(e,t)}var ys=null,Sl=null,Cf=!1,vs=!1,Rf=!1,Ti=0;function wr(e){e!==Sl&&e.next===null&&(Sl===null?ys=Sl=e:Sl=Sl.next=e),vs=!0,Cf||(Cf=!0,_0())}function Gu(e,t){if(!Rf&&vs){Rf=!0;do for(var n=!1,a=ys;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var d=0;else{var S=a.suspendedLanes,O=a.pingedLanes;d=(1<<31-Yt(42|e)+1)-1,d&=s&~(S&~O),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,vv(a,d))}else d=ut,d=Be(a,a===St?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(d&3)===0||Fn(a,d)||(n=!0,vv(a,d));a=a.next}while(n);Rf=!1}}function b0(){dv()}function dv(){vs=Cf=!1;var e=0;Ti!==0&&(C0()&&(e=Ti),Ti=0);for(var t=Bn(),n=null,a=ys;a!==null;){var s=a.next,d=hv(a,t);d===0?(a.next=null,n===null?ys=s:n.next=s,s===null&&(Sl=n)):(n=a,(e!==0||(d&3)!==0)&&(vs=!0)),a=s}Gu(e)}function hv(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var S=31-Yt(d),O=1<<S,j=s[S];j===-1?((O&n)===0||(O&a)!==0)&&(s[S]=Ur(O,t)):j<=t&&(e.expiredLanes|=O),d&=~O}if(t=St,n=ut,n=Be(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(dt===2||dt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ql(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Fn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Ql(a),Pl(n)){case 2:case 8:n=ji;break;case 32:n=hn;break;case 268435456:n=da;break;default:n=hn}return a=yv.bind(null,e),n=Rr(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Ql(a),e.callbackPriority=2,e.callbackNode=null,2}function yv(e,t){if(an!==0&&an!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(hs()&&e.callbackNode!==n)return null;var a=ut;return a=Be(e,e===St?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:($y(e,a,t),hv(e,Bn()),e.callbackNode!=null&&e.callbackNode===n?yv.bind(null,e):null)}function vv(e,t){if(hs())return null;$y(e,t,!0)}function _0(){D0(function(){(ft&6)!==0?Rr(bo,b0):dv()})}function Df(){return Ti===0&&(Ti=ri()),Ti}function pv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qr(""+e)}function mv(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function S0(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var d=pv((s[Fe]||null).action),S=a.submitter;S&&(t=(t=S[Fe]||null)?pv(t.formAction):S.getAttribute("formAction"),t!==null&&(d=t,S=null));var O=new Ki("action","action",null,a,s);e.push({event:O,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ti!==0){var j=S?mv(s,S):new FormData(s);Pc(n,{pending:!0,data:j,method:s.method,action:d},null,j)}}else typeof d=="function"&&(O.preventDefault(),j=S?mv(s,S):new FormData(s),Pc(n,{pending:!0,data:j,method:s.method,action:d},d,j))},currentTarget:s}]})}}for(var Mf=0;Mf<Oe.length;Mf++){var jf=Oe[Mf],w0=jf.toLowerCase(),E0=jf[0].toUpperCase()+jf.slice(1);pe(w0,"on"+E0)}pe($,"onAnimationEnd"),pe(ee,"onAnimationIteration"),pe(te,"onAnimationStart"),pe("dblclick","onDoubleClick"),pe("focusin","onFocus"),pe("focusout","onBlur"),pe(le,"onTransitionRun"),pe(ge,"onTransitionStart"),pe(Ae,"onTransitionCancel"),pe(ve,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function gv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var S=a.length-1;0<=S;S--){var O=a[S],j=O.instance,P=O.currentTarget;if(O=O.listener,j!==d&&s.isPropagationStopped())break e;d=O,s.currentTarget=P;try{d(s)}catch(ue){ns(ue)}s.currentTarget=null,d=j}else for(S=0;S<a.length;S++){if(O=a[S],j=O.instance,P=O.currentTarget,O=O.listener,j!==d&&s.isPropagationStopped())break e;d=O,s.currentTarget=P;try{d(s)}catch(ue){ns(ue)}s.currentTarget=null,d=j}}}}function rt(e,t){var n=t[$l];n===void 0&&(n=t[$l]=new Set);var a=e+"__bubble";n.has(a)||(bv(t,e,2,!1),n.add(a))}function Uf(e,t,n){var a=0;t&&(a|=4),bv(n,e,a,t)}var ps="_reactListening"+Math.random().toString(36).slice(2);function Nf(e){if(!e[ps]){e[ps]=!0,Jl.forEach(function(n){n!=="selectionchange"&&(x0.has(n)||Uf(n,!1,e),Uf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ps]||(t[ps]=!0,Uf("selectionchange",!1,t))}}function bv(e,t,n,a){switch(Gv(t)){case 2:var s=J0;break;case 8:s=F0;break;default:s=If}n=s.bind(null,t,n,e),s=void 0,!au||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function kf(e,t,n,a,s){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var O=a.stateNode.containerInfo;if(O===s)break;if(S===4)for(S=a.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===s)return;S=S.return}for(;O!==null;){if(S=An(O),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){a=d=S;continue e}O=O.parentNode}}a=a.return}xa(function(){var P=d,ue=Li(n),ce=[];e:{var F=_e.get(e);if(F!==void 0){var W=Ki,Ie=e;switch(e){case"keypress":if(Ta(n)===0)break e;case"keydown":case"keyup":W=Pi;break;case"focusin":Ie="focus",W=Ca;break;case"focusout":Ie="blur",W=Ca;break;case"beforeblur":case"afterblur":W=Ca;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ao;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=fu;break;case $:case ee:case te:W=Oo;break;case ve:W=du;break;case"scroll":case"scrollend":W=Yi;break;case"wheel":W=Ji;break;case"copy":case"cut":case"paste":W=Zi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=cu;break;case"toggle":case"beforetoggle":W=Ro}var Ve=(t&4)!==0,vt=!Ve&&(e==="scroll"||e==="scrollend"),Q=Ve?F!==null?F+"Capture":null:F;Ve=[];for(var B=P,Z;B!==null;){var se=B;if(Z=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Z===null||Q===null||(se=Kr(B,Q),se!=null&&Ve.push(Vu(B,se,Z))),vt)break;B=B.return}0<Ve.length&&(F=new W(F,Ie,null,n,ue),ce.push({event:F,listeners:Ve}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",F&&n!==Yn&&(Ie=n.relatedTarget||n.fromElement)&&(An(Ie)||Ie[wt]))break e;if((W||F)&&(F=ue.window===ue?ue:(F=ue.ownerDocument)?F.defaultView||F.parentWindow:window,W?(Ie=n.relatedTarget||n.toElement,W=P,Ie=Ie?An(Ie):null,Ie!==null&&(vt=h(Ie),Ve=Ie.tag,Ie!==vt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ie=null)):(W=null,Ie=P),W!==Ie)){if(Ve=Qi,se="onMouseLeave",Q="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ve=cu,se="onPointerLeave",Q="onPointerEnter",B="pointer"),vt=W==null?F:ur(W),Z=Ie==null?F:ur(Ie),F=new Ve(se,B+"leave",W,n,ue),F.target=vt,F.relatedTarget=Z,se=null,An(ue)===P&&(Ve=new Ve(Q,B+"enter",Ie,n,ue),Ve.target=Z,Ve.relatedTarget=vt,se=Ve),vt=se,W&&Ie)t:{for(Ve=W,Q=Ie,B=0,Z=Ve;Z;Z=wl(Z))B++;for(Z=0,se=Q;se;se=wl(se))Z++;for(;0<B-Z;)Ve=wl(Ve),B--;for(;0<Z-B;)Q=wl(Q),Z--;for(;B--;){if(Ve===Q||Q!==null&&Ve===Q.alternate)break t;Ve=wl(Ve),Q=wl(Q)}Ve=null}else Ve=null;W!==null&&_v(ce,F,W,Ve,!1),Ie!==null&&vt!==null&&_v(ce,vt,Ie,Ve,!0)}}e:{if(F=P?ur(P):window,W=F.nodeName&&F.nodeName.toLowerCase(),W==="select"||W==="input"&&F.type==="file")var ze=yi;else if(el(F))if(Qn)ze=Ma;else{ze=Xr;var et=ko}else W=F.nodeName,!W||W.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&ru(P.elementType)&&(ze=yi):ze=mu;if(ze&&(ze=ze(e,P))){pu(ce,ze,n,ue);break e}et&&et(e,F,P),e==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&_a(F,"number",F.value)}switch(et=P?ur(P):window,e){case"focusin":(el(et)||et.contentEditable==="true")&&(M=et,z=P,q=null);break;case"focusout":q=z=M=null;break;case"mousedown":G=!0;break;case"contextmenu":case"mouseup":case"dragend":G=!1,U(ce,n,ue);break;case"selectionchange":if(C)break;case"keydown":case"keyup":U(ce,n,ue)}var Ke;if(di)e:{switch(e){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Vr?vu(e,n)&&(Xe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Xe="onCompositionStart");Xe&&(Fi&&n.locale!=="ko"&&(Vr||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Vr&&(Ke=Oa()):(Gn=ue,Hi="value"in Gn?Gn.value:Gn.textContent,Vr=!0)),et=ms(P,Xe),0<et.length&&(Xe=new Ii(Xe,e,null,n,ue),ce.push({event:Xe,listeners:et}),Ke?Xe.data=Ke:(Ke=Mo(n),Ke!==null&&(Xe.data=Ke)))),(Ke=yc?jo(e,n):vc(e,n))&&(Xe=ms(P,"onBeforeInput"),0<Xe.length&&(et=new Ii("onBeforeInput","beforeinput",null,n,ue),ce.push({event:et,listeners:Xe}),et.data=Ke)),S0(ce,e,P,n,ue)}gv(ce,t)})}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ms(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,d=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||d===null||(s=Kr(e,n),s!=null&&a.unshift(Vu(e,s,d)),s=Kr(e,t),s!=null&&a.push(Vu(e,s,d))),e.tag===3)return a;e=e.return}return[]}function wl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _v(e,t,n,a,s){for(var d=t._reactName,S=[];n!==null&&n!==a;){var O=n,j=O.alternate,P=O.stateNode;if(O=O.tag,j!==null&&j===a)break;O!==5&&O!==26&&O!==27||P===null||(j=P,s?(P=Kr(n,d),P!=null&&S.unshift(Vu(n,P,j))):s||(P=Kr(n,d),P!=null&&S.push(Vu(n,P,j)))),n=n.return}S.length!==0&&e.push({event:t,listeners:S})}var A0=/\r\n?/g,O0=/\u0000|\uFFFD/g;function Sv(e){return(typeof e=="string"?e:""+e).replace(A0,`
`).replace(O0,"")}function wv(e,t){return t=Sv(t),Sv(e)===t}function gs(){}function yt(e,t,n,a,s,d){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||wa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&wa(e,""+a);break;case"className":kr(e,"class",a);break;case"tabIndex":kr(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(e,n,a);break;case"style":Eo(e,a,d);break;case"data":if(t!=="object"){kr(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=qr(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&yt(e,t,"name",s.name,s,null),yt(e,t,"formEncType",s.formEncType,s,null),yt(e,t,"formMethod",s.formMethod,s,null),yt(e,t,"formTarget",s.formTarget,s,null)):(yt(e,t,"encType",s.encType,s,null),yt(e,t,"method",s.method,s,null),yt(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=qr(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=gs);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=qr(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":rt("beforetoggle",e),rt("toggle",e),Wn(e,"popover",a);break;case"xlinkActuate":On(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":On(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":On(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":On(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":On(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":On(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":On(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":On(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":On(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Wn(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=pn.get(n)||n,Wn(e,n,a))}}function zf(e,t,n,a,s,d){switch(n){case"style":Eo(e,a,d);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"children":typeof a=="string"?wa(e,a):(typeof a=="number"||typeof a=="bigint")&&wa(e,""+a);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!or.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),d=e[Fe]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,s),typeof a=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Wn(e,n,a)}}}function ln(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var a=!1,s=!1,d;for(d in n)if(n.hasOwnProperty(d)){var S=n[d];if(S!=null)switch(d){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:yt(e,t,d,S,n,null)}}s&&yt(e,t,"srcSet",n.srcSet,n,null),a&&yt(e,t,"src",n.src,n,null);return;case"input":rt("invalid",e);var O=d=S=s=null,j=null,P=null;for(a in n)if(n.hasOwnProperty(a)){var ue=n[a];if(ue!=null)switch(a){case"name":s=ue;break;case"type":S=ue;break;case"checked":j=ue;break;case"defaultChecked":P=ue;break;case"value":d=ue;break;case"defaultValue":O=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(u(137,t));break;default:yt(e,t,a,ue,n,null)}}tu(e,d,O,j,P,S,s,!1),hr(e);return;case"select":rt("invalid",e),a=S=d=null;for(s in n)if(n.hasOwnProperty(s)&&(O=n[s],O!=null))switch(s){case"value":d=O;break;case"defaultValue":S=O;break;case"multiple":a=O;default:yt(e,t,s,O,n,null)}t=d,n=S,e.multiple=!!a,t!=null?Br(e,!!a,t,!1):n!=null&&Br(e,!!a,n,!0);return;case"textarea":rt("invalid",e),d=s=a=null;for(S in n)if(n.hasOwnProperty(S)&&(O=n[S],O!=null))switch(S){case"value":a=O;break;case"defaultValue":s=O;break;case"children":d=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(u(91));break;default:yt(e,t,S,O,n,null)}nu(e,a,s,d),hr(e);return;case"option":for(j in n)if(n.hasOwnProperty(j)&&(a=n[j],a!=null))switch(j){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:yt(e,t,j,a,n,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(a=0;a<Qu.length;a++)rt(Qu[a],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in n)if(n.hasOwnProperty(P)&&(a=n[P],a!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:yt(e,t,P,a,n,null)}return;default:if(ru(t)){for(ue in n)n.hasOwnProperty(ue)&&(a=n[ue],a!==void 0&&zf(e,t,ue,a,n,void 0));return}}for(O in n)n.hasOwnProperty(O)&&(a=n[O],a!=null&&yt(e,t,O,a,n,null))}function T0(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,d=null,S=null,O=null,j=null,P=null,ue=null;for(W in n){var ce=n[W];if(n.hasOwnProperty(W)&&ce!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":j=ce;default:a.hasOwnProperty(W)||yt(e,t,W,null,a,ce)}}for(var F in a){var W=a[F];if(ce=n[F],a.hasOwnProperty(F)&&(W!=null||ce!=null))switch(F){case"type":d=W;break;case"name":s=W;break;case"checked":P=W;break;case"defaultChecked":ue=W;break;case"value":S=W;break;case"defaultValue":O=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(u(137,t));break;default:W!==ce&&yt(e,t,F,W,a,ce)}}ba(e,S,O,j,P,ue,d,s);return;case"select":W=S=O=F=null;for(d in n)if(j=n[d],n.hasOwnProperty(d)&&j!=null)switch(d){case"value":break;case"multiple":W=j;default:a.hasOwnProperty(d)||yt(e,t,d,null,a,j)}for(s in a)if(d=a[s],j=n[s],a.hasOwnProperty(s)&&(d!=null||j!=null))switch(s){case"value":F=d;break;case"defaultValue":O=d;break;case"multiple":S=d;default:d!==j&&yt(e,t,s,d,a,j)}t=O,n=S,a=W,F!=null?Br(e,!!n,F,!1):!!a!=!!n&&(t!=null?Br(e,!!n,t,!0):Br(e,!!n,n?[]:"",!1));return;case"textarea":W=F=null;for(O in n)if(s=n[O],n.hasOwnProperty(O)&&s!=null&&!a.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:yt(e,t,O,null,a,s)}for(S in a)if(s=a[S],d=n[S],a.hasOwnProperty(S)&&(s!=null||d!=null))switch(S){case"value":F=s;break;case"defaultValue":W=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(u(91));break;default:s!==d&&yt(e,t,S,s,a,d)}Sa(e,F,W);return;case"option":for(var Ie in n)if(F=n[Ie],n.hasOwnProperty(Ie)&&F!=null&&!a.hasOwnProperty(Ie))switch(Ie){case"selected":e.selected=!1;break;default:yt(e,t,Ie,null,a,F)}for(j in a)if(F=a[j],W=n[j],a.hasOwnProperty(j)&&F!==W&&(F!=null||W!=null))switch(j){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:yt(e,t,j,F,a,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in n)F=n[Ve],n.hasOwnProperty(Ve)&&F!=null&&!a.hasOwnProperty(Ve)&&yt(e,t,Ve,null,a,F);for(P in a)if(F=a[P],W=n[P],a.hasOwnProperty(P)&&F!==W&&(F!=null||W!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(u(137,t));break;default:yt(e,t,P,F,a,W)}return;default:if(ru(t)){for(var vt in n)F=n[vt],n.hasOwnProperty(vt)&&F!==void 0&&!a.hasOwnProperty(vt)&&zf(e,t,vt,void 0,a,F);for(ue in a)F=a[ue],W=n[ue],!a.hasOwnProperty(ue)||F===W||F===void 0&&W===void 0||zf(e,t,ue,F,a,W);return}}for(var Q in n)F=n[Q],n.hasOwnProperty(Q)&&F!=null&&!a.hasOwnProperty(Q)&&yt(e,t,Q,null,a,F);for(ce in a)F=a[ce],W=n[ce],!a.hasOwnProperty(ce)||F===W||F==null&&W==null||yt(e,t,ce,F,a,W)}var Bf=null,qf=null;function bs(e){return e.nodeType===9?e:e.ownerDocument}function Ev(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Lf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hf=null;function C0(){var e=window.event;return e&&e.type==="popstate"?e===Hf?!1:(Hf=e,!0):(Hf=null,!1)}var Av=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,D0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(e){return Ov.resolve(null).then(e).catch(M0)}:Av;function M0(e){setTimeout(function(){throw e})}function Za(e){return e==="head"}function Tv(e,t){var n=t,a=0,s=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(0<a&&8>a){n=a;var S=e.ownerDocument;if(n&1&&Xu(S.documentElement),n&2&&Xu(S.body),n&4)for(n=S.head,Xu(n),S=n.firstChild;S;){var O=S.nextSibling,j=S.nodeName;S[li]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||n.removeChild(S),S=O}}if(s===0){e.removeChild(d),eo(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:a=n.charCodeAt(0)-48;else a=0;n=d}while(n);eo(t)}function Kf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Kf(n),Hn(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function j0(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[li])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=rr(e.nextSibling),e===null)break}return null}function U0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=rr(e.nextSibling),e===null))return null;return e}function Yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function N0(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Gf=null;function Cv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Rv(e,t,n){switch(t=bs(n),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Xu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Hn(e)}var $n=new Map,Dv=new Set;function _s(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ia=ye.d;ye.d={f:k0,r:z0,D:B0,C:q0,L:L0,m:H0,X:Y0,S:K0,M:G0};function k0(){var e=ia.f(),t=fs();return e||t}function z0(e){var t=yn(e);t!==null&&t.tag===5&&t.type==="form"?$h(t):ia.r(e)}var El=typeof document>"u"?null:document;function Mv(e,t,n){var a=El;if(a&&typeof t=="string"&&t){var s=on(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Dv.has(s)||(Dv.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),ln(t,"link",e),mt(t),a.head.appendChild(t)))}}function B0(e){ia.D(e),Mv("dns-prefetch",e,null)}function q0(e,t){ia.C(e,t),Mv("preconnect",e,t)}function L0(e,t,n){ia.L(e,t,n);var a=El;if(a&&e&&t){var s='link[rel="preload"][as="'+on(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+on(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+on(n.imageSizes)+'"]')):s+='[href="'+on(e)+'"]';var d=s;switch(t){case"style":d=xl(e);break;case"script":d=Al(e)}$n.has(d)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),$n.set(d,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Zu(d))||t==="script"&&a.querySelector(Iu(d))||(t=a.createElement("link"),ln(t,"link",e),mt(t),a.head.appendChild(t)))}}function H0(e,t){ia.m(e,t);var n=El;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+on(a)+'"][href="'+on(e)+'"]',d=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Al(e)}if(!$n.has(d)&&(e=y({rel:"modulepreload",href:e},t),$n.set(d,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Iu(d)))return}a=n.createElement("link"),ln(a,"link",e),mt(a),n.head.appendChild(a)}}}function K0(e,t,n){ia.S(e,t,n);var a=El;if(a&&e){var s=pa(a).hoistableStyles,d=xl(e);t=t||"default";var S=s.get(d);if(!S){var O={loading:0,preload:null};if(S=a.querySelector(Zu(d)))O.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=$n.get(d))&&Qf(e,n);var j=S=a.createElement("link");mt(j),ln(j,"link",e),j._p=new Promise(function(P,ue){j.onload=P,j.onerror=ue}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Ss(S,t,a)}S={type:"stylesheet",instance:S,count:1,state:O},s.set(d,S)}}}function Y0(e,t){ia.X(e,t);var n=El;if(n&&e){var a=pa(n).hoistableScripts,s=Al(e),d=a.get(s);d||(d=n.querySelector(Iu(s)),d||(e=y({src:e,async:!0},t),(t=$n.get(s))&&Vf(e,t),d=n.createElement("script"),mt(d),ln(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(s,d))}}function G0(e,t){ia.M(e,t);var n=El;if(n&&e){var a=pa(n).hoistableScripts,s=Al(e),d=a.get(s);d||(d=n.querySelector(Iu(s)),d||(e=y({src:e,async:!0,type:"module"},t),(t=$n.get(s))&&Vf(e,t),d=n.createElement("script"),mt(d),ln(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(s,d))}}function jv(e,t,n,a){var s=(s=He.current)?_s(s):null;if(!s)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=xl(n.href),n=pa(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=xl(n.href);var d=pa(s).hoistableStyles,S=d.get(e);if(S||(s=s.ownerDocument||s,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,S),(d=s.querySelector(Zu(e)))&&!d._p&&(S.instance=d,S.state.loading=5),$n.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$n.set(e,n),d||Q0(s,e,n,S.state))),t&&a===null)throw Error(u(528,""));return S}if(t&&a!==null)throw Error(u(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Al(n),n=pa(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function xl(e){return'href="'+on(e)+'"'}function Zu(e){return'link[rel="stylesheet"]['+e+"]"}function Uv(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Q0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),ln(t,"link",n),mt(t),e.head.appendChild(t))}function Al(e){return'[src="'+on(e)+'"]'}function Iu(e){return"script[async]"+e}function Nv(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+on(n.href)+'"]');if(a)return t.instance=a,mt(a),a;var s=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),mt(a),ln(a,"style",s),Ss(a,n.precedence,e),t.instance=a;case"stylesheet":s=xl(n.href);var d=e.querySelector(Zu(s));if(d)return t.state.loading|=4,t.instance=d,mt(d),d;a=Uv(n),(s=$n.get(s))&&Qf(a,s),d=(e.ownerDocument||e).createElement("link"),mt(d);var S=d;return S._p=new Promise(function(O,j){S.onload=O,S.onerror=j}),ln(d,"link",a),t.state.loading|=4,Ss(d,n.precedence,e),t.instance=d;case"script":return d=Al(n.src),(s=e.querySelector(Iu(d)))?(t.instance=s,mt(s),s):(a=n,(s=$n.get(d))&&(a=y({},n),Vf(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),mt(s),ln(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ss(a,n.precedence,e));return t.instance}function Ss(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,d=s,S=0;S<a.length;S++){var O=a[S];if(O.dataset.precedence===t)d=O;else if(d!==s)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ws=null;function kv(e,t,n){if(ws===null){var a=new Map,s=ws=new Map;s.set(n,a)}else s=ws,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var d=n[s];if(!(d[li]||d[Ut]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var S=d.getAttribute(t)||"";S=e+S;var O=a.get(S);O?O.push(d):a.set(S,[d])}}return a}function zv(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function V0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Bv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Pu=null;function X0(){}function Z0(e,t,n){if(Pu===null)throw Error(u(475));var a=Pu;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var s=xl(n.href),d=e.querySelector(Zu(s));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Es.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=d,mt(d);return}d=e.ownerDocument||e,n=Uv(n),(s=$n.get(s))&&Qf(n,s),d=d.createElement("link"),mt(d);var S=d;S._p=new Promise(function(O,j){S.onload=O,S.onerror=j}),ln(d,"link",n),t.instance=d}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Es.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function I0(){if(Pu===null)throw Error(u(475));var e=Pu;return e.stylesheets&&e.count===0&&Xf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Es(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xs=null;function Xf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xs=new Map,t.forEach(P0,e),xs=null,Es.call(e))}function P0(e,t){if(!(t.state.loading&4)){var n=xs.get(e);if(n)var a=n.get(null);else{n=new Map,xs.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<s.length;d++){var S=s[d];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(n.set(S.dataset.precedence,S),a=S)}a&&n.set(null,a)}s=t.instance,S=s.getAttribute("data-precedence"),d=n.get(S)||a,d===a&&n.set(null,s),n.set(S,s),this.count++,a=Es.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),d?d.parentNode.insertBefore(s,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var $u={$$typeof:K,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function $0(e,t,n,a,s,d,S,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=d,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function qv(e,t,n,a,s,d,S,O,j,P,ue,ce){return e=new $0(e,t,n,S,O,j,P,ce),t=1,d===!0&&(t|=24),d=Cn(3,null,null,t),e.current=d,d.stateNode=e,t=Oc(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:a,isDehydrated:n,cache:t},Dc(d),e}function Lv(e){return e?(e=mr,e):mr}function Hv(e,t,n,a,s,d){s=Lv(s),a.context===null?a.context=s:a.pendingContext=s,a=Na(t),a.payload={element:n},d=d===void 0?null:d,d!==null&&(a.callback=d),n=ka(e,a,t),n!==null&&(Un(n,e,t),Ou(n,e,t))}function Kv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zf(e,t){Kv(e,t),(e=e.alternate)&&Kv(e,t)}function Yv(e){if(e.tag===13){var t=tr(e,67108864);t!==null&&Un(t,e,67108864),Zf(e,67108864)}}var As=!0;function J0(e,t,n,a){var s=I.T;I.T=null;var d=ye.p;try{ye.p=2,If(e,t,n,a)}finally{ye.p=d,I.T=s}}function F0(e,t,n,a){var s=I.T;I.T=null;var d=ye.p;try{ye.p=8,If(e,t,n,a)}finally{ye.p=d,I.T=s}}function If(e,t,n,a){if(As){var s=Pf(a);if(s===null)kf(e,t,a,Os,n),Qv(e,a);else if(eb(s,e,t,n,a))a.stopPropagation();else if(Qv(e,a),t&4&&-1<W0.indexOf(e)){for(;s!==null;){var d=yn(s);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var S=un(d.pendingLanes);if(S!==0){var O=d;for(O.pendingLanes|=2,O.entangledLanes|=2;S;){var j=1<<31-Yt(S);O.entanglements[1]|=j,S&=~j}wr(d),(ft&6)===0&&(ss=Bn()+500,Gu(0))}}break;case 13:O=tr(d,2),O!==null&&Un(O,d,2),fs(),Zf(d,2)}if(d=Pf(a),d===null&&kf(e,t,a,Os,n),d===s)break;s=d}s!==null&&a.stopPropagation()}else kf(e,t,a,null,n)}}function Pf(e){return e=Li(e),$f(e)}var Os=null;function $f(e){if(Os=null,e=An(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Os=e,null}function Gv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fc()){case bo:return 2;case ji:return 8;case hn:case _o:return 32;case da:return 268435456;default:return 32}default:return 32}}var Jf=!1,Ia=null,Pa=null,$a=null,Ju=new Map,Fu=new Map,Ja=[],W0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qv(e,t){switch(e){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Ju.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(t.pointerId)}}function Wu(e,t,n,a,s,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:d,targetContainers:[s]},t!==null&&(t=yn(t),t!==null&&Yv(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function eb(e,t,n,a,s){switch(t){case"focusin":return Ia=Wu(Ia,e,t,n,a,s),!0;case"dragenter":return Pa=Wu(Pa,e,t,n,a,s),!0;case"mouseover":return $a=Wu($a,e,t,n,a,s),!0;case"pointerover":var d=s.pointerId;return Ju.set(d,Wu(Ju.get(d)||null,e,t,n,a,s)),!0;case"gotpointercapture":return d=s.pointerId,Fu.set(d,Wu(Fu.get(d)||null,e,t,n,a,s)),!0}return!1}function Vv(e){var t=An(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=g(n),t!==null){e.blockedOn=t,va(e.priority,function(){if(n.tag===13){var a=jn();a=Il(a);var s=tr(n,a);s!==null&&Un(s,n,a),Zf(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Yn=a,n.target.dispatchEvent(a),Yn=null}else return t=yn(n),t!==null&&Yv(t),e.blockedOn=n,!1;t.shift()}return!0}function Xv(e,t,n){Ts(e)&&n.delete(t)}function tb(){Jf=!1,Ia!==null&&Ts(Ia)&&(Ia=null),Pa!==null&&Ts(Pa)&&(Pa=null),$a!==null&&Ts($a)&&($a=null),Ju.forEach(Xv),Fu.forEach(Xv)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,Jf||(Jf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tb)))}var Rs=null;function Zv(e){Rs!==e&&(Rs=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rs===e&&(Rs=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if($f(a||n)===null)continue;break}var d=yn(n);d!==null&&(e.splice(t,3),t-=3,Pc(d,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function eo(e){function t(j){return Cs(j,e)}Ia!==null&&Cs(Ia,e),Pa!==null&&Cs(Pa,e),$a!==null&&Cs($a,e),Ju.forEach(t),Fu.forEach(t);for(var n=0;n<Ja.length;n++){var a=Ja[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ja.length&&(n=Ja[0],n.blockedOn===null);)Vv(n),n.blockedOn===null&&Ja.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],d=n[a+1],S=s[Fe]||null;if(typeof d=="function")S||Zv(n);else if(S){var O=null;if(d&&d.hasAttribute("formAction")){if(s=d,S=d[Fe]||null)O=S.formAction;else if($f(s)!==null)continue}else O=S.action;typeof O=="function"?n[a+1]=O:(n.splice(a,3),a-=3),Zv(n)}}}function Ff(e){this._internalRoot=e}Ds.prototype.render=Ff.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var n=t.current,a=jn();Hv(n,a,e,t,null,null)},Ds.prototype.unmount=Ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hv(e.current,2,null,e,null,null),fs(),t[wt]=null}};function Ds(e){this._internalRoot=e}Ds.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nr();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ja.length&&t!==0&&t<Ja[n].priority;n++);Ja.splice(n,0,e),n===0&&Vv(e)}};var Iv=l.version;if(Iv!=="19.1.0")throw Error(u(527,Iv,"19.1.0"));ye.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=m(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var nb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{xn=Ms.inject(nb),jt=Ms}catch{}}return no.createRoot=function(e,t){if(!c(e))throw Error(u(299));var n=!1,a="",s=cy,d=fy,S=dy,O=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(O=t.unstable_transitionCallbacks)),t=qv(e,1,!1,null,null,n,a,s,d,S,O,null),e[wt]=t.current,Nf(e),new Ff(t)},no.hydrateRoot=function(e,t,n){if(!c(e))throw Error(u(299));var a=!1,s="",d=cy,S=fy,O=dy,j=null,P=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(S=n.onCaughtError),n.onRecoverableError!==void 0&&(O=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(j=n.unstable_transitionCallbacks),n.formState!==void 0&&(P=n.formState)),t=qv(e,1,!0,t,n??null,a,s,d,S,O,j,P),t.context=Lv(null),n=t.current,a=jn(),a=Il(a),s=Na(a),s.callback=null,ka(n,s,a),n=a,t.current.lanes=n,ya(t,n),wr(t),e[wt]=t.current,Nf(e),new Ds(t)},no.version="19.1.0",no}var ap;function hb(){if(ap)return td.exports;ap=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(l){console.error(l)}}return r(),td.exports=db(),td.exports}var yb=hb();const vb="modulepreload",pb=function(r){return"/livesheet/"+r},ip={},mb=function(l,i,u){let c=Promise.resolve();if(i&&i.length>0){let v=function(y){return Promise.all(y.map(w=>Promise.resolve(w).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var g=v;document.getElementsByTagName("link");const _=document.querySelector("meta[property=csp-nonce]"),m=_?.nonce||_?.getAttribute("nonce");c=v(i.map(y=>{if(y=pb(y),y in ip)return;ip[y]=!0;const w=y.endsWith(".css"),x=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const T=document.createElement("link");if(T.rel=w?"stylesheet":vb,w||(T.as="script"),T.crossOrigin="",T.href=y,m&&T.setAttribute("nonce",m),document.head.appendChild(T),w)return new Promise((D,N)=>{T.addEventListener("load",D),T.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${y}`)))})}))}function h(_){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=_,window.dispatchEvent(m),!m.defaultPrevented)throw _}return c.then(_=>{for(const m of _||[])m.status==="rejected"&&h(m.reason);return l().catch(h)})};function gb(r={}){const{immediate:l=!1,onNeedRefresh:i,onOfflineReady:u,onRegistered:c,onRegisteredSW:h,onRegisterError:g}=r;let _,m;const v=async(w=!0)=>{await m};async function y(){if("serviceWorker"in navigator){if(_=await mb(async()=>{const{Workbox:w}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:w}},[]).then(({Workbox:w})=>new w("/livesheet/sw.js",{scope:"/livesheet/",type:"classic"})).catch(w=>{g?.(w)}),!_)return;_.addEventListener("activated",w=>{(w.isUpdate||w.isExternal)&&window.location.reload()}),_.addEventListener("installed",w=>{w.isUpdate||u?.()}),_.register({immediate:l}).then(w=>{h?h("/livesheet/sw.js",w):c?.(w)}).catch(w=>{g?.(w)})}}return m=y(),v}const lm=Ne.createContext(void 0),Hl=()=>{const r=Ne.useContext(lm);if(!r)throw new Error("useStateMachine must be used inside <StateMachine>");return r},Jn=({name:r,onEnter:l,onExit:i,transition:u,children:c})=>{const{registerState:h,unregisterState:g,currentState:_}=Hl();return Ne.useEffect(()=>{const m={element:c||re.jsx(re.Fragment,{}),onEnter:l,onExit:i,transition:u};return h(r,m),()=>{g(r)}},[r,l,i,u,h,g]),_===r?re.jsx(re.Fragment,{children:c}):null},bb=({initial:r,children:l,name:i,className:u})=>{const c=`yg-${i??"#"}`,h=Ne.useCallback(()=>{const de=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"";return new URLSearchParams(de).get(c)},[c]),g=Ne.useCallback(()=>{const de=new URLSearchParams(window.location.hash.startsWith("#?")?window.location.hash.slice(2):""),xe=Array.from(de.entries()).map(([Ue,ke])=>{const Ce=Number(ke);return[Ue,!isNaN(Ce)&&ke!==""?Ce:ke]});return Object.fromEntries(xe)},[]),[_,m]=Ne.useState(()=>h()??r),v=Ne.useRef(_);Ne.useEffect(()=>{v.current=_},[_]);const[y,w]=Ne.useState(()=>g()),[x,T]=Ne.useState(0),D=Ne.useRef({}),N=Ne.useCallback((de,xe)=>{D.current[de]=xe,T(Ue=>Ue+1)},[]),L=Ne.useCallback(de=>{delete D.current[de],T(xe=>xe+1)},[]),ae=Ne.useCallback(de=>{m(xe=>{if(xe===de)return xe;const Ue=xe?D.current[xe]?.transition:void 0;return Ue&&!Ue.includes(de)?(console.warn(`Transition from "${xe}" to "${de}" not allowed.`),xe):(xe&&D.current[xe]?.onExit?.(),D.current[de]?.onEnter?.(),de)})},[]),ie=Ne.useCallback(de=>{const xe=v.current;if(xe===de)return;const Ue=xe?D.current[xe]?.transition:void 0;if(Ue&&!Ue.includes(de)){console.warn(`Transition from "${xe}" to "${de}" not allowed.`);return}const ke=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"",Ce=new URLSearchParams(ke);Ce.set(c,de);const we=`#?${Ce.toString()}`;window.history.pushState(null,"",we),window.dispatchEvent(new HashChangeEvent("hashchange"))},[c]),K=Ne.useCallback(()=>{const de=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"",xe=new URLSearchParams(de);xe.delete(c);const Ue=xe.toString()?`#?${xe.toString()}`:"";window.history.pushState(null,"",Ue),window.dispatchEvent(new HashChangeEvent("hashchange"))},[c]),fe=Ne.useCallback((de,xe=!1)=>{w(Ue=>{const ke=xe?Object.fromEntries(Object.entries(Ue).filter(([Me])=>Me.startsWith("yg-"))):{...Ue};for(const[Me,Se]of Object.entries(de))Se==null?delete ke[Me]:ke[Me]=Se;const Ce=Object.fromEntries(Object.entries(ke).map(([Me,Se])=>[Me,String(Se)])),we=new URLSearchParams(Ce).toString();return window.location.hash=`?${we}`,ke})},[]);Ne.useEffect(()=>{if(!r)return;if(!h()){const xe=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"",Ue=new URLSearchParams(xe);Ue.set(c,r);const ke=`#?${Ue.toString()}`;window.history.replaceState(null,"",ke)}},[r,h,c]),Ne.useEffect(()=>{const de=()=>{const xe=h();xe?xe!==v.current&&ae(xe):m(void 0),w(g())};return de(),window.addEventListener("hashchange",de),()=>window.removeEventListener("hashchange",de)},[ae,h,g]);const be=Ne.useMemo(()=>({currentState:_,gotoState:ie,close:K,is:de=>de===_,availableTransitions:_?D.current[_]?.transition??[]:[],query:y,setQuery:fe,registerState:N,unregisterState:L,param:c}),[_,ie,K,y,fe,N,L,c,x]);return re.jsx(lm.Provider,{value:be,children:_?u?re.jsx("div",{className:u,children:l}):l:null})};function En({data:r,replace:l,to:i,children:u,className:c,...h}){const{gotoState:g,is:_,setQuery:m}=Hl(),v=[c,_(i)?"active":void 0].filter(Boolean).join(" ");return re.jsx("button",{...h,className:v,onClick:()=>{g(i),r&&m(r,l)},children:u??i})}function lp(r){if(typeof r!="string")return!1;try{return JSON.parse(r),!0}catch{return!1}}function _b(r="user",l={},i={}){const u=g=>`${r}.${String(g)}`,c=new Map,h=new Proxy(l,{set:(g,_,m)=>{if(typeof window>"u"||typeof _!="string")return!1;const v=_,y=u(v),w=localStorage.getItem(y),x=lp(w)?JSON.parse(w):w;return localStorage.setItem(y,JSON.stringify(m)),window.dispatchEvent(new CustomEvent("store:change",{detail:{property:v,oldValue:x,newValue:m,prefix:r}})),(c.get(v)??[]).forEach(T=>T(m,x)),!0},get:(g,_)=>{if(_==="on")return(v,y)=>{c.has(v)||c.set(v,[]),c.get(v).push(y)};if(_==="off")return(v,y)=>{const w=c.get(v);if(!w)return;const x=w.indexOf(y);x>-1&&w.splice(x,1)};if(typeof _!="string")return;const m=localStorage.getItem(u(_));return lp(m)?JSON.parse(m):m}});return Object.entries(i).forEach(([g,_])=>{const m=g;(h[m]===void 0||h[m]===null)&&(h[m]=_)}),h}function Ld(r="user",l={}){const[,i]=Ne.useState(0),u=Ne.useRef(null);return!u.current&&typeof window<"u"&&(u.current=_b(r,{},l)),Ne.useEffect(()=>{const c=()=>i(_=>_+1),h=_=>{_.detail?.prefix===r&&c()},g=_=>{_.key?.startsWith(r+".")&&c()};return window.addEventListener("store:change",h),window.addEventListener("storage",g),()=>{window.removeEventListener("store:change",h),window.removeEventListener("storage",g)}},[r]),u.current??new Proxy({},{get:()=>{},set:()=>!0})}function Sb(){const r=Ld();return re.jsxs("div",{className:"controls dont print",children:[re.jsx("button",{type:"button",onClick:()=>r.showChordset=!r.showChordset,children:r?.showChordset?"Hide Chordset":"Show Chordset"}),re.jsx("button",{type:"button",onClick:()=>r.showChords=!r.showChords,children:r?.showChords?"Hide Chords":"Show Chords"}),re.jsx("button",{type:"button",onClick:()=>r.showMeta=!r.showMeta,children:r?.showMeta?"Hide Info":"Show Info"})]})}function wb(){return re.jsxs("div",{className:"navigation dont print",children:[re.jsx(En,{to:"songs",children:"All Songs"}),re.jsx(En,{to:"song-add",children:"Add Song"}),re.jsx(En,{to:"sets",children:"All Sets"}),re.jsx(En,{to:"set-add",children:"Add Set"}),re.jsx(En,{to:"share",children:"Share"}),re.jsx(En,{to:"share-scan",children:"Scan"}),re.jsx(En,{to:"settings",children:"Settings"})]})}const lr={ARROW:{LEFT:"",UP:"",RIGHT:"",DOWN:""},DEVICE:{},EYE:"",PENCIL:"",PLUS:"",RED_X:""};function Eb(){return re.jsx("p",{children:"Welcome to LiveSheet!"})}var Hs={exports:{}},xb=Hs.exports,up;function Ab(){return up||(up=1,function(r,l){(function(i,u){r.exports=u()})(xb,function(){var i=function(o,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(p[E]=b[E])})(o,f)},u=function(){return(u=Object.assign||function(o){for(var f,p=1,b=arguments.length;p<b;p++)for(var E in f=arguments[p])Object.prototype.hasOwnProperty.call(f,E)&&(o[E]=f[E]);return o}).apply(this,arguments)};function c(o,f,p){for(var b,E=0,A=f.length;E<A;E++)!b&&E in f||((b=b||Array.prototype.slice.call(f,0,E))[E]=f[E]);return o.concat(b||Array.prototype.slice.call(f))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ab,g=Object.keys,_=Array.isArray;function m(o,f){return typeof f!="object"||g(f).forEach(function(p){o[p]=f[p]}),o}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var v=Object.getPrototypeOf,y={}.hasOwnProperty;function w(o,f){return y.call(o,f)}function x(o,f){typeof f=="function"&&(f=f(v(o))),(typeof Reflect>"u"?g:Reflect.ownKeys)(f).forEach(function(p){D(o,p,f[p])})}var T=Object.defineProperty;function D(o,f,p,b){T(o,f,m(p&&w(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},b))}function N(o){return{from:function(f){return o.prototype=Object.create(f.prototype),D(o.prototype,"constructor",o),{extend:x.bind(null,o.prototype)}}}}var L=Object.getOwnPropertyDescriptor,ae=[].slice;function ie(o,f,p){return ae.call(o,f,p)}function K(o,f){return f(o)}function fe(o){if(!o)throw new Error("Assertion Failed")}function be(o){h.setImmediate?setImmediate(o):setTimeout(o,0)}function de(o,f){if(typeof f=="string"&&w(o,f))return o[f];if(!f)return o;if(typeof f!="string"){for(var p=[],b=0,E=f.length;b<E;++b){var A=de(o,f[b]);p.push(A)}return p}var C=f.indexOf(".");if(C!==-1){var M=o[f.substr(0,C)];return M==null?void 0:de(M,f.substr(C+1))}}function xe(o,f,p){if(o&&f!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof f!="string"&&"length"in f){fe(typeof p!="string"&&"length"in p);for(var b=0,E=f.length;b<E;++b)xe(o,f[b],p[b])}else{var A,C,M=f.indexOf(".");M!==-1?(A=f.substr(0,M),(C=f.substr(M+1))===""?p===void 0?_(o)&&!isNaN(parseInt(A))?o.splice(A,1):delete o[A]:o[A]=p:xe(M=!(M=o[A])||!w(o,A)?o[A]={}:M,C,p)):p===void 0?_(o)&&!isNaN(parseInt(f))?o.splice(f,1):delete o[f]:o[f]=p}}function Ue(o){var f,p={};for(f in o)w(o,f)&&(p[f]=o[f]);return p}var ke=[].concat;function Ce(o){return ke.apply([],o)}var xn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ce([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(f){return f+o+"Array"})}))).filter(function(o){return h[o]}),we=new Set(xn.map(function(o){return h[o]})),Me=null;function Se(o){return Me=new WeakMap,o=function f(p){if(!p||typeof p!="object")return p;var b=Me.get(p);if(b)return b;if(_(p)){b=[],Me.set(p,b);for(var E=0,A=p.length;E<A;++E)b.push(f(p[E]))}else if(we.has(p.constructor))b=p;else{var C,M=v(p);for(C in b=M===Object.prototype?{}:Object.create(M),Me.set(p,b),p)w(p,C)&&(b[C]=f(p[C]))}return b}(o),Me=null,o}var me={}.toString;function Ee(o){return me.call(o).slice(8,-1)}var I=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ye=typeof I=="symbol"?function(o){var f;return o!=null&&(f=o[I])&&f.apply(o)}:function(){return null};function Re(o,f){return f=o.indexOf(f),0<=f&&o.splice(f,1),0<=f}var he={};function R(o){var f,p,b,E;if(arguments.length===1){if(_(o))return o.slice();if(this===he&&typeof o=="string")return[o];if(E=ye(o)){for(p=[];!(b=E.next()).done;)p.push(b.value);return p}if(o==null)return[o];if(typeof(f=o.length)!="number")return[o];for(p=new Array(f);f--;)p[f]=o[f];return p}for(f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];return p}var J=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ni=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ni),ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function oe(o,f){this.name=o,this.message=f}function Te(o,f){return o+". Errors: "+Object.keys(f).map(function(p){return f[p].toString()}).filter(function(p,b,E){return E.indexOf(p)===b}).join(`
`)}function Le(o,f,p,b){this.failures=f,this.failedKeys=b,this.successCount=p,this.message=Te(o,f)}function He(o,f){this.name="BulkError",this.failures=Object.keys(f).map(function(p){return f[p]}),this.failuresByPos=f,this.message=Te(o,this.failures)}N(oe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(Le).from(oe),N(He).from(oe);var Pt=mn.reduce(function(o,f){return o[f]=f+"Error",o},{}),_t=oe,qe=mn.reduce(function(o,f){var p=f+"Error";function b(E,A){this.name=p,E?typeof E=="string"?(this.message="".concat(E).concat(A?`
 `+A:""),this.inner=A||null):typeof E=="object"&&(this.message="".concat(E.name," ").concat(E.message),this.inner=E):(this.message=ne[f]||p,this.inner=null)}return N(b).from(_t),o[f]=b,o},{});qe.Syntax=SyntaxError,qe.Type=TypeError,qe.Range=RangeError;var Mi=ni.reduce(function(o,f){return o[f+"Error"]=qe[f],o},{}),Cr=mn.reduce(function(o,f){return["Syntax","Type","Range"].indexOf(f)===-1&&(o[f+"Error"]=qe[f]),o},{});function ot(){}function Rr(o){return o}function Ql(o,f){return o==null||o===Rr?f:function(p){return f(o(p))}}function Dr(o,f){return function(){o.apply(this,arguments),f.apply(this,arguments)}}function cc(o,f){return o===ot?f:function(){var p=o.apply(this,arguments);p!==void 0&&(arguments[0]=p);var b=this.onsuccess,E=this.onerror;this.onsuccess=null,this.onerror=null;var A=f.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?Dr(b,this.onsuccess):b),E&&(this.onerror=this.onerror?Dr(E,this.onerror):E),A!==void 0?A:p}}function Bn(o,f){return o===ot?f:function(){o.apply(this,arguments);var p=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,f.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?Dr(p,this.onsuccess):p),b&&(this.onerror=this.onerror?Dr(b,this.onerror):b)}}function fc(o,f){return o===ot?f:function(p){var b=o.apply(this,arguments);m(p,b);var E=this.onsuccess,A=this.onerror;return this.onsuccess=null,this.onerror=null,p=f.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?Dr(E,this.onsuccess):E),A&&(this.onerror=this.onerror?Dr(A,this.onerror):A),b===void 0?p===void 0?void 0:p:m(b,p)}}function bo(o,f){return o===ot?f:function(){return f.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function ji(o,f){return o===ot?f:function(){var p=o.apply(this,arguments);if(p&&typeof p.then=="function"){for(var b=this,E=arguments.length,A=new Array(E);E--;)A[E]=arguments[E];return p.then(function(){return f.apply(b,A)})}return f.apply(this,arguments)}}Cr.ModifyError=Le,Cr.DexieError=oe,Cr.BulkError=He;var hn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _o(o){hn=o}var da={},So=100,xn=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,v(o),o];var f=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[f,v(f),o]}(),ni=xn[0],mn=xn[1],xn=xn[2],mn=mn&&mn.then,jt=ni&&ni.constructor,qn=!!xn,Yt=function(o,f){Fn.push([o,f]),Ui&&(queueMicrotask(Pl),Ui=!1)},Vl=!0,Ui=!0,Mr=[],jr=[],ha=Rr,un={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ot,pgp:!1,env:{},finalize:ot},Be=un,Fn=[],Ur=0,ri=[];function De(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var f=this._PSD=Be;if(typeof o!="function"){if(o!==da)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Xl(this,this._value))}this._state=null,this._value=null,++f.ref,function p(b,E){try{E(function(A){if(b._state===null){if(A===b)throw new TypeError("A promise cannot be resolved with itself.");var C=b._lib&&Nr();A&&typeof A.then=="function"?p(b,function(M,z){A instanceof De?A._then(M,z):A.then(M,z)}):(b._state=!0,b._value=A,Zl(b)),C&&va()}},Xl.bind(null,b))}catch(A){Xl(b,A)}}(this,o)}var ai={get:function(){var o=Be,f=ii;function p(b,E){var A=this,C=!o.global&&(o!==Be||f!==ii),M=C&&!yn(),z=new De(function(q,G){Ni(A,new ya(sr(b,o,C,M),sr(E,o,C,M),q,G,o))});return this._consoleTask&&(z._consoleTask=this._consoleTask),z}return p.prototype=da,p},set:function(o){D(this,"then",o&&o.prototype===da?ai:{get:function(){return o},set:ai.set})}};function ya(o,f,p,b,E){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof f=="function"?f:null,this.resolve=p,this.reject=b,this.psd=E}function Xl(o,f){var p,b;jr.push(f),o._state===null&&(p=o._lib&&Nr(),f=ha(f),o._state=!1,o._value=f,b=o,Mr.some(function(E){return E._value===b._value})||Mr.push(b),Zl(o),p&&va())}function Zl(o){var f=o._listeners;o._listeners=[];for(var p=0,b=f.length;p<b;++p)Ni(o,f[p]);var E=o._PSD;--E.ref||E.finalize(),Ur===0&&(++Ur,Yt(function(){--Ur==0&&Ln()},[]))}function Ni(o,f){if(o._state!==null){var p=o._state?f.onFulfilled:f.onRejected;if(p===null)return(o._state?f.resolve:f.reject)(o._value);++f.psd.ref,++Ur,Yt(Il,[p,o,f])}else o._listeners.push(f)}function Il(o,f,p){try{var b,E=f._value;!f._state&&jr.length&&(jr=[]),b=hn&&f._consoleTask?f._consoleTask.run(function(){return o(E)}):o(E),f._state||jr.indexOf(E)!==-1||function(A){for(var C=Mr.length;C;)if(Mr[--C]._value===A._value)return Mr.splice(C,1)}(f),p.resolve(b)}catch(A){p.reject(A)}finally{--Ur==0&&Ln(),--p.psd.ref||p.psd.finalize()}}function Pl(){or(un,function(){Nr()&&va()})}function Nr(){var o=Vl;return Ui=Vl=!1,o}function va(){var o,f,p;do for(;0<Fn.length;)for(o=Fn,Fn=[],p=o.length,f=0;f<p;++f){var b=o[f];b[0].apply(null,b[1])}while(0<Fn.length);Ui=Vl=!0}function Ln(){var o=Mr;Mr=[],o.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var f=ri.slice(0),p=f.length;p;)f[--p]()}function Ut(o){return new De(da,!1,o)}function Fe(o,f){var p=Be;return function(){var b=Nr(),E=Be;try{return mt(p,!0),o.apply(this,arguments)}catch(A){f&&f(A)}finally{mt(E,!1),b&&va()}}}x(De.prototype,{then:ai,_then:function(o,f){Ni(this,new ya(null,null,o,f,Be))},catch:function(o){if(arguments.length===1)return this.then(null,o);var f=o,p=arguments[1];return typeof f=="function"?this.then(null,function(b){return(b instanceof f?p:Ut)(b)}):this.then(null,function(b){return(b&&b.name===f?p:Ut)(b)})},finally:function(o){return this.then(function(f){return De.resolve(o()).then(function(){return f})},function(f){return De.resolve(o()).then(function(){return Ut(f)})})},timeout:function(o,f){var p=this;return o<1/0?new De(function(b,E){var A=setTimeout(function(){return E(new qe.Timeout(f))},o);p.then(b,E).finally(clearTimeout.bind(null,A))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&D(De.prototype,Symbol.toStringTag,"Dexie.Promise"),un.env=Jl(),x(De,{all:function(){var o=R.apply(null,arguments).map(ur);return new De(function(f,p){o.length===0&&f([]);var b=o.length;o.forEach(function(E,A){return De.resolve(E).then(function(C){o[A]=C,--b||f(o)},p)})})},resolve:function(o){return o instanceof De?o:o&&typeof o.then=="function"?new De(function(f,p){o.then(f,p)}):new De(da,!0,o)},reject:Ut,race:function(){var o=R.apply(null,arguments).map(ur);return new De(function(f,p){o.map(function(b){return De.resolve(b).then(f,p)})})},PSD:{get:function(){return Be},set:function(o){return Be=o}},totalEchoes:{get:function(){return ii}},newPSD:Hn,usePSD:or,scheduler:{get:function(){return Yt},set:function(o){Yt=o}},rejectionMapper:{get:function(){return ha},set:function(o){ha=o}},follow:function(o,f){return new De(function(p,b){return Hn(function(E,A){var C=Be;C.unhandleds=[],C.onunhandled=A,C.finalize=Dr(function(){var M,z=this;M=function(){z.unhandleds.length===0?E():A(z.unhandleds[0])},ri.push(function q(){M(),ri.splice(ri.indexOf(q),1)}),++Ur,Yt(function(){--Ur==0&&Ln()},[])},C.finalize),o()},f,p,b)})}}),jt&&(jt.allSettled&&D(De,"allSettled",function(){var o=R.apply(null,arguments).map(ur);return new De(function(f){o.length===0&&f([]);var p=o.length,b=new Array(p);o.forEach(function(E,A){return De.resolve(E).then(function(C){return b[A]={status:"fulfilled",value:C}},function(C){return b[A]={status:"rejected",reason:C}}).then(function(){return--p||f(b)})})})}),jt.any&&typeof AggregateError<"u"&&D(De,"any",function(){var o=R.apply(null,arguments).map(ur);return new De(function(f,p){o.length===0&&p(new AggregateError([]));var b=o.length,E=new Array(b);o.forEach(function(A,C){return De.resolve(A).then(function(M){return f(M)},function(M){E[C]=M,--b||p(new AggregateError(E))})})})}),jt.withResolvers&&(De.withResolvers=jt.withResolvers));var wt={awaits:0,echoes:0,id:0},$l=0,ki=[],zi=0,ii=0,li=0;function Hn(o,f,p,b){var E=Be,A=Object.create(E);return A.parent=E,A.ref=0,A.global=!1,A.id=++li,un.env,A.env=qn?{Promise:De,PromiseProp:{value:De,configurable:!0,writable:!0},all:De.all,race:De.race,allSettled:De.allSettled,any:De.any,resolve:De.resolve,reject:De.reject}:{},f&&m(A,f),++E.ref,A.finalize=function(){--this.parent.ref||this.parent.finalize()},b=or(A,o,p,b),A.ref===0&&A.finalize(),b}function An(){return wt.id||(wt.id=++$l),++wt.awaits,wt.echoes+=So,wt.id}function yn(){return!!wt.awaits&&(--wt.awaits==0&&(wt.id=0),wt.echoes=wt.awaits*So,!0)}function ur(o){return wt.echoes&&o&&o.constructor===jt?(An(),o.then(function(f){return yn(),f},function(f){return yn(),Ot(f)})):o}function pa(){var o=ki[ki.length-1];ki.pop(),mt(o,!1)}function mt(o,f){var p,b=Be;(f?!wt.echoes||zi++&&o===Be:!zi||--zi&&o===Be)||queueMicrotask(f?(function(E){++ii,wt.echoes&&--wt.echoes!=0||(wt.echoes=wt.awaits=wt.id=0),ki.push(Be),mt(E,!0)}).bind(null,o):pa),o!==Be&&(Be=o,b===un&&(un.env=Jl()),qn&&(p=un.env.Promise,f=o.env,(b.global||o.global)&&(Object.defineProperty(h,"Promise",f.PromiseProp),p.all=f.all,p.race=f.race,p.resolve=f.resolve,p.reject=f.reject,f.allSettled&&(p.allSettled=f.allSettled),f.any&&(p.any=f.any))))}function Jl(){var o=h.Promise;return qn?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function or(o,f,p,b,E){var A=Be;try{return mt(o,!0),f(p,b,E)}finally{mt(A,!1)}}function sr(o,f,p,b){return typeof o!="function"?o:function(){var E=Be;p&&An(),mt(f,!0);try{return o.apply(this,arguments)}finally{mt(E,!1),b&&queueMicrotask(yn)}}}function cr(o){Promise===jt&&wt.echoes===0?zi===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+mn).indexOf("[native code]")===-1&&(An=yn=ot);var Ot=De.reject,fr="",Kn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",wo="String expected.",Wn=[],kr="__dbnames",On="readonly",ui="readwrite";function dr(o,f){return o?f?function(){return o.apply(this,arguments)&&f.apply(this,arguments)}:o:f}var zr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ma(o){return typeof o!="string"||/\./.test(o)?function(f){return f}:function(f){return f[o]===void 0&&o in f&&delete(f=Se(f))[o],f}}function Bi(){throw qe.Type()}function tt(o,f){try{var p=Fl(o),b=Fl(f);if(p!==b)return p==="Array"?1:b==="Array"?-1:p==="binary"?1:b==="binary"?-1:p==="string"?1:b==="string"?-1:p==="Date"?1:b!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return f<o?1:o<f?-1:0;case"binary":return function(E,A){for(var C=E.length,M=A.length,z=C<M?C:M,q=0;q<z;++q)if(E[q]!==A[q])return E[q]<A[q]?-1:1;return C===M?0:C<M?-1:1}(vn(o),vn(f));case"Array":return function(E,A){for(var C=E.length,M=A.length,z=C<M?C:M,q=0;q<z;++q){var G=tt(E[q],A[q]);if(G!==0)return G}return C===M?0:C<M?-1:1}(o,f)}}catch{}return NaN}function Fl(o){var f=typeof o;return f!="object"?f:ArrayBuffer.isView(o)?"binary":(o=Ee(o),o==="ArrayBuffer"?"binary":o)}function vn(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}var Wl=(gt.prototype._trans=function(o,f,p){var b=this._tx||Be.trans,E=this.name,A=hn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function C(q,G,U){if(!U.schema[E])throw new qe.NotFound("Table "+E+" not part of transaction");return f(U.idbtrans,U)}var M=Nr();try{var z=b&&b.db._novip===this.db._novip?b===Be.trans?b._promise(o,C,p):Hn(function(){return b._promise(o,C,p)},{trans:b,transless:Be.transless||Be}):function q(G,U,V,k){if(G.idbdb&&(G._state.openComplete||Be.letThrough||G._vip)){var Y=G._createTransaction(U,V,G._dbSchema);try{Y.create(),G._state.PR1398_maxLoop=3}catch(X){return X.name===Pt.InvalidState&&G.isOpen()&&0<--G._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),G.close({disableAutoOpen:!1}),G.open().then(function(){return q(G,U,V,k)})):Ot(X)}return Y._promise(U,function(X,H){return Hn(function(){return Be.trans=Y,k(X,H,Y)})}).then(function(X){if(U==="readwrite")try{Y.idbtrans.commit()}catch{}return U==="readonly"?X:Y._completion.then(function(){return X})})}if(G._state.openComplete)return Ot(new qe.DatabaseClosed(G._state.dbOpenError));if(!G._state.isBeingOpened){if(!G._state.autoOpen)return Ot(new qe.DatabaseClosed);G.open().catch(ot)}return G._state.dbReadyPromise.then(function(){return q(G,U,V,k)})}(this.db,o,[this.name],C);return A&&(z._consoleTask=A,z=z.catch(function(q){return console.trace(q),Ot(q)})),z}finally{M&&va()}},gt.prototype.get=function(o,f){var p=this;return o&&o.constructor===Object?this.where(o).first(f):o==null?Ot(new qe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return p.core.get({trans:b,key:o}).then(function(E){return p.hook.reading.fire(E)})}).then(f)},gt.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(_(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var f=g(o);if(f.length===1)return this.where(f[0]).equals(o[f[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(M){if(M.compound&&f.every(function(q){return 0<=M.keyPath.indexOf(q)})){for(var z=0;z<f.length;++z)if(f.indexOf(M.keyPath[z])===-1)return!1;return!0}return!1}).sort(function(M,z){return M.keyPath.length-z.keyPath.length})[0];if(p&&this.db._maxKey!==fr){var A=p.keyPath.slice(0,f.length);return this.where(A).equals(A.map(function(z){return o[z]}))}!p&&hn&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(f.join("+"),"]"));var b=this.schema.idxByName;function E(M,z){return tt(M,z)===0}var C=f.reduce(function(U,z){var q=U[0],G=U[1],U=b[z],V=o[z];return[q||U,q||!U?dr(G,U&&U.multi?function(k){return k=de(k,z),_(k)&&k.some(function(Y){return E(V,Y)})}:function(k){return E(V,de(k,z))}):G]},[null,null]),A=C[0],C=C[1];return A?this.where(A.name).equals(o[A.keyPath]).filter(C):p?this.filter(C):this.where(f).equals("")},gt.prototype.filter=function(o){return this.toCollection().and(o)},gt.prototype.count=function(o){return this.toCollection().count(o)},gt.prototype.offset=function(o){return this.toCollection().offset(o)},gt.prototype.limit=function(o){return this.toCollection().limit(o)},gt.prototype.each=function(o){return this.toCollection().each(o)},gt.prototype.toArray=function(o){return this.toCollection().toArray(o)},gt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},gt.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,_(o)?"[".concat(o.join("+"),"]"):o))},gt.prototype.reverse=function(){return this.toCollection().reverse()},gt.prototype.mapToClass=function(o){var f,p=this.db,b=this.name;function E(){return f!==null&&f.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof Bi&&(function(z,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function G(){this.constructor=z}i(z,q),z.prototype=q===null?Object.create(q):(G.prototype=q.prototype,new G)}(E,f=o),Object.defineProperty(E.prototype,"db",{get:function(){return p},enumerable:!1,configurable:!0}),E.prototype.table=function(){return b},o=E);for(var A=new Set,C=o.prototype;C;C=v(C))Object.getOwnPropertyNames(C).forEach(function(z){return A.add(z)});function M(z){if(!z)return z;var q,G=Object.create(o.prototype);for(q in z)if(!A.has(q))try{G[q]=z[q]}catch{}return G}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=M,this.hook("reading",M),o},gt.prototype.defineClass=function(){return this.mapToClass(function(o){m(this,o)})},gt.prototype.add=function(o,f){var p=this,b=this.schema.primKey,E=b.auto,A=b.keyPath,C=o;return A&&E&&(C=ma(A)(o)),this._trans("readwrite",function(M){return p.core.mutate({trans:M,type:"add",keys:f!=null?[f]:null,values:[C]})}).then(function(M){return M.numFailures?De.reject(M.failures[0]):M.lastResult}).then(function(M){if(A)try{xe(o,A,M)}catch{}return M})},gt.prototype.update=function(o,f){return typeof o!="object"||_(o)?this.where(":id").equals(o).modify(f):(o=de(o,this.schema.primKey.keyPath),o===void 0?Ot(new qe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(f))},gt.prototype.put=function(o,f){var p=this,b=this.schema.primKey,E=b.auto,A=b.keyPath,C=o;return A&&E&&(C=ma(A)(o)),this._trans("readwrite",function(M){return p.core.mutate({trans:M,type:"put",values:[C],keys:f!=null?[f]:null})}).then(function(M){return M.numFailures?De.reject(M.failures[0]):M.lastResult}).then(function(M){if(A)try{xe(o,A,M)}catch{}return M})},gt.prototype.delete=function(o){var f=this;return this._trans("readwrite",function(p){return f.core.mutate({trans:p,type:"delete",keys:[o]})}).then(function(p){return p.numFailures?De.reject(p.failures[0]):void 0})},gt.prototype.clear=function(){var o=this;return this._trans("readwrite",function(f){return o.core.mutate({trans:f,type:"deleteRange",range:zr})}).then(function(f){return f.numFailures?De.reject(f.failures[0]):void 0})},gt.prototype.bulkGet=function(o){var f=this;return this._trans("readonly",function(p){return f.core.getMany({keys:o,trans:p}).then(function(b){return b.map(function(E){return f.hook.reading.fire(E)})})})},gt.prototype.bulkAdd=function(o,f,p){var b=this,E=Array.isArray(f)?f:void 0,A=(p=p||(E?void 0:f))?p.allKeys:void 0;return this._trans("readwrite",function(C){var q=b.schema.primKey,M=q.auto,q=q.keyPath;if(q&&E)throw new qe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(E&&E.length!==o.length)throw new qe.InvalidArgument("Arguments objects and keys must have the same length");var z=o.length,q=q&&M?o.map(ma(q)):o;return b.core.mutate({trans:C,type:"add",keys:E,values:q,wantResults:A}).then(function(Y){var U=Y.numFailures,V=Y.results,k=Y.lastResult,Y=Y.failures;if(U===0)return A?V:k;throw new He("".concat(b.name,".bulkAdd(): ").concat(U," of ").concat(z," operations failed"),Y)})})},gt.prototype.bulkPut=function(o,f,p){var b=this,E=Array.isArray(f)?f:void 0,A=(p=p||(E?void 0:f))?p.allKeys:void 0;return this._trans("readwrite",function(C){var q=b.schema.primKey,M=q.auto,q=q.keyPath;if(q&&E)throw new qe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(E&&E.length!==o.length)throw new qe.InvalidArgument("Arguments objects and keys must have the same length");var z=o.length,q=q&&M?o.map(ma(q)):o;return b.core.mutate({trans:C,type:"put",keys:E,values:q,wantResults:A}).then(function(Y){var U=Y.numFailures,V=Y.results,k=Y.lastResult,Y=Y.failures;if(U===0)return A?V:k;throw new He("".concat(b.name,".bulkPut(): ").concat(U," of ").concat(z," operations failed"),Y)})})},gt.prototype.bulkUpdate=function(o){var f=this,p=this.core,b=o.map(function(C){return C.key}),E=o.map(function(C){return C.changes}),A=[];return this._trans("readwrite",function(C){return p.getMany({trans:C,keys:b,cache:"clone"}).then(function(M){var z=[],q=[];o.forEach(function(U,V){var k=U.key,Y=U.changes,X=M[V];if(X){for(var H=0,$=Object.keys(Y);H<$.length;H++){var ee=$[H],te=Y[ee];if(ee===f.schema.primKey.keyPath){if(tt(te,k)!==0)throw new qe.Constraint("Cannot update primary key in bulkUpdate()")}else xe(X,ee,te)}A.push(V),z.push(k),q.push(X)}});var G=z.length;return p.mutate({trans:C,type:"put",keys:z,values:q,updates:{keys:b,changeSpecs:E}}).then(function(U){var V=U.numFailures,k=U.failures;if(V===0)return G;for(var Y=0,X=Object.keys(k);Y<X.length;Y++){var H,$=X[Y],ee=A[Number($)];ee!=null&&(H=k[$],delete k[$],k[ee]=H)}throw new He("".concat(f.name,".bulkUpdate(): ").concat(V," of ").concat(G," operations failed"),k)})})})},gt.prototype.bulkDelete=function(o){var f=this,p=o.length;return this._trans("readwrite",function(b){return f.core.mutate({trans:b,type:"delete",keys:o})}).then(function(C){var E=C.numFailures,A=C.lastResult,C=C.failures;if(E===0)return A;throw new He("".concat(f.name,".bulkDelete(): ").concat(E," of ").concat(p," operations failed"),C)})},gt);function gt(){}function hr(o){function f(C,M){if(M){for(var z=arguments.length,q=new Array(z-1);--z;)q[z-1]=arguments[z];return p[C].subscribe.apply(null,q),o}if(typeof C=="string")return p[C]}var p={};f.addEventType=A;for(var b=1,E=arguments.length;b<E;++b)A(arguments[b]);return f;function A(C,M,z){if(typeof C!="object"){var q;M=M||bo;var G={subscribers:[],fire:z=z||ot,subscribe:function(U){G.subscribers.indexOf(U)===-1&&(G.subscribers.push(U),G.fire=M(G.fire,U))},unsubscribe:function(U){G.subscribers=G.subscribers.filter(function(V){return V!==U}),G.fire=G.subscribers.reduce(M,z)}};return p[C]=f[C]=G}g(q=C).forEach(function(U){var V=q[U];if(_(V))A(U,q[U][0],q[U][1]);else{if(V!=="asap")throw new qe.InvalidArgument("Invalid event config");var k=A(U,Rr,function(){for(var Y=arguments.length,X=new Array(Y);Y--;)X[Y]=arguments[Y];k.subscribers.forEach(function(H){be(function(){H.apply(null,X)})})})}})}}function ga(o,f){return N(f).from({prototype:o}),f}function er(o,f){return!(o.filter||o.algorithm||o.or)&&(f?o.justLimit:!o.replayFilter)}function eu(o,f){o.filter=dr(o.filter,f)}function on(o,f,p){var b=o.replayFilter;o.replayFilter=b?function(){return dr(b(),f())}:f,o.justLimit=p&&!b}function ba(o,f){if(o.isPrimKey)return f.primaryKey;var p=f.getIndexByKeyPath(o.index);if(!p)throw new qe.Schema("KeyPath "+o.index+" on object store "+f.name+" is not indexed");return p}function tu(o,f,p){var b=ba(o,f.schema);return f.openCursor({trans:p,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:b,range:o.range}})}function _a(o,f,p,b){var E=o.replayFilter?dr(o.filter,o.replayFilter()):o.filter;if(o.or){var A={},C=function(M,z,q){var G,U;E&&!E(z,q,function(V){return z.stop(V)},function(V){return z.fail(V)})||((U=""+(G=z.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(G)),w(A,U)||(A[U]=!0,f(M,z,q)))};return Promise.all([o.or._iterate(C,p),Br(tu(o,b,p),o.algorithm,C,!o.keysOnly&&o.valueMapper)])}return Br(tu(o,b,p),dr(o.algorithm,E),f,!o.keysOnly&&o.valueMapper)}function Br(o,f,p,b){var E=Fe(b?function(A,C,M){return p(b(A),C,M)}:p);return o.then(function(A){if(A)return A.start(function(){var C=function(){return A.continue()};f&&!f(A,function(M){return C=M},function(M){A.stop(M),C=ot},function(M){A.fail(M),C=ot})||E(A.value,A,function(M){return C=M}),C()})})}var Sa=(nu.prototype.execute=function(o){var f=this["@@propmod"];if(f.add!==void 0){var p=f.add;if(_(p))return c(c([],_(o)?o:[],!0),p).sort();if(typeof p=="number")return(Number(o)||0)+p;if(typeof p=="bigint")try{return BigInt(o)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(f.remove!==void 0){var b=f.remove;if(_(b))return _(o)?o.filter(function(E){return!b.includes(E)}).sort():[];if(typeof b=="number")return Number(o)-b;if(typeof b=="bigint")try{return BigInt(o)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return p=(p=f.replacePrefix)===null||p===void 0?void 0:p[0],p&&typeof o=="string"&&o.startsWith(p)?f.replacePrefix[1]+o.substring(p.length):o},nu);function nu(o){this["@@propmod"]=o}var wa=(lt.prototype._read=function(o,f){var p=this._ctx;return p.error?p.table._trans(null,Ot.bind(null,p.error)):p.table._trans("readonly",o).then(f)},lt.prototype._write=function(o){var f=this._ctx;return f.error?f.table._trans(null,Ot.bind(null,f.error)):f.table._trans("readwrite",o,"locked")},lt.prototype._addAlgorithm=function(o){var f=this._ctx;f.algorithm=dr(f.algorithm,o)},lt.prototype._iterate=function(o,f){return _a(this._ctx,o,f,this._ctx.table.core)},lt.prototype.clone=function(o){var f=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return o&&m(p,o),f._ctx=p,f},lt.prototype.raw=function(){return this._ctx.valueMapper=null,this},lt.prototype.each=function(o){var f=this._ctx;return this._read(function(p){return _a(f,o,p,f.table.core)})},lt.prototype.count=function(o){var f=this;return this._read(function(p){var b=f._ctx,E=b.table.core;if(er(b,!0))return E.count({trans:p,query:{index:ba(b,E.schema),range:b.range}}).then(function(C){return Math.min(C,b.limit)});var A=0;return _a(b,function(){return++A,!1},p,E).then(function(){return A})}).then(o)},lt.prototype.sortBy=function(o,f){var p=o.split(".").reverse(),b=p[0],E=p.length-1;function A(z,q){return q?A(z[p[q]],q-1):z[b]}var C=this._ctx.dir==="next"?1:-1;function M(z,q){return tt(A(z,E),A(q,E))*C}return this.toArray(function(z){return z.sort(M)}).then(f)},lt.prototype.toArray=function(o){var f=this;return this._read(function(p){var b=f._ctx;if(b.dir==="next"&&er(b,!0)&&0<b.limit){var E=b.valueMapper,A=ba(b,b.table.core.schema);return b.table.core.query({trans:p,limit:b.limit,values:!0,query:{index:A,range:b.range}}).then(function(M){return M=M.result,E?M.map(E):M})}var C=[];return _a(b,function(M){return C.push(M)},p,b.table.core).then(function(){return C})},o)},lt.prototype.offset=function(o){var f=this._ctx;return o<=0||(f.offset+=o,er(f)?on(f,function(){var p=o;return function(b,E){return p===0||(p===1?--p:E(function(){b.advance(p),p=0}),!1)}}):on(f,function(){var p=o;return function(){return--p<0}})),this},lt.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),on(this._ctx,function(){var f=o;return function(p,b,E){return--f<=0&&b(E),0<=f}},!0),this},lt.prototype.until=function(o,f){return eu(this._ctx,function(p,b,E){return!o(p.value)||(b(E),f)}),this},lt.prototype.first=function(o){return this.limit(1).toArray(function(f){return f[0]}).then(o)},lt.prototype.last=function(o){return this.reverse().first(o)},lt.prototype.filter=function(o){var f;return eu(this._ctx,function(p){return o(p.value)}),(f=this._ctx).isMatch=dr(f.isMatch,o),this},lt.prototype.and=function(o){return this.filter(o)},lt.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},lt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},lt.prototype.desc=function(){return this.reverse()},lt.prototype.eachKey=function(o){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(p,b){o(b.key,b)})},lt.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},lt.prototype.eachPrimaryKey=function(o){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(p,b){o(b.primaryKey,b)})},lt.prototype.keys=function(o){var f=this._ctx;f.keysOnly=!f.isMatch;var p=[];return this.each(function(b,E){p.push(E.key)}).then(function(){return p}).then(o)},lt.prototype.primaryKeys=function(o){var f=this._ctx;if(f.dir==="next"&&er(f,!0)&&0<f.limit)return this._read(function(b){var E=ba(f,f.table.core.schema);return f.table.core.query({trans:b,values:!1,limit:f.limit,query:{index:E,range:f.range}})}).then(function(b){return b.result}).then(o);f.keysOnly=!f.isMatch;var p=[];return this.each(function(b,E){p.push(E.primaryKey)}).then(function(){return p}).then(o)},lt.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},lt.prototype.firstKey=function(o){return this.limit(1).keys(function(f){return f[0]}).then(o)},lt.prototype.lastKey=function(o){return this.reverse().firstKey(o)},lt.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var f={};return eu(this._ctx,function(E){var b=E.primaryKey.toString(),E=w(f,b);return f[b]=!0,!E}),this},lt.prototype.modify=function(o){var f=this,p=this._ctx;return this._write(function(b){var E,A,C;C=typeof o=="function"?o:(E=g(o),A=E.length,function(H){for(var $=!1,ee=0;ee<A;++ee){var te=E[ee],le=o[te],ge=de(H,te);le instanceof Sa?(xe(H,te,le.execute(ge)),$=!0):ge!==le&&(xe(H,te,le),$=!0)}return $});var M=p.table.core,U=M.schema.primaryKey,z=U.outbound,q=U.extractKey,G=200,U=f.db._options.modifyChunkSize;U&&(G=typeof U=="object"?U[M.name]||U["*"]||200:U);function V(H,te){var ee=te.failures,te=te.numFailures;Y+=H-te;for(var le=0,ge=g(ee);le<ge.length;le++){var Ae=ge[le];k.push(ee[Ae])}}var k=[],Y=0,X=[];return f.clone().primaryKeys().then(function(H){function $(te){var le=Math.min(G,H.length-te);return M.getMany({trans:b,keys:H.slice(te,te+le),cache:"immutable"}).then(function(ge){for(var Ae=[],ve=[],_e=z?[]:null,Oe=[],pe=0;pe<le;++pe){var je=ge[pe],Ge={value:Se(je),primKey:H[te+pe]};C.call(Ge,Ge.value,Ge)!==!1&&(Ge.value==null?Oe.push(H[te+pe]):z||tt(q(je),q(Ge.value))===0?(ve.push(Ge.value),z&&_e.push(H[te+pe])):(Oe.push(H[te+pe]),Ae.push(Ge.value)))}return Promise.resolve(0<Ae.length&&M.mutate({trans:b,type:"add",values:Ae}).then(function(Qe){for(var Pe in Qe.failures)Oe.splice(parseInt(Pe),1);V(Ae.length,Qe)})).then(function(){return(0<ve.length||ee&&typeof o=="object")&&M.mutate({trans:b,type:"put",keys:_e,values:ve,criteria:ee,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<te}).then(function(Qe){return V(ve.length,Qe)})}).then(function(){return(0<Oe.length||ee&&o===qi)&&M.mutate({trans:b,type:"delete",keys:Oe,criteria:ee,isAdditionalChunk:0<te}).then(function(Qe){return V(Oe.length,Qe)})}).then(function(){return H.length>te+le&&$(te+G)})})}var ee=er(p)&&p.limit===1/0&&(typeof o!="function"||o===qi)&&{index:p.index,range:p.range};return $(0).then(function(){if(0<k.length)throw new Le("Error modifying one or more objects",k,Y,X);return H.length})})})},lt.prototype.delete=function(){var o=this._ctx,f=o.range;return er(o)&&(o.isPrimKey||f.type===3)?this._write(function(p){var b=o.table.core.schema.primaryKey,E=f;return o.table.core.count({trans:p,query:{index:b,range:E}}).then(function(A){return o.table.core.mutate({trans:p,type:"deleteRange",range:E}).then(function(C){var M=C.failures;if(C.lastResult,C.results,C=C.numFailures,C)throw new Le("Could not delete some values",Object.keys(M).map(function(z){return M[z]}),A-C);return A-C})})}):this.modify(qi)},lt);function lt(){}var qi=function(o,f){return f.value=null};function Eo(o,f){return o<f?-1:o===f?0:1}function ru(o,f){return f<o?-1:o===f?0:1}function pn(o,f,p){return o=o instanceof Lr?new o.Collection(o):o,o._ctx.error=new(p||TypeError)(f),o}function Ea(o){return new o.Collection(o,function(){return Li("")}).limit(0)}function qr(o,f,p,b){var E,A,C,M,z,q,G,U=p.length;if(!p.every(function(Y){return typeof Y=="string"}))return pn(o,wo);function V(Y){E=Y==="next"?function(H){return H.toUpperCase()}:function(H){return H.toLowerCase()},A=Y==="next"?function(H){return H.toLowerCase()}:function(H){return H.toUpperCase()},C=Y==="next"?Eo:ru;var X=p.map(function(H){return{lower:A(H),upper:E(H)}}).sort(function(H,$){return C(H.lower,$.lower)});M=X.map(function(H){return H.upper}),z=X.map(function(H){return H.lower}),G=(q=Y)==="next"?"":b}V("next"),o=new o.Collection(o,function(){return Yn(M[0],z[U-1]+b)}),o._ondirectionchange=function(Y){V(Y)};var k=0;return o._addAlgorithm(function(Y,X,H){var $=Y.key;if(typeof $!="string")return!1;var ee=A($);if(f(ee,z,k))return!0;for(var te=null,le=k;le<U;++le){var ge=function(Ae,ve,_e,Oe,pe,je){for(var Ge=Math.min(Ae.length,Oe.length),Qe=-1,Pe=0;Pe<Ge;++Pe){var nn=ve[Pe];if(nn!==Oe[Pe])return pe(Ae[Pe],_e[Pe])<0?Ae.substr(0,Pe)+_e[Pe]+_e.substr(Pe+1):pe(Ae[Pe],Oe[Pe])<0?Ae.substr(0,Pe)+Oe[Pe]+_e.substr(Pe+1):0<=Qe?Ae.substr(0,Qe)+ve[Qe]+_e.substr(Qe+1):null;pe(Ae[Pe],nn)<0&&(Qe=Pe)}return Ge<Oe.length&&je==="next"?Ae+_e.substr(Ae.length):Ge<Ae.length&&je==="prev"?Ae.substr(0,_e.length):Qe<0?null:Ae.substr(0,Qe)+Oe[Qe]+_e.substr(Qe+1)}($,ee,M[le],z[le],C,q);ge===null&&te===null?k=le+1:(te===null||0<C(te,ge))&&(te=ge)}return X(te!==null?function(){Y.continue(te+G)}:H),!1}),o}function Yn(o,f,p,b){return{type:2,lower:o,upper:f,lowerOpen:p,upperOpen:b}}function Li(o){return{type:1,lower:o,upper:o}}var Lr=(Object.defineProperty(Et.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Et.prototype.between=function(o,f,p,b){p=p!==!1,b=b===!0;try{return 0<this._cmp(o,f)||this._cmp(o,f)===0&&(p||b)&&(!p||!b)?Ea(this):new this.Collection(this,function(){return Yn(o,f,!p,!b)})}catch{return pn(this,Kn)}},Et.prototype.equals=function(o){return o==null?pn(this,Kn):new this.Collection(this,function(){return Li(o)})},Et.prototype.above=function(o){return o==null?pn(this,Kn):new this.Collection(this,function(){return Yn(o,void 0,!0)})},Et.prototype.aboveOrEqual=function(o){return o==null?pn(this,Kn):new this.Collection(this,function(){return Yn(o,void 0,!1)})},Et.prototype.below=function(o){return o==null?pn(this,Kn):new this.Collection(this,function(){return Yn(void 0,o,!1,!0)})},Et.prototype.belowOrEqual=function(o){return o==null?pn(this,Kn):new this.Collection(this,function(){return Yn(void 0,o)})},Et.prototype.startsWith=function(o){return typeof o!="string"?pn(this,wo):this.between(o,o+fr,!0,!0)},Et.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):qr(this,function(f,p){return f.indexOf(p[0])===0},[o],fr)},Et.prototype.equalsIgnoreCase=function(o){return qr(this,function(f,p){return f===p[0]},[o],"")},Et.prototype.anyOfIgnoreCase=function(){var o=R.apply(he,arguments);return o.length===0?Ea(this):qr(this,function(f,p){return p.indexOf(f)!==-1},o,"")},Et.prototype.startsWithAnyOfIgnoreCase=function(){var o=R.apply(he,arguments);return o.length===0?Ea(this):qr(this,function(f,p){return p.some(function(b){return f.indexOf(b)===0})},o,fr)},Et.prototype.anyOf=function(){var o=this,f=R.apply(he,arguments),p=this._cmp;try{f.sort(p)}catch{return pn(this,Kn)}if(f.length===0)return Ea(this);var b=new this.Collection(this,function(){return Yn(f[0],f[f.length-1])});b._ondirectionchange=function(A){p=A==="next"?o._ascending:o._descending,f.sort(p)};var E=0;return b._addAlgorithm(function(A,C,M){for(var z=A.key;0<p(z,f[E]);)if(++E===f.length)return C(M),!1;return p(z,f[E])===0||(C(function(){A.continue(f[E])}),!1)}),b},Et.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Et.prototype.noneOf=function(){var o=R.apply(he,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return pn(this,Kn)}var f=o.reduce(function(p,b){return p?p.concat([[p[p.length-1][1],b]]):[[-1/0,b]]},null);return f.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(f,{includeLowers:!1,includeUppers:!1})},Et.prototype.inAnyRange=function($,f){var p=this,b=this._cmp,E=this._ascending,A=this._descending,C=this._min,M=this._max;if($.length===0)return Ea(this);if(!$.every(function(ee){return ee[0]!==void 0&&ee[1]!==void 0&&E(ee[0],ee[1])<=0}))return pn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",qe.InvalidArgument);var z=!f||f.includeLowers!==!1,q=f&&f.includeUppers===!0,G,U=E;function V(ee,te){return U(ee[0],te[0])}try{(G=$.reduce(function(ee,te){for(var le=0,ge=ee.length;le<ge;++le){var Ae=ee[le];if(b(te[0],Ae[1])<0&&0<b(te[1],Ae[0])){Ae[0]=C(Ae[0],te[0]),Ae[1]=M(Ae[1],te[1]);break}}return le===ge&&ee.push(te),ee},[])).sort(V)}catch{return pn(this,Kn)}var k=0,Y=q?function(ee){return 0<E(ee,G[k][1])}:function(ee){return 0<=E(ee,G[k][1])},X=z?function(ee){return 0<A(ee,G[k][0])}:function(ee){return 0<=A(ee,G[k][0])},H=Y,$=new this.Collection(this,function(){return Yn(G[0][0],G[G.length-1][1],!z,!q)});return $._ondirectionchange=function(ee){U=ee==="next"?(H=Y,E):(H=X,A),G.sort(V)},$._addAlgorithm(function(ee,te,le){for(var ge,Ae=ee.key;H(Ae);)if(++k===G.length)return te(le),!1;return!Y(ge=Ae)&&!X(ge)||(p._cmp(Ae,G[k][1])===0||p._cmp(Ae,G[k][0])===0||te(function(){U===E?ee.continue(G[k][0]):ee.continue(G[k][1])}),!1)}),$},Et.prototype.startsWithAnyOf=function(){var o=R.apply(he,arguments);return o.every(function(f){return typeof f=="string"})?o.length===0?Ea(this):this.inAnyRange(o.map(function(f){return[f,f+fr]})):pn(this,"startsWithAnyOf() only works with strings")},Et);function Et(){}function Tn(o){return Fe(function(f){return Hr(f),o(f.target.error),!1})}function Hr(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var xa="storagemutated",Kr="x-storagemutated-1",$t=hr(null,xa),au=(sn.prototype._lock=function(){return fe(!Be.global),++this._reculock,this._reculock!==1||Be.global||(Be.lockOwnerFor=this),this},sn.prototype._unlock=function(){if(fe(!Be.global),--this._reculock==0)for(Be.global||(Be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{or(o[1],o[0])}catch{}}return this},sn.prototype._locked=function(){return this._reculock&&Be.lockOwnerFor!==this},sn.prototype.create=function(o){var f=this;if(!this.mode)return this;var p=this.db.idbdb,b=this.db._state.dbOpenError;if(fe(!this.idbtrans),!o&&!p)switch(b&&b.name){case"DatabaseClosedError":throw new qe.DatabaseClosed(b);case"MissingAPIError":throw new qe.MissingAPI(b.message,b);default:throw new qe.OpenFailed(b)}if(!this.active)throw new qe.TransactionInactive;return fe(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||p).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Fe(function(E){Hr(E),f._reject(o.error)}),o.onabort=Fe(function(E){Hr(E),f.active&&f._reject(new qe.Abort(o.error)),f.active=!1,f.on("abort").fire(E)}),o.oncomplete=Fe(function(){f.active=!1,f._resolve(),"mutatedParts"in o&&$t.storagemutated.fire(o.mutatedParts)}),this},sn.prototype._promise=function(o,f,p){var b=this;if(o==="readwrite"&&this.mode!=="readwrite")return Ot(new qe.ReadOnly("Transaction is readonly"));if(!this.active)return Ot(new qe.TransactionInactive);if(this._locked())return new De(function(A,C){b._blockedFuncs.push([function(){b._promise(o,f,p).then(A,C)},Be])});if(p)return Hn(function(){var A=new De(function(C,M){b._lock();var z=f(C,M,b);z&&z.then&&z.then(C,M)});return A.finally(function(){return b._unlock()}),A._lib=!0,A});var E=new De(function(A,C){var M=f(A,C,b);M&&M.then&&M.then(A,C)});return E._lib=!0,E},sn.prototype._root=function(){return this.parent?this.parent._root():this},sn.prototype.waitFor=function(o){var f,p=this._root(),b=De.resolve(o);p._waitingFor?p._waitingFor=p._waitingFor.then(function(){return b}):(p._waitingFor=b,p._waitingQueue=[],f=p.idbtrans.objectStore(p.storeNames[0]),function A(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(f.get(-1/0).onsuccess=A)}());var E=p._waitingFor;return new De(function(A,C){b.then(function(M){return p._waitingQueue.push(Fe(A.bind(null,M)))},function(M){return p._waitingQueue.push(Fe(C.bind(null,M)))}).finally(function(){p._waitingFor===E&&(p._waitingFor=null)})})},sn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new qe.Abort))},sn.prototype.table=function(o){var f=this._memoizedTables||(this._memoizedTables={});if(w(f,o))return f[o];var p=this.schema[o];if(!p)throw new qe.NotFound("Table "+o+" not part of transaction");return p=new this.db.Table(o,p,this),p.core=this.db.core.table(o),f[o]=p},sn);function sn(){}function Gn(o,f,p,b,E,A,C){return{name:o,keyPath:f,unique:p,multi:b,auto:E,compound:A,src:(p&&!C?"&":"")+(b?"*":"")+(E?"++":"")+Hi(f)}}function Hi(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Aa(o,f,p){return{name:o,primKey:f,indexes:p,mappedClass:null,idxByName:(b=function(E){return[E.name,E]},p.reduce(function(E,A,C){return C=b(A,C),C&&(E[C[0]]=C[1]),E},{}))};var b}var Oa=function(o){try{return o.only([[]]),Oa=function(){return[[]]},[[]]}catch{return Oa=function(){return fr},fr}};function Ta(o){return o==null?function(){}:typeof o=="string"?(f=o).split(".").length===1?function(p){return p[f]}:function(p){return de(p,f)}:function(p){return de(p,o)};var f}function oi(o){return[].slice.call(o)}var xo=0;function Bt(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Yr(o,f,z){function b(H){if(H.type===3)return null;if(H.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var k=H.lower,Y=H.upper,X=H.lowerOpen,H=H.upperOpen;return k===void 0?Y===void 0?null:f.upperBound(Y,!!H):Y===void 0?f.lowerBound(k,!!X):f.bound(k,Y,!!X,!!H)}function E(V){var k,Y=V.name;return{name:Y,schema:V,mutate:function(X){var H=X.trans,$=X.type,ee=X.keys,te=X.values,le=X.range;return new Promise(function(ge,Ae){ge=Fe(ge);var ve=H.objectStore(Y),_e=ve.keyPath==null,Oe=$==="put"||$==="add";if(!Oe&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var pe,je=(ee||te||{length:1}).length;if(ee&&te&&ee.length!==te.length)throw new Error("Given keys array must have same length as given values array.");if(je===0)return ge({numFailures:0,failures:{},results:[],lastResult:void 0});function Ge(Ft){++nn,Hr(Ft)}var Qe=[],Pe=[],nn=0;if($==="deleteRange"){if(le.type===4)return ge({numFailures:nn,failures:Pe,results:[],lastResult:void 0});le.type===3?Qe.push(pe=ve.clear()):Qe.push(pe=ve.delete(b(le)))}else{var _e=Oe?_e?[te,ee]:[te,null]:[ee,null],Ze=_e[0],Nt=_e[1];if(Oe)for(var qt=0;qt<je;++qt)Qe.push(pe=Nt&&Nt[qt]!==void 0?ve[$](Ze[qt],Nt[qt]):ve[$](Ze[qt])),pe.onerror=Ge;else for(qt=0;qt<je;++qt)Qe.push(pe=ve[$](Ze[qt])),pe.onerror=Ge}function tr(Ft){Ft=Ft.target.result,Qe.forEach(function(Vn,mr){return Vn.error!=null&&(Pe[mr]=Vn.error)}),ge({numFailures:nn,failures:Pe,results:$==="delete"?ee:Qe.map(function(Vn){return Vn.result}),lastResult:Ft})}pe.onerror=function(Ft){Ge(Ft),tr(Ft)},pe.onsuccess=tr})},getMany:function(X){var H=X.trans,$=X.keys;return new Promise(function(ee,te){ee=Fe(ee);for(var le,ge=H.objectStore(Y),Ae=$.length,ve=new Array(Ae),_e=0,Oe=0,pe=function(Qe){Qe=Qe.target,ve[Qe._pos]=Qe.result,++Oe===_e&&ee(ve)},je=Tn(te),Ge=0;Ge<Ae;++Ge)$[Ge]!=null&&((le=ge.get($[Ge]))._pos=Ge,le.onsuccess=pe,le.onerror=je,++_e);_e===0&&ee(ve)})},get:function(X){var H=X.trans,$=X.key;return new Promise(function(ee,te){ee=Fe(ee);var le=H.objectStore(Y).get($);le.onsuccess=function(ge){return ee(ge.target.result)},le.onerror=Tn(te)})},query:(k=q,function(X){return new Promise(function(H,$){H=Fe(H);var ee,te,le,_e=X.trans,ge=X.values,Ae=X.limit,pe=X.query,ve=Ae===1/0?void 0:Ae,Oe=pe.index,pe=pe.range,_e=_e.objectStore(Y),Oe=Oe.isPrimaryKey?_e:_e.index(Oe.name),pe=b(pe);if(Ae===0)return H({result:[]});k?((ve=ge?Oe.getAll(pe,ve):Oe.getAllKeys(pe,ve)).onsuccess=function(je){return H({result:je.target.result})},ve.onerror=Tn($)):(ee=0,te=!ge&&"openKeyCursor"in Oe?Oe.openKeyCursor(pe):Oe.openCursor(pe),le=[],te.onsuccess=function(je){var Ge=te.result;return Ge?(le.push(ge?Ge.value:Ge.primaryKey),++ee===Ae?H({result:le}):void Ge.continue()):H({result:le})},te.onerror=Tn($))})}),openCursor:function(X){var H=X.trans,$=X.values,ee=X.query,te=X.reverse,le=X.unique;return new Promise(function(ge,Ae){ge=Fe(ge);var Oe=ee.index,ve=ee.range,_e=H.objectStore(Y),_e=Oe.isPrimaryKey?_e:_e.index(Oe.name),Oe=te?le?"prevunique":"prev":le?"nextunique":"next",pe=!$&&"openKeyCursor"in _e?_e.openKeyCursor(b(ve),Oe):_e.openCursor(b(ve),Oe);pe.onerror=Tn(Ae),pe.onsuccess=Fe(function(je){var Ge,Qe,Pe,nn,Ze=pe.result;Ze?(Ze.___id=++xo,Ze.done=!1,Ge=Ze.continue.bind(Ze),Qe=(Qe=Ze.continuePrimaryKey)&&Qe.bind(Ze),Pe=Ze.advance.bind(Ze),nn=function(){throw new Error("Cursor not stopped")},Ze.trans=H,Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=function(){throw new Error("Cursor not started")},Ze.fail=Fe(Ae),Ze.next=function(){var Nt=this,qt=1;return this.start(function(){return qt--?Nt.continue():Nt.stop()}).then(function(){return Nt})},Ze.start=function(Nt){function qt(){if(pe.result)try{Nt()}catch(Ft){Ze.fail(Ft)}else Ze.done=!0,Ze.start=function(){throw new Error("Cursor behind last entry")},Ze.stop()}var tr=new Promise(function(Ft,Vn){Ft=Fe(Ft),pe.onerror=Tn(Vn),Ze.fail=Vn,Ze.stop=function(mr){Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=nn,Ft(mr)}});return pe.onsuccess=Fe(function(Ft){pe.onsuccess=qt,qt()}),Ze.continue=Ge,Ze.continuePrimaryKey=Qe,Ze.advance=Pe,qt(),tr},ge(Ze)):ge(null)},Ae)})},count:function(X){var H=X.query,$=X.trans,ee=H.index,te=H.range;return new Promise(function(le,ge){var Ae=$.objectStore(Y),ve=ee.isPrimaryKey?Ae:Ae.index(ee.name),Ae=b(te),ve=Ae?ve.count(Ae):ve.count();ve.onsuccess=Fe(function(_e){return le(_e.target.result)}),ve.onerror=Tn(ge)})}}}var A,C,M,G=(C=z,M=oi((A=o).objectStoreNames),{schema:{name:A.name,tables:M.map(function(V){return C.objectStore(V)}).map(function(V){var k=V.keyPath,H=V.autoIncrement,Y=_(k),X={},H={name:V.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:k==null,compound:Y,keyPath:k,autoIncrement:H,unique:!0,extractKey:Ta(k)},indexes:oi(V.indexNames).map(function($){return V.index($)}).map(function(le){var ee=le.name,te=le.unique,ge=le.multiEntry,le=le.keyPath,ge={name:ee,compound:_(le),keyPath:le,unique:te,multiEntry:ge,extractKey:Ta(le)};return X[Bt(le)]=ge}),getIndexByKeyPath:function($){return X[Bt($)]}};return X[":id"]=H.primaryKey,k!=null&&(X[Bt(k)]=H.primaryKey),H})},hasGetAll:0<M.length&&"getAll"in C.objectStore(M[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),z=G.schema,q=G.hasGetAll,G=z.tables.map(E),U={};return G.forEach(function(V){return U[V.name]=V}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(V){if(!U[V])throw new Error("Table '".concat(V,"' not found"));return U[V]},MIN_KEY:-1/0,MAX_KEY:Oa(f),schema:z}}function Ki(o,f,p,b){var E=p.IDBKeyRange;return p.indexedDB,{dbcore:(b=Yr(f,E,b),o.dbcore.reduce(function(A,C){return C=C.create,u(u({},A),C(A))},b))}}function yr(o,b){var p=b.db,b=Ki(o._middlewares,p,o._deps,b);o.core=b.dbcore,o.tables.forEach(function(E){var A=E.name;o.core.schema.tables.some(function(C){return C.name===A})&&(E.core=o.core.table(A),o[A]instanceof o.Table&&(o[A].core=E.core))})}function Yi(o,f,p,b){p.forEach(function(E){var A=b[E];f.forEach(function(C){var M=function z(q,G){return L(q,G)||(q=v(q))&&z(q,G)}(C,E);(!M||"value"in M&&M.value===void 0)&&(C===o.Transaction.prototype||C instanceof o.Transaction?D(C,E,{get:function(){return this.table(E)},set:function(z){T(this,E,{value:z,writable:!0,configurable:!0,enumerable:!0})}}):C[E]=new o.Table(E,A))})})}function si(o,f){f.forEach(function(p){for(var b in p)p[b]instanceof o.Table&&delete p[b]})}function iu(o,f){return o._cfg.version-f._cfg.version}function ci(o,f,p,b){var E=o._dbSchema;p.objectStoreNames.contains("$meta")&&!E.$meta&&(E.$meta=Aa("$meta",Oo("")[0],[]),o._storeNames.push("$meta"));var A=o._createTransaction("readwrite",o._storeNames,E);A.create(p),A._completion.catch(b);var C=A._reject.bind(A),M=Be.transless||Be;Hn(function(){return Be.trans=A,Be.transless=M,f!==0?(yr(o,p),q=f,((z=A).storeNames.includes("$meta")?z.table("$meta").get("version").then(function(G){return G??q}):De.resolve(q)).then(function(G){return V=G,k=A,Y=p,X=[],G=(U=o)._versions,H=U._dbSchema=Ca(0,U.idbdb,Y),(G=G.filter(function($){return $._cfg.version>=V})).length!==0?(G.forEach(function($){X.push(function(){var ee=H,te=$._cfg.dbschema;Xi(U,ee,Y),Xi(U,te,Y),H=U._dbSchema=te;var le=Qi(ee,te);le.add.forEach(function(Oe){lu(Y,Oe[0],Oe[1].primKey,Oe[1].indexes)}),le.change.forEach(function(Oe){if(Oe.recreate)throw new qe.Upgrade("Not yet support for changing primary key");var pe=Y.objectStore(Oe.name);Oe.add.forEach(function(je){return Vi(pe,je)}),Oe.change.forEach(function(je){pe.deleteIndex(je.name),Vi(pe,je)}),Oe.del.forEach(function(je){return pe.deleteIndex(je)})});var ge=$._cfg.contentUpgrade;if(ge&&$._cfg.version>V){yr(U,Y),k._memoizedTables={};var Ae=Ue(te);le.del.forEach(function(Oe){Ae[Oe]=ee[Oe]}),si(U,[U.Transaction.prototype]),Yi(U,[U.Transaction.prototype],g(Ae),Ae),k.schema=Ae;var ve,_e=J(ge);return _e&&An(),le=De.follow(function(){var Oe;(ve=ge(k))&&_e&&(Oe=yn.bind(null,null),ve.then(Oe,Oe))}),ve&&typeof ve.then=="function"?De.resolve(ve):le.then(function(){return ve})}}),X.push(function(ee){var te,le,ge=$._cfg.dbschema;te=ge,le=ee,[].slice.call(le.db.objectStoreNames).forEach(function(Ae){return te[Ae]==null&&le.db.deleteObjectStore(Ae)}),si(U,[U.Transaction.prototype]),Yi(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),k.schema=U._dbSchema}),X.push(function(ee){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===$._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(te){return te!=="$meta"})):ee.objectStore("$meta").put($._cfg.version,"version"))})}),function $(){return X.length?De.resolve(X.shift()(k.idbtrans)).then($):De.resolve()}().then(function(){Ao(H,Y)})):De.resolve();var U,V,k,Y,X,H}).catch(C)):(g(E).forEach(function(G){lu(p,G,E[G].primKey,E[G].indexes)}),yr(o,p),void De.follow(function(){return o.on.populate.fire(A)}).catch(C));var z,q})}function Gi(o,f){Ao(o._dbSchema,f),f.db.version%10!=0||f.objectStoreNames.contains("$meta")||f.db.createObjectStore("$meta").add(Math.ceil(f.db.version/10-1),"version");var p=Ca(0,o.idbdb,f);Xi(o,o._dbSchema,f);for(var b=0,E=Qi(p,o._dbSchema).change;b<E.length;b++){var A=function(C){if(C.change.length||C.recreate)return console.warn("Unable to patch indexes of table ".concat(C.name," because it has changes on the type of index or primary key.")),{value:void 0};var M=f.objectStore(C.name);C.add.forEach(function(z){hn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(C.name,".").concat(z.src)),Vi(M,z)})}(E[b]);if(typeof A=="object")return A.value}}function Qi(o,f){var p,b={del:[],add:[],change:[]};for(p in o)f[p]||b.del.push(p);for(p in f){var E=o[p],A=f[p];if(E){var C={name:p,def:A,recreate:!1,del:[],add:[],change:[]};if(""+(E.primKey.keyPath||"")!=""+(A.primKey.keyPath||"")||E.primKey.auto!==A.primKey.auto)C.recreate=!0,b.change.push(C);else{var M=E.idxByName,z=A.idxByName,q=void 0;for(q in M)z[q]||C.del.push(q);for(q in z){var G=M[q],U=z[q];G?G.src!==U.src&&C.change.push(U):C.add.push(U)}(0<C.del.length||0<C.add.length||0<C.change.length)&&b.change.push(C)}}else b.add.push([p,A])}return b}function lu(o,f,p,b){var E=o.db.createObjectStore(f,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});return b.forEach(function(A){return Vi(E,A)}),E}function Ao(o,f){g(o).forEach(function(p){f.db.objectStoreNames.contains(p)||(hn&&console.debug("Dexie: Creating missing table",p),lu(f,p,o[p].primKey,o[p].indexes))})}function Vi(o,f){o.createIndex(f.name,f.keyPath,{unique:f.unique,multiEntry:f.multi})}function Ca(o,f,p){var b={};return ie(f.objectStoreNames,0).forEach(function(E){for(var A=p.objectStore(E),C=Gn(Hi(q=A.keyPath),q||"",!0,!1,!!A.autoIncrement,q&&typeof q!="string",!0),M=[],z=0;z<A.indexNames.length;++z){var G=A.index(A.indexNames[z]),q=G.keyPath,G=Gn(G.name,q,!!G.unique,!!G.multiEntry,!1,q&&typeof q!="string",!1);M.push(G)}b[E]=Aa(E,C,M)}),b}function Xi(o,f,p){for(var b=p.db.objectStoreNames,E=0;E<b.length;++E){var A=b[E],C=p.objectStore(A);o._hasGetAll="getAll"in C;for(var M=0;M<C.indexNames.length;++M){var z=C.indexNames[M],q=C.index(z).keyPath,G=typeof q=="string"?q:"["+ie(q).join("+")+"]";!f[A]||(q=f[A].idxByName[G])&&(q.name=z,delete f[A].idxByName[G],f[A].idxByName[z]=q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function Oo(o){return o.split(",").map(function(f,p){var b=(f=f.trim()).replace(/([&*]|\+\+)/g,""),E=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return Gn(b,E||null,/\&/.test(f),/\*/.test(f),/\+\+/.test(f),_(E),p===0)})}var dc=(Zi.prototype._parseStoresSpec=function(o,f){g(o).forEach(function(p){if(o[p]!==null){var b=Oo(o[p]),E=b.shift();if(E.unique=!0,E.multi)throw new qe.Schema("Primary key cannot be multi-valued");b.forEach(function(A){if(A.auto)throw new qe.Schema("Only primary key can be marked as autoIncrement (++)");if(!A.keyPath)throw new qe.Schema("Index must have a name and cannot be an empty string")}),f[p]=Aa(p,E,b)}})},Zi.prototype.stores=function(p){var f=this.db;this._cfg.storesSource=this._cfg.storesSource?m(this._cfg.storesSource,p):p;var p=f._versions,b={},E={};return p.forEach(function(A){m(b,A._cfg.storesSource),E=A._cfg.dbschema={},A._parseStoresSpec(b,E)}),f._dbSchema=E,si(f,[f._allTables,f,f.Transaction.prototype]),Yi(f,[f._allTables,f,f.Transaction.prototype,this._cfg.tables],g(E),E),f._storeNames=g(E),this},Zi.prototype.upgrade=function(o){return this._cfg.contentUpgrade=ji(this._cfg.contentUpgrade||ot,o),this},Zi);function Zi(){}function uu(o,f){var p=o._dbNamesDB;return p||(p=o._dbNamesDB=new Qn(kr,{addons:[],indexedDB:o,IDBKeyRange:f})).version(1).stores({dbnames:"name"}),p.table("dbnames")}function Ii(o){return o&&typeof o.databases=="function"}function ou(o){return Hn(function(){return Be.letThrough=!0,o()})}function su(o){return!("from"in o)}var Jt=function(o,f){if(!this){var p=new Jt;return o&&"d"in o&&m(p,o),p}m(this,arguments.length?{d:1,from:o,to:1<arguments.length?f:o}:{d:0})};function fi(o,f,p){var b=tt(f,p);if(!isNaN(b)){if(0<b)throw RangeError();if(su(o))return m(o,{from:f,to:p,d:1});var E=o.l,b=o.r;if(tt(p,o.from)<0)return E?fi(E,f,p):o.l={from:f,to:p,d:1,l:null,r:null},Co(o);if(0<tt(f,o.to))return b?fi(b,f,p):o.r={from:f,to:p,d:1,l:null,r:null},Co(o);tt(f,o.from)<0&&(o.from=f,o.l=null,o.d=b?b.d+1:1),0<tt(p,o.to)&&(o.to=p,o.r=null,o.d=o.l?o.l.d+1:1),p=!o.r,E&&!o.l&&Gr(o,E),b&&p&&Gr(o,b)}}function Gr(o,f){su(f)||function p(b,z){var A=z.from,C=z.to,M=z.l,z=z.r;fi(b,A,C),M&&p(b,M),z&&p(b,z)}(o,f)}function To(o,f){var p=Pi(f),b=p.next();if(b.done)return!1;for(var E=b.value,A=Pi(o),C=A.next(E.from),M=C.value;!b.done&&!C.done;){if(tt(M.from,E.to)<=0&&0<=tt(M.to,E.from))return!0;tt(E.from,M.from)<0?E=(b=p.next(M.from)).value:M=(C=A.next(E.from)).value}return!1}function Pi(o){var f=su(o)?null:{s:0,n:o};return{next:function(p){for(var b=0<arguments.length;f;)switch(f.s){case 0:if(f.s=1,b)for(;f.n.l&&tt(p,f.n.from)<0;)f={up:f,n:f.n.l,s:1};else for(;f.n.l;)f={up:f,n:f.n.l,s:1};case 1:if(f.s=2,!b||tt(p,f.n.to)<=0)return{value:f.n,done:!1};case 2:if(f.n.r){f.s=3,f={up:f,n:f.n.r,s:0};continue}case 3:f=f.up}return{done:!0}}}}function Co(o){var f,p,b=(((f=o.r)===null||f===void 0?void 0:f.d)||0)-(((p=o.l)===null||p===void 0?void 0:p.d)||0),E=1<b?"r":b<-1?"l":"";E&&(f=E=="r"?"l":"r",p=u({},o),b=o[E],o.from=b.from,o.to=b.to,o[E]=b[E],p[E]=b[f],(o[f]=p).d=cu(p)),o.d=cu(o)}function cu(p){var f=p.r,p=p.l;return(f?p?Math.max(f.d,p.d):f.d:p?p.d:0)+1}function $i(o,f){return g(f).forEach(function(p){o[p]?Gr(o[p],f[p]):o[p]=function b(E){var A,C,M={};for(A in E)w(E,A)&&(C=E[A],M[A]=!C||typeof C!="object"||we.has(C.constructor)?C:b(C));return M}(f[p])}),o}function fu(o,f){return o.all||f.all||Object.keys(o).some(function(p){return f[p]&&To(f[p],o[p])})}x(Jt.prototype,((mn={add:function(o){return Gr(this,o),this},addKey:function(o){return fi(this,o,o),this},addKeys:function(o){var f=this;return o.forEach(function(p){return fi(f,p,p)}),this},hasKey:function(o){var f=Pi(this).next(o).value;return f&&tt(f.from,o)<=0&&0<=tt(f.to,o)}})[I]=function(){return Pi(this)},mn));var Qr={},du={},hu=!1;function Ji(o){$i(du,o),hu||(hu=!0,setTimeout(function(){hu=!1,yu(du,!(du={}))},0))}function yu(o,f){f===void 0&&(f=!1);var p=new Set;if(o.all)for(var b=0,E=Object.values(Qr);b<E.length;b++)Ro(C=E[b],o,p,f);else for(var A in o){var C,M=/^idb\:\/\/(.*)\/(.*)\//.exec(A);M&&(A=M[1],M=M[2],(C=Qr["idb://".concat(A,"/").concat(M)])&&Ro(C,o,p,f))}p.forEach(function(z){return z()})}function Ro(o,f,p,b){for(var E=[],A=0,C=Object.entries(o.queries.query);A<C.length;A++){for(var M=C[A],z=M[0],q=[],G=0,U=M[1];G<U.length;G++){var V=U[G];fu(f,V.obsSet)?V.subscribers.forEach(function(H){return p.add(H)}):b&&q.push(V)}b&&E.push([z,q])}if(b)for(var k=0,Y=E;k<Y.length;k++){var X=Y[k],z=X[0],q=X[1];o.queries.query[z]=q}}function hc(o){var f=o._state,p=o._deps.indexedDB;if(f.isBeingOpened||o.idbdb)return f.dbReadyPromise.then(function(){return f.dbOpenError?Ot(f.dbOpenError):o});f.isBeingOpened=!0,f.dbOpenError=null,f.openComplete=!1;var b=f.openCanceller,E=Math.round(10*o.verno),A=!1;function C(){if(f.openCanceller!==b)throw new qe.DatabaseClosed("db.open() was cancelled")}function M(){return new De(function(V,k){if(C(),!p)throw new qe.MissingAPI;var Y=o.name,X=f.autoSchema||!E?p.open(Y):p.open(Y,E);if(!X)throw new qe.MissingAPI;X.onerror=Tn(k),X.onblocked=Fe(o._fireOnBlocked),X.onupgradeneeded=Fe(function(H){var $;G=X.transaction,f.autoSchema&&!o._options.allowEmptyDB?(X.onerror=Hr,G.abort(),X.result.close(),($=p.deleteDatabase(Y)).onsuccess=$.onerror=Fe(function(){k(new qe.NoSuchDatabase("Database ".concat(Y," doesnt exist")))})):(G.onerror=Tn(k),H=H.oldVersion>Math.pow(2,62)?0:H.oldVersion,U=H<1,o.idbdb=X.result,A&&Gi(o,G),ci(o,H/10,G,k))},k),X.onsuccess=Fe(function(){G=null;var H,$,ee,te,le,ge=o.idbdb=X.result,Ae=ie(ge.objectStoreNames);if(0<Ae.length)try{var ve=ge.transaction((te=Ae).length===1?te[0]:te,"readonly");if(f.autoSchema)$=ge,ee=ve,(H=o).verno=$.version/10,ee=H._dbSchema=Ca(0,$,ee),H._storeNames=ie($.objectStoreNames,0),Yi(H,[H._allTables],g(ee),ee);else if(Xi(o,o._dbSchema,ve),((le=Qi(Ca(0,(le=o).idbdb,ve),le._dbSchema)).add.length||le.change.some(function(_e){return _e.add.length||_e.change.length}))&&!A)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ge.close(),E=ge.version+1,A=!0,V(M());yr(o,ve)}catch{}Wn.push(o),ge.onversionchange=Fe(function(_e){f.vcFired=!0,o.on("versionchange").fire(_e)}),ge.onclose=Fe(function(_e){o.on("close").fire(_e)}),U&&(le=o._deps,ve=Y,ge=le.indexedDB,le=le.IDBKeyRange,Ii(ge)||ve===kr||uu(ge,le).put({name:ve}).catch(ot)),V()},k)}).catch(function(V){switch(V?.name){case"UnknownError":if(0<f.PR1398_maxLoop)return f.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),M();break;case"VersionError":if(0<E)return E=0,M()}return De.reject(V)})}var z,q=f.dbReadyResolve,G=null,U=!1;return De.race([b,(typeof navigator>"u"?De.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(V){function k(){return indexedDB.databases().finally(V)}z=setInterval(k,100),k()}).finally(function(){return clearInterval(z)}):Promise.resolve()).then(M)]).then(function(){return C(),f.onReadyBeingFired=[],De.resolve(ou(function(){return o.on.ready.fire(o.vip)})).then(function V(){if(0<f.onReadyBeingFired.length){var k=f.onReadyBeingFired.reduce(ji,ot);return f.onReadyBeingFired=[],De.resolve(ou(function(){return k(o.vip)})).then(V)}})}).finally(function(){f.openCanceller===b&&(f.onReadyBeingFired=null,f.isBeingOpened=!1)}).catch(function(V){f.dbOpenError=V;try{G&&G.abort()}catch{}return b===f.openCanceller&&o._close(),Ot(V)}).finally(function(){f.openComplete=!0,q()}).then(function(){var V;return U&&(V={},o.tables.forEach(function(k){k.schema.indexes.forEach(function(Y){Y.name&&(V["idb://".concat(o.name,"/").concat(k.name,"/").concat(Y.name)]=new Jt(-1/0,[[[]]]))}),V["idb://".concat(o.name,"/").concat(k.name,"/")]=V["idb://".concat(o.name,"/").concat(k.name,"/:dels")]=new Jt(-1/0,[[[]]])}),$t(xa).fire(V),yu(V,!0)),o})}function di(o){function f(A){return o.next(A)}var p=E(f),b=E(function(A){return o.throw(A)});function E(A){return function(z){var M=A(z),z=M.value;return M.done?z:z&&typeof z.then=="function"?z.then(p,b):_(z)?Promise.all(z).then(p,b):p(z)}}return E(f)()}function vr(o,f,p){for(var b=_(o)?o.slice():[o],E=0;E<p;++E)b.push(f);return b}var yc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return u(u({},o),{table:function(f){var p=o.table(f),b=p.schema,E={},A=[];function C(U,V,k){var Y=Bt(U),X=E[Y]=E[Y]||[],H=U==null?0:typeof U=="string"?1:U.length,$=0<V,$=u(u({},k),{name:$?"".concat(Y,"(virtual-from:").concat(k.name,")"):k.name,lowLevelIndex:k,isVirtual:$,keyTail:V,keyLength:H,extractKey:Ta(U),unique:!$&&k.unique});return X.push($),$.isPrimaryKey||A.push($),1<H&&C(H===2?U[0]:U.slice(0,H-1),V+1,k),X.sort(function(ee,te){return ee.keyTail-te.keyTail}),$}f=C(b.primaryKey.keyPath,0,b.primaryKey),E[":id"]=[f];for(var M=0,z=b.indexes;M<z.length;M++){var q=z[M];C(q.keyPath,0,q)}function G(U){var V,k=U.query.index;return k.isVirtual?u(u({},U),{query:{index:k.lowLevelIndex,range:(V=U.query.range,k=k.keyTail,{type:V.type===1?2:V.type,lower:vr(V.lower,V.lowerOpen?o.MAX_KEY:o.MIN_KEY,k),lowerOpen:!0,upper:vr(V.upper,V.upperOpen?o.MIN_KEY:o.MAX_KEY,k),upperOpen:!0})}}):U}return u(u({},p),{schema:u(u({},b),{primaryKey:f,indexes:A,getIndexByKeyPath:function(U){return(U=E[Bt(U)])&&U[0]}}),count:function(U){return p.count(G(U))},query:function(U){return p.query(G(U))},openCursor:function(U){var V=U.query.index,k=V.keyTail,Y=V.isVirtual,X=V.keyLength;return Y?p.openCursor(G(U)).then(function($){return $&&H($)}):p.openCursor(U);function H($){return Object.create($,{continue:{value:function(ee){ee!=null?$.continue(vr(ee,U.reverse?o.MAX_KEY:o.MIN_KEY,k)):U.unique?$.continue($.key.slice(0,X).concat(U.reverse?o.MIN_KEY:o.MAX_KEY,k)):$.continue()}},continuePrimaryKey:{value:function(ee,te){$.continuePrimaryKey(vr(ee,o.MAX_KEY,k),te)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var ee=$.key;return X===1?ee[0]:ee.slice(0,X)}},value:{get:function(){return $.value}}})}}})}})}};function Fi(o,f,p,b){return p=p||{},b=b||"",g(o).forEach(function(E){var A,C,M;w(f,E)?(A=o[E],C=f[E],typeof A=="object"&&typeof C=="object"&&A&&C?(M=Ee(A))!==Ee(C)?p[b+E]=f[E]:M==="Object"?Fi(A,C,p,b+E+"."):A!==C&&(p[b+E]=f[E]):A!==C&&(p[b+E]=f[E])):p[b+E]=void 0}),g(f).forEach(function(E){w(o,E)||(p[b+E]=f[E])}),p}function Wi(o,f){return f.type==="delete"?f.keys:f.keys||f.values.map(o.extractKey)}var Do={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return u(u({},o),{table:function(f){var p=o.table(f),b=p.schema.primaryKey;return u(u({},p),{mutate:function(E){var A=Be.trans,C=A.table(f).hook,M=C.deleting,z=C.creating,q=C.updating;switch(E.type){case"add":if(z.fire===ot)break;return A._promise("readwrite",function(){return G(E)},!0);case"put":if(z.fire===ot&&q.fire===ot)break;return A._promise("readwrite",function(){return G(E)},!0);case"delete":if(M.fire===ot)break;return A._promise("readwrite",function(){return G(E)},!0);case"deleteRange":if(M.fire===ot)break;return A._promise("readwrite",function(){return function U(V,k,Y){return p.query({trans:V,values:!1,query:{index:b,range:k},limit:Y}).then(function(X){var H=X.result;return G({type:"delete",keys:H,trans:V}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):H.length<Y?{failures:[],numFailures:0,lastResult:void 0}:U(V,u(u({},k),{lower:H[H.length-1],lowerOpen:!0}),Y)})})}(E.trans,E.range,1e4)},!0)}return p.mutate(E);function G(U){var V,k,Y,X=Be.trans,H=U.keys||Wi(b,U);if(!H)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?u(u({},U),{keys:H}):u({},U)).type!=="delete"&&(U.values=c([],U.values)),U.keys&&(U.keys=c([],U.keys)),V=p,Y=H,((k=U).type==="add"?Promise.resolve([]):V.getMany({trans:k.trans,keys:Y,cache:"immutable"})).then(function($){var ee=H.map(function(te,le){var ge,Ae,ve,_e=$[le],Oe={onerror:null,onsuccess:null};return U.type==="delete"?M.fire.call(Oe,te,_e,X):U.type==="add"||_e===void 0?(ge=z.fire.call(Oe,te,U.values[le],X),te==null&&ge!=null&&(U.keys[le]=te=ge,b.outbound||xe(U.values[le],b.keyPath,te))):(ge=Fi(_e,U.values[le]),(Ae=q.fire.call(Oe,ge,te,_e,X))&&(ve=U.values[le],Object.keys(Ae).forEach(function(pe){w(ve,pe)?ve[pe]=Ae[pe]:xe(ve,pe,Ae[pe])}))),Oe});return p.mutate(U).then(function(te){for(var le=te.failures,ge=te.results,Ae=te.numFailures,te=te.lastResult,ve=0;ve<H.length;++ve){var _e=(ge||H)[ve],Oe=ee[ve];_e==null?Oe.onerror&&Oe.onerror(le[ve]):Oe.onsuccess&&Oe.onsuccess(U.type==="put"&&$[ve]?U.values[ve]:_e)}return{failures:le,results:ge,numFailures:Ae,lastResult:te}}).catch(function(te){return ee.forEach(function(le){return le.onerror&&le.onerror(te)}),Promise.reject(te)})})}}})}})}};function vu(o,f,p){try{if(!f||f.keys.length<o.length)return null;for(var b=[],E=0,A=0;E<f.keys.length&&A<o.length;++E)tt(f.keys[E],o[A])===0&&(b.push(p?Se(f.values[E]):f.values[E]),++A);return b.length===o.length?b:null}catch{return null}}var Mo={stack:"dbcore",level:-1,create:function(o){return{table:function(f){var p=o.table(f);return u(u({},p),{getMany:function(b){if(!b.cache)return p.getMany(b);var E=vu(b.keys,b.trans._cache,b.cache==="clone");return E?De.resolve(E):p.getMany(b).then(function(A){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?Se(A):A},A})},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),p.mutate(b)}})}}}};function Vr(o,f){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!f.schema.primaryKey.outbound}function jo(o,f){switch(o){case"query":return f.values&&!f.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var vc={stack:"dbcore",level:0,name:"Observability",create:function(o){var f=o.schema.name,p=new Jt(o.MIN_KEY,o.MAX_KEY);return u(u({},o),{transaction:function(b,E,A){if(Be.subscr&&E!=="readonly")throw new qe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Be.querier));return o.transaction(b,E,A)},table:function(b){var E=o.table(b),A=E.schema,C=A.primaryKey,U=A.indexes,M=C.extractKey,z=C.outbound,q=C.autoIncrement&&U.filter(function(k){return k.compound&&k.keyPath.includes(C.keyPath)}),G=u(u({},E),{mutate:function(k){function Y(pe){return pe="idb://".concat(f,"/").concat(b,"/").concat(pe),te[pe]||(te[pe]=new Jt)}var X,H,$,ee=k.trans,te=k.mutatedParts||(k.mutatedParts={}),le=Y(""),ge=Y(":dels"),Ae=k.type,Oe=k.type==="deleteRange"?[k.range]:k.type==="delete"?[k.keys]:k.values.length<50?[Wi(C,k).filter(function(pe){return pe}),k.values]:[],ve=Oe[0],_e=Oe[1],Oe=k.trans._cache;return _(ve)?(le.addKeys(ve),(Oe=Ae==="delete"||ve.length===_e.length?vu(ve,Oe):null)||ge.addKeys(ve),(Oe||_e)&&(X=Y,H=Oe,$=_e,A.indexes.forEach(function(pe){var je=X(pe.name||"");function Ge(Pe){return Pe!=null?pe.extractKey(Pe):null}function Qe(Pe){return pe.multiEntry&&_(Pe)?Pe.forEach(function(nn){return je.addKey(nn)}):je.addKey(Pe)}(H||$).forEach(function(Pe,Nt){var Ze=H&&Ge(H[Nt]),Nt=$&&Ge($[Nt]);tt(Ze,Nt)!==0&&(Ze!=null&&Qe(Ze),Nt!=null&&Qe(Nt))})}))):ve?(_e={from:(_e=ve.lower)!==null&&_e!==void 0?_e:o.MIN_KEY,to:(_e=ve.upper)!==null&&_e!==void 0?_e:o.MAX_KEY},ge.add(_e),le.add(_e)):(le.add(p),ge.add(p),A.indexes.forEach(function(pe){return Y(pe.name).add(p)})),E.mutate(k).then(function(pe){return!ve||k.type!=="add"&&k.type!=="put"||(le.addKeys(pe.results),q&&q.forEach(function(je){for(var Ge=k.values.map(function(Ze){return je.extractKey(Ze)}),Qe=je.keyPath.findIndex(function(Ze){return Ze===C.keyPath}),Pe=0,nn=pe.results.length;Pe<nn;++Pe)Ge[Pe][Qe]=pe.results[Pe];Y(je.name).addKeys(Ge)})),ee.mutatedParts=$i(ee.mutatedParts||{},te),pe})}}),U=function(Y){var X=Y.query,Y=X.index,X=X.range;return[Y,new Jt((Y=X.lower)!==null&&Y!==void 0?Y:o.MIN_KEY,(X=X.upper)!==null&&X!==void 0?X:o.MAX_KEY)]},V={get:function(k){return[C,new Jt(k.key)]},getMany:function(k){return[C,new Jt().addKeys(k.keys)]},count:U,query:U,openCursor:U};return g(V).forEach(function(k){G[k]=function(Y){var X=Be.subscr,H=!!X,$=Vr(Be,E)&&jo(k,Y)?Y.obsSet={}:X;if(H){var ee=function(_e){return _e="idb://".concat(f,"/").concat(b,"/").concat(_e),$[_e]||($[_e]=new Jt)},te=ee(""),le=ee(":dels"),X=V[k](Y),H=X[0],X=X[1];if((k==="query"&&H.isPrimaryKey&&!Y.values?le:ee(H.name||"")).add(X),!H.isPrimaryKey){if(k!=="count"){var ge=k==="query"&&z&&Y.values&&E.query(u(u({},Y),{values:!1}));return E[k].apply(this,arguments).then(function(_e){if(k==="query"){if(z&&Y.values)return ge.then(function(Ge){return Ge=Ge.result,te.addKeys(Ge),_e});var Oe=Y.values?_e.result.map(M):_e.result;(Y.values?te:le).addKeys(Oe)}else if(k==="openCursor"){var pe=_e,je=Y.values;return pe&&Object.create(pe,{key:{get:function(){return le.addKey(pe.primaryKey),pe.key}},primaryKey:{get:function(){var Ge=pe.primaryKey;return le.addKey(Ge),Ge}},value:{get:function(){return je&&te.addKey(pe.primaryKey),pe.value}}})}return _e})}le.add(p)}}return E[k].apply(this,arguments)}}),G}})}};function Uo(o,f,p){if(p.numFailures===0)return f;if(f.type==="deleteRange")return null;var b=f.keys?f.keys.length:"values"in f&&f.values?f.values.length:1;return p.numFailures===b?null:(f=u({},f),_(f.keys)&&(f.keys=f.keys.filter(function(E,A){return!(A in p.failures)})),"values"in f&&_(f.values)&&(f.values=f.values.filter(function(E,A){return!(A in p.failures)})),f)}function el(o,f){return p=o,((b=f).lower===void 0||(b.lowerOpen?0<tt(p,b.lower):0<=tt(p,b.lower)))&&(o=o,(f=f).upper===void 0||(f.upperOpen?tt(o,f.upper)<0:tt(o,f.upper)<=0));var p,b}function pu(o,f,V,b,E,A){if(!V||V.length===0)return o;var C=f.query.index,M=C.multiEntry,z=f.query.range,q=b.schema.primaryKey.extractKey,G=C.extractKey,U=(C.lowLevelIndex||C).extractKey,V=V.reduce(function(k,Y){var X=k,H=[];if(Y.type==="add"||Y.type==="put")for(var $=new Jt,ee=Y.values.length-1;0<=ee;--ee){var te,le=Y.values[ee],ge=q(le);$.hasKey(ge)||(te=G(le),(M&&_(te)?te.some(function(pe){return el(pe,z)}):el(te,z))&&($.addKey(ge),H.push(le)))}switch(Y.type){case"add":var Ae=new Jt().addKeys(f.values?k.map(function(je){return q(je)}):k),X=k.concat(f.values?H.filter(function(je){return je=q(je),!Ae.hasKey(je)&&(Ae.addKey(je),!0)}):H.map(function(je){return q(je)}).filter(function(je){return!Ae.hasKey(je)&&(Ae.addKey(je),!0)}));break;case"put":var ve=new Jt().addKeys(Y.values.map(function(je){return q(je)}));X=k.filter(function(je){return!ve.hasKey(f.values?q(je):je)}).concat(f.values?H:H.map(function(je){return q(je)}));break;case"delete":var _e=new Jt().addKeys(Y.keys);X=k.filter(function(je){return!_e.hasKey(f.values?q(je):je)});break;case"deleteRange":var Oe=Y.range;X=k.filter(function(je){return!el(q(je),Oe)})}return X},o);return V===o?o:(V.sort(function(k,Y){return tt(U(k),U(Y))||tt(q(k),q(Y))}),f.limit&&f.limit<1/0&&(V.length>f.limit?V.length=f.limit:o.length===f.limit&&V.length<f.limit&&(E.dirty=!0)),A?Object.freeze(V):V)}function Ra(o,f){return tt(o.lower,f.lower)===0&&tt(o.upper,f.upper)===0&&!!o.lowerOpen==!!f.lowerOpen&&!!o.upperOpen==!!f.upperOpen}function hi(o,f){return function(p,b,E,A){if(p===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((b=tt(p,b))===0){if(E&&A)return 0;if(E)return 1;if(A)return-1}return b}(o.lower,f.lower,o.lowerOpen,f.lowerOpen)<=0&&0<=function(p,b,E,A){if(p===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((b=tt(p,b))===0){if(E&&A)return 0;if(E)return-1;if(A)return 1}return b}(o.upper,f.upper,o.upperOpen,f.upperOpen)}function pc(o,f,p,b){o.subscribers.add(p),b.addEventListener("abort",function(){var E,A;o.subscribers.delete(p),o.subscribers.size===0&&(E=o,A=f,setTimeout(function(){E.subscribers.size===0&&Re(A,E)},3e3))})}var tl={stack:"dbcore",level:0,name:"Cache",create:function(o){var f=o.schema.name;return u(u({},o),{transaction:function(p,b,E){var A,C,M=o.transaction(p,b,E);return b==="readwrite"&&(C=(A=new AbortController).signal,E=function(z){return function(){if(A.abort(),b==="readwrite"){for(var q=new Set,G=0,U=p;G<U.length;G++){var V=U[G],k=Qr["idb://".concat(f,"/").concat(V)];if(k){var Y=o.table(V),X=k.optimisticOps.filter(function(je){return je.trans===M});if(M._explicit&&z&&M.mutatedParts)for(var H=0,$=Object.values(k.queries.query);H<$.length;H++)for(var ee=0,te=(Ae=$[H]).slice();ee<te.length;ee++)fu((ve=te[ee]).obsSet,M.mutatedParts)&&(Re(Ae,ve),ve.subscribers.forEach(function(je){return q.add(je)}));else if(0<X.length){k.optimisticOps=k.optimisticOps.filter(function(je){return je.trans!==M});for(var le=0,ge=Object.values(k.queries.query);le<ge.length;le++)for(var Ae,ve,_e,Oe=0,pe=(Ae=ge[le]).slice();Oe<pe.length;Oe++)(ve=pe[Oe]).res!=null&&M.mutatedParts&&(z&&!ve.dirty?(_e=Object.isFrozen(ve.res),_e=pu(ve.res,ve.req,X,Y,ve,_e),ve.dirty?(Re(Ae,ve),ve.subscribers.forEach(function(je){return q.add(je)})):_e!==ve.res&&(ve.res=_e,ve.promise=De.resolve({result:_e}))):(ve.dirty&&Re(Ae,ve),ve.subscribers.forEach(function(je){return q.add(je)})))}}}q.forEach(function(je){return je()})}}},M.addEventListener("abort",E(!1),{signal:C}),M.addEventListener("error",E(!1),{signal:C}),M.addEventListener("complete",E(!0),{signal:C})),M},table:function(p){var b=o.table(p),E=b.schema.primaryKey;return u(u({},b),{mutate:function(A){var C=Be.trans;if(E.outbound||C.db._options.cache==="disabled"||C.explicit||C.idbtrans.mode!=="readwrite")return b.mutate(A);var M=Qr["idb://".concat(f,"/").concat(p)];return M?(C=b.mutate(A),A.type!=="add"&&A.type!=="put"||!(50<=A.values.length||Wi(E,A).some(function(z){return z==null}))?(M.optimisticOps.push(A),A.mutatedParts&&Ji(A.mutatedParts),C.then(function(z){0<z.numFailures&&(Re(M.optimisticOps,A),(z=Uo(0,A,z))&&M.optimisticOps.push(z),A.mutatedParts&&Ji(A.mutatedParts))}),C.catch(function(){Re(M.optimisticOps,A),A.mutatedParts&&Ji(A.mutatedParts)})):C.then(function(z){var q=Uo(0,u(u({},A),{values:A.values.map(function(G,U){var V;return z.failures[U]?G:(G=(V=E.keyPath)!==null&&V!==void 0&&V.includes(".")?Se(G):u({},G),xe(G,E.keyPath,z.results[U]),G)})}),z);M.optimisticOps.push(q),queueMicrotask(function(){return A.mutatedParts&&Ji(A.mutatedParts)})}),C):b.mutate(A)},query:function(A){if(!Vr(Be,b)||!jo("query",A))return b.query(A);var C=((q=Be.trans)===null||q===void 0?void 0:q.db._options.cache)==="immutable",U=Be,M=U.requery,z=U.signal,q=function(Y,X,H,$){var ee=Qr["idb://".concat(Y,"/").concat(X)];if(!ee)return[];if(!(X=ee.queries[H]))return[null,!1,ee,null];var te=X[($.query?$.query.index.name:null)||""];if(!te)return[null,!1,ee,null];switch(H){case"query":var le=te.find(function(ge){return ge.req.limit===$.limit&&ge.req.values===$.values&&Ra(ge.req.query.range,$.query.range)});return le?[le,!0,ee,te]:[te.find(function(ge){return("limit"in ge.req?ge.req.limit:1/0)>=$.limit&&(!$.values||ge.req.values)&&hi(ge.req.query.range,$.query.range)}),!1,ee,te];case"count":return le=te.find(function(ge){return Ra(ge.req.query.range,$.query.range)}),[le,!!le,ee,te]}}(f,p,"query",A),G=q[0],U=q[1],V=q[2],k=q[3];return G&&U?G.obsSet=A.obsSet:(U=b.query(A).then(function(Y){var X=Y.result;if(G&&(G.res=X),C){for(var H=0,$=X.length;H<$;++H)Object.freeze(X[H]);Object.freeze(X)}else Y.result=Se(X);return Y}).catch(function(Y){return k&&G&&Re(k,G),Promise.reject(Y)}),G={obsSet:A.obsSet,promise:U,subscribers:new Set,type:"query",req:A,dirty:!1},k?k.push(G):(k=[G],(V=V||(Qr["idb://".concat(f,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[A.query.index.name||""]=k)),pc(G,k,M,z),G.promise.then(function(Y){return{result:pu(Y.result,A,V?.optimisticOps,b,G,C)}})}})}})}};function yi(o,f){return new Proxy(o,{get:function(p,b,E){return b==="db"?f:Reflect.get(p,b,E)}})}var Qn=(xt.prototype.version=function(o){if(isNaN(o)||o<.1)throw new qe.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new qe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var f=this._versions,p=f.filter(function(b){return b._cfg.version===o})[0];return p||(p=new this.Version(o),f.push(p),f.sort(iu),p.stores({}),this._state.autoSchema=!1,p)},xt.prototype._whenReady=function(o){var f=this;return this.idbdb&&(this._state.openComplete||Be.letThrough||this._vip)?o():new De(function(p,b){if(f._state.openComplete)return b(new qe.DatabaseClosed(f._state.dbOpenError));if(!f._state.isBeingOpened){if(!f._state.autoOpen)return void b(new qe.DatabaseClosed);f.open().catch(ot)}f._state.dbReadyPromise.then(p,b)}).then(o)},xt.prototype.use=function(o){var f=o.stack,p=o.create,b=o.level,E=o.name;return E&&this.unuse({stack:f,name:E}),o=this._middlewares[f]||(this._middlewares[f]=[]),o.push({stack:f,create:p,level:b??10,name:E}),o.sort(function(A,C){return A.level-C.level}),this},xt.prototype.unuse=function(o){var f=o.stack,p=o.name,b=o.create;return f&&this._middlewares[f]&&(this._middlewares[f]=this._middlewares[f].filter(function(E){return b?E.create!==b:!!p&&E.name!==p})),this},xt.prototype.open=function(){var o=this;return or(un,function(){return hc(o)})},xt.prototype._close=function(){var o=this._state,f=Wn.indexOf(this);if(0<=f&&Wn.splice(f,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new De(function(p){o.dbReadyResolve=p}),o.openCanceller=new De(function(p,b){o.cancelOpen=b}))},xt.prototype.close=function(p){var f=(p===void 0?{disableAutoOpen:!0}:p).disableAutoOpen,p=this._state;f?(p.isBeingOpened&&p.cancelOpen(new qe.DatabaseClosed),this._close(),p.autoOpen=!1,p.dbOpenError=new qe.DatabaseClosed):(this._close(),p.autoOpen=this._options.autoOpen||p.isBeingOpened,p.openComplete=!1,p.dbOpenError=null)},xt.prototype.delete=function(o){var f=this;o===void 0&&(o={disableAutoOpen:!0});var p=0<arguments.length&&typeof arguments[0]!="object",b=this._state;return new De(function(E,A){function C(){f.close(o);var M=f._deps.indexedDB.deleteDatabase(f.name);M.onsuccess=Fe(function(){var z,q,G;z=f._deps,q=f.name,G=z.indexedDB,z=z.IDBKeyRange,Ii(G)||q===kr||uu(G,z).delete(q).catch(ot),E()}),M.onerror=Tn(A),M.onblocked=f._fireOnBlocked}if(p)throw new qe.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(C):C()})},xt.prototype.backendDB=function(){return this.idbdb},xt.prototype.isOpen=function(){return this.idbdb!==null},xt.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},xt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},xt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(xt.prototype,"tables",{get:function(){var o=this;return g(this._allTables).map(function(f){return o._allTables[f]})},enumerable:!1,configurable:!0}),xt.prototype.transaction=function(){var o=(function(f,p,b){var E=arguments.length;if(E<2)throw new qe.InvalidArgument("Too few arguments");for(var A=new Array(E-1);--E;)A[E-1]=arguments[E];return b=A.pop(),[f,Ce(A),b]}).apply(this,arguments);return this._transaction.apply(this,o)},xt.prototype._transaction=function(o,f,p){var b=this,E=Be.trans;E&&E.db===this&&o.indexOf("!")===-1||(E=null);var A,C,M=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(C=f.map(function(q){if(q=q instanceof b.Table?q.name:q,typeof q!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return q}),o=="r"||o===On)A=On;else{if(o!="rw"&&o!=ui)throw new qe.InvalidArgument("Invalid transaction mode: "+o);A=ui}if(E){if(E.mode===On&&A===ui){if(!M)throw new qe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");E=null}E&&C.forEach(function(q){if(E&&E.storeNames.indexOf(q)===-1){if(!M)throw new qe.SubTransaction("Table "+q+" not included in parent transaction.");E=null}}),M&&E&&!E.active&&(E=null)}}catch(q){return E?E._promise(null,function(G,U){U(q)}):Ot(q)}var z=(function q(G,U,V,k,Y){return De.resolve().then(function(){var X=Be.transless||Be,H=G._createTransaction(U,V,G._dbSchema,k);if(H.explicit=!0,X={trans:H,transless:X},k)H.idbtrans=k.idbtrans;else try{H.create(),H.idbtrans._explicit=!0,G._state.PR1398_maxLoop=3}catch(te){return te.name===Pt.InvalidState&&G.isOpen()&&0<--G._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),G.close({disableAutoOpen:!1}),G.open().then(function(){return q(G,U,V,null,Y)})):Ot(te)}var $,ee=J(Y);return ee&&An(),X=De.follow(function(){var te;($=Y.call(H,H))&&(ee?(te=yn.bind(null,null),$.then(te,te)):typeof $.next=="function"&&typeof $.throw=="function"&&($=di($)))},X),($&&typeof $.then=="function"?De.resolve($).then(function(te){return H.active?te:Ot(new qe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):X.then(function(){return $})).then(function(te){return k&&H._resolve(),H._completion.then(function(){return te})}).catch(function(te){return H._reject(te),Ot(te)})})}).bind(null,this,A,C,E,p);return E?E._promise(A,z,"lock"):Be.trans?or(Be.transless,function(){return b._whenReady(z)}):this._whenReady(z)},xt.prototype.table=function(o){if(!w(this._allTables,o))throw new qe.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},xt);function xt(o,f){var p=this;this._middlewares={},this.verno=0;var b=xt.dependencies;this._options=f=u({addons:xt.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},f),this._deps={indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},b=f.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var E,A,C,M,z,q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ot,dbReadyPromise:null,cancelOpen:ot,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:f.autoOpen};q.dbReadyPromise=new De(function(U){q.dbReadyResolve=U}),q.openCanceller=new De(function(U,V){q.cancelOpen=V}),this._state=q,this.name=o,this.on=hr(this,"populate","blocked","versionchange","close",{ready:[ji,ot]}),this.on.ready.subscribe=K(this.on.ready.subscribe,function(U){return function(V,k){xt.vip(function(){var Y,X=p._state;X.openComplete?(X.dbOpenError||De.resolve().then(V),k&&U(V)):X.onReadyBeingFired?(X.onReadyBeingFired.push(V),k&&U(V)):(U(V),Y=p,k||U(function H(){Y.on.ready.unsubscribe(V),Y.on.ready.unsubscribe(H)}))})}}),this.Collection=(E=this,ga(wa.prototype,function($,H){this.db=E;var k=zr,Y=null;if(H)try{k=H()}catch(ee){Y=ee}var X=$._ctx,H=X.table,$=H.hook.reading.fire;this._ctx={table:H,index:X.index,isPrimKey:!X.index||H.schema.primKey.keyPath&&X.index===H.schema.primKey.name,range:k,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Y,or:X.or,valueMapper:$!==Rr?$:null}})),this.Table=(A=this,ga(Wl.prototype,function(U,V,k){this.db=A,this._tx=k,this.name=U,this.schema=V,this.hook=A._allTables[U]?A._allTables[U].hook:hr(null,{creating:[cc,ot],reading:[Ql,Rr],updating:[fc,ot],deleting:[Bn,ot]})})),this.Transaction=(C=this,ga(au.prototype,function(U,V,k,Y,X){var H=this;this.db=C,this.mode=U,this.storeNames=V,this.schema=k,this.chromeTransactionDurability=Y,this.idbtrans=null,this.on=hr(this,"complete","error","abort"),this.parent=X||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new De(function($,ee){H._resolve=$,H._reject=ee}),this._completion.then(function(){H.active=!1,H.on.complete.fire()},function($){var ee=H.active;return H.active=!1,H.on.error.fire($),H.parent?H.parent._reject($):ee&&H.idbtrans&&H.idbtrans.abort(),Ot($)})})),this.Version=(M=this,ga(dc.prototype,function(U){this.db=M,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(z=this,ga(Lr.prototype,function(U,V,k){if(this.db=z,this._ctx={table:U,index:V===":id"?null:V,or:k},this._cmp=this._ascending=tt,this._descending=function(Y,X){return tt(X,Y)},this._max=function(Y,X){return 0<tt(Y,X)?Y:X},this._min=function(Y,X){return tt(Y,X)<0?Y:X},this._IDBKeyRange=z._deps.IDBKeyRange,!this._IDBKeyRange)throw new qe.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(p.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(p.name,"'. Closing db now to resume the delete request.")),p.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(p.name,"') was blocked")):console.warn("Upgrade '".concat(p.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=Oa(f.IDBKeyRange),this._createTransaction=function(U,V,k,Y){return new p.Transaction(U,V,k,p._options.chromeTransactionDurability,Y)},this._fireOnBlocked=function(U){p.on("blocked").fire(U),Wn.filter(function(V){return V.name===p.name&&V!==p&&!V._state.vcFired}).map(function(V){return V.on("versionchange").fire(U)})},this.use(Mo),this.use(tl),this.use(vc),this.use(yc),this.use(Do);var G=new Proxy(this,{get:function(U,V,k){if(V==="_vip")return!0;if(V==="table")return function(X){return yi(p.table(X),G)};var Y=Reflect.get(U,V,k);return Y instanceof Wl?yi(Y,G):V==="tables"?Y.map(function(X){return yi(X,G)}):V==="_createTransaction"?function(){return yi(Y.apply(this,arguments),G)}:Y}});this.vip=G,b.forEach(function(U){return U(p)})}var Da,mn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",No=(nl.prototype.subscribe=function(o,f,p){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:f,complete:p})},nl.prototype[mn]=function(){return this},nl);function nl(o){this._subscribe=o}try{Da={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{Da={indexedDB:null,IDBKeyRange:null}}function ko(o){var f,p=!1,b=new No(function(E){var A=J(o),C,M=!1,z={},q={},G={get closed(){return M},unsubscribe:function(){M||(M=!0,C&&C.abort(),U&&$t.storagemutated.unsubscribe(k))}};E.start&&E.start(G);var U=!1,V=function(){return cr(Y)},k=function(X){$i(z,X),fu(q,z)&&V()},Y=function(){var X,H,$;!M&&Da.indexedDB&&(z={},X={},C&&C.abort(),C=new AbortController,$=function(ee){var te=Nr();try{A&&An();var le=Hn(o,ee);return le=A?le.finally(yn):le}finally{te&&va()}}(H={subscr:X,signal:C.signal,requery:V,querier:o,trans:null}),Promise.resolve($).then(function(ee){p=!0,f=ee,M||H.signal.aborted||(z={},function(te){for(var le in te)if(w(te,le))return;return 1}(q=X)||U||($t(xa,k),U=!0),cr(function(){return!M&&E.next&&E.next(ee)}))},function(ee){p=!1,["DatabaseClosedError","AbortError"].includes(ee?.name)||M||cr(function(){M||E.error&&E.error(ee)})}))};return setTimeout(V,0),G});return b.hasValue=function(){return p},b.getValue=function(){return f},b}var Xr=Qn;function mu(o){var f=pr;try{pr=!0,$t.storagemutated.fire(o),yu(o,!0)}finally{pr=f}}x(Xr,u(u({},Cr),{delete:function(o){return new Xr(o,{addons:[]}).delete()},exists:function(o){return new Xr(o,{addons:[]}).open().then(function(f){return f.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return f=Xr.dependencies,p=f.indexedDB,f=f.IDBKeyRange,(Ii(p)?Promise.resolve(p.databases()).then(function(b){return b.map(function(E){return E.name}).filter(function(E){return E!==kr})}):uu(p,f).toCollection().primaryKeys()).then(o)}catch{return Ot(new qe.MissingAPI)}var f,p},defineClass:function(){return function(o){m(this,o)}},ignoreTransaction:function(o){return Be.trans?or(Be.transless,o):o()},vip:ou,async:function(o){return function(){try{var f=di(o.apply(this,arguments));return f&&typeof f.then=="function"?f:De.resolve(f)}catch(p){return Ot(p)}}},spawn:function(o,f,p){try{var b=di(o.apply(p,f||[]));return b&&typeof b.then=="function"?b:De.resolve(b)}catch(E){return Ot(E)}},currentTransaction:{get:function(){return Be.trans||null}},waitFor:function(o,f){return f=De.resolve(typeof o=="function"?Xr.ignoreTransaction(o):o).timeout(f||6e4),Be.trans?Be.trans.waitFor(f):f},Promise:De,debug:{get:function(){return hn},set:function(o){_o(o)}},derive:N,extend:m,props:x,override:K,Events:hr,on:$t,liveQuery:ko,extendObservabilitySet:$i,getByKeyPath:de,setByKeyPath:xe,delByKeyPath:function(o,f){typeof f=="string"?xe(o,f,void 0):"length"in f&&[].map.call(f,function(p){xe(o,p,void 0)})},shallowClone:Ue,deepClone:Se,getObjectDiff:Fi,cmp:tt,asap:be,minKey:-1/0,addons:[],connections:Wn,errnames:Pt,dependencies:Da,cache:Qr,semVer:"4.0.11",version:"4.0.11".split(".").map(function(o){return parseInt(o)}).reduce(function(o,f,p){return o+f/Math.pow(10,2*p)})})),Xr.maxKey=Oa(Xr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&($t(xa,function(o){pr||(o=new CustomEvent(Kr,{detail:o}),pr=!0,dispatchEvent(o),pr=!1)}),addEventListener(Kr,function(o){o=o.detail,pr||mu(o)}));var Ma,pr=!1,cn=function(){};return typeof BroadcastChannel<"u"&&((cn=function(){(Ma=new BroadcastChannel(Kr)).onmessage=function(o){return o.data&&mu(o.data)}})(),typeof Ma.unref=="function"&&Ma.unref(),$t(xa,function(o){pr||Ma.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!Qn.disableBfCache&&o.persisted){hn&&console.debug("Dexie: handling persisted pagehide"),Ma?.close();for(var f=0,p=Wn;f<p.length;f++)p[f].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!Qn.disableBfCache&&o.persisted&&(hn&&console.debug("Dexie: handling persisted pageshow"),cn(),mu({all:new Jt(-1/0,[[]])}))})),De.rejectionMapper=function(o,f){return!o||o instanceof oe||o instanceof TypeError||o instanceof SyntaxError||!o.name||!Mi[o.name]?o:(f=new Mi[o.name](f||o.message,o),"stack"in o&&D(f,"stack",{get:function(){return this.inner.stack}}),f)},_o(hn),u(Qn,Object.freeze({__proto__:null,Dexie:Qn,liveQuery:ko,Entity:Bi,cmp:tt,PropModification:Sa,replacePrefix:function(o,f){return new Sa({replacePrefix:[o,f]})},add:function(o){return new Sa({add:o})},remove:function(o){return new Sa({remove:o})},default:Qn,RangeSet:Jt,mergeRanges:Gr,rangesOverlap:To}),{default:Qn}),Qn})}(Hs)),Hs.exports}var Ob=Ab();const yd=im(Ob),op=Symbol.for("Dexie"),Ct=globalThis[op]||(globalThis[op]=yd);if(yd.semVer!==Ct.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${yd.semVer} and ${Ct.semVer}`);const{liveQuery:Rl,mergeRanges:BS,rangesOverlap:qS,RangeSet:LS,cmp:Tb,Entity:HS,PropModification:sp,replacePrefix:KS,add:YS,remove:GS}=Ct;var vd=function(r,l){return vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,u){i.__proto__=u}||function(i,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(i[c]=u[c])},vd(r,l)};function ca(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");vd(r,l);function i(){this.constructor=r}r.prototype=l===null?Object.create(l):(i.prototype=l.prototype,new i)}function Cb(r,l,i,u){function c(h){return h instanceof i?h:new i(function(g){g(h)})}return new(i||(i=Promise))(function(h,g){function _(y){try{v(u.next(y))}catch(w){g(w)}}function m(y){try{v(u.throw(y))}catch(w){g(w)}}function v(y){y.done?h(y.value):c(y.value).then(_,m)}v((u=u.apply(r,l||[])).next())})}function um(r,l){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,c,h,g=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return g.next=_(0),g.throw=_(1),g.return=_(2),typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function _(v){return function(y){return m([v,y])}}function m(v){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,v[0]&&(i=0)),i;)try{if(u=1,c&&(h=v[0]&2?c.return:v[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,v[1])).done)return h;switch(c=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,c=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){i.label=v[1];break}if(v[0]===6&&i.label<h[1]){i.label=h[1],h=v;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(v);break}h[2]&&i.ops.pop(),i.trys.pop();continue}v=l.call(r,i)}catch(y){v=[6,y],c=0}finally{u=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function Nl(r){var l=typeof Symbol=="function"&&Symbol.iterator,i=l&&r[l],u=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&u>=r.length&&(r=void 0),{value:r&&r[u++],done:!r}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ci(r,l){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var u=i.call(r),c,h=[],g;try{for(;(l===void 0||l-- >0)&&!(c=u.next()).done;)h.push(c.value)}catch(_){g={error:_}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(g)throw g.error}}return h}function kl(r,l,i){if(i||arguments.length===2)for(var u=0,c=l.length,h;u<c;u++)(h||!(u in l))&&(h||(h=Array.prototype.slice.call(l,0,u)),h[u]=l[u]);return r.concat(h||Array.prototype.slice.call(l))}function Dl(r){return this instanceof Dl?(this.v=r,this):new Dl(r)}function Rb(r,l,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=i.apply(r,l||[]),c,h=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),_("next"),_("throw"),_("return",g),c[Symbol.asyncIterator]=function(){return this},c;function g(T){return function(D){return Promise.resolve(D).then(T,w)}}function _(T,D){u[T]&&(c[T]=function(N){return new Promise(function(L,ae){h.push([T,N,L,ae])>1||m(T,N)})},D&&(c[T]=D(c[T])))}function m(T,D){try{v(u[T](D))}catch(N){x(h[0][3],N)}}function v(T){T.value instanceof Dl?Promise.resolve(T.value.v).then(y,w):x(h[0][2],T)}function y(T){m("next",T)}function w(T){m("throw",T)}function x(T,D){T(D),h.shift(),h.length&&m(h[0][0],h[0][1])}}function Db(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=r[Symbol.asyncIterator],i;return l?l.call(r):(r=typeof Nl=="function"?Nl(r):r[Symbol.iterator](),i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i);function u(h){i[h]=r[h]&&function(g){return new Promise(function(_,m){g=r[h](g),c(_,m,g.done,g.value)})}}function c(h,g,_,m){Promise.resolve(m).then(function(v){h({value:v,done:_})},g)}}function pt(r){return typeof r=="function"}function Hd(r){var l=function(u){Error.call(u),u.stack=new Error().stack},i=r(l);return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var id=Hd(function(r){return function(i){r(this),this.message=i?i.length+` errors occurred during unsubscription:
`+i.map(function(u,c){return c+1+") "+u.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=i}});function Xs(r,l){if(r){var i=r.indexOf(l);0<=i&&r.splice(i,1)}}var Kl=function(){function r(l){this.initialTeardown=l,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var l,i,u,c,h;if(!this.closed){this.closed=!0;var g=this._parentage;if(g)if(this._parentage=null,Array.isArray(g))try{for(var _=Nl(g),m=_.next();!m.done;m=_.next()){var v=m.value;v.remove(this)}}catch(N){l={error:N}}finally{try{m&&!m.done&&(i=_.return)&&i.call(_)}finally{if(l)throw l.error}}else g.remove(this);var y=this.initialTeardown;if(pt(y))try{y()}catch(N){h=N instanceof id?N.errors:[N]}var w=this._finalizers;if(w){this._finalizers=null;try{for(var x=Nl(w),T=x.next();!T.done;T=x.next()){var D=T.value;try{cp(D)}catch(N){h=h??[],N instanceof id?h=kl(kl([],Ci(h)),Ci(N.errors)):h.push(N)}}}catch(N){u={error:N}}finally{try{T&&!T.done&&(c=x.return)&&c.call(x)}finally{if(u)throw u.error}}}if(h)throw new id(h)}},r.prototype.add=function(l){var i;if(l&&l!==this)if(this.closed)cp(l);else{if(l instanceof r){if(l.closed||l._hasParent(this))return;l._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(l)}},r.prototype._hasParent=function(l){var i=this._parentage;return i===l||Array.isArray(i)&&i.includes(l)},r.prototype._addParent=function(l){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(l),i):i?[i,l]:l},r.prototype._removeParent=function(l){var i=this._parentage;i===l?this._parentage=null:Array.isArray(i)&&Xs(i,l)},r.prototype.remove=function(l){var i=this._finalizers;i&&Xs(i,l),l instanceof r&&l._removeParent(this)},r.EMPTY=function(){var l=new r;return l.closed=!0,l}(),r}(),om=Kl.EMPTY;function sm(r){return r instanceof Kl||r&&"closed"in r&&pt(r.remove)&&pt(r.add)&&pt(r.unsubscribe)}function cp(r){pt(r)?r():r.unsubscribe()}var Mb={Promise:void 0},jb={setTimeout:function(r,l){for(var i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];return setTimeout.apply(void 0,kl([r,l],Ci(i)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function cm(r){jb.setTimeout(function(){throw r})}function fp(){}function Ks(r){r()}var Kd=function(r){ca(l,r);function l(i){var u=r.call(this)||this;return u.isStopped=!1,i?(u.destination=i,sm(i)&&i.add(u)):u.destination=kb,u}return l.create=function(i,u,c){return new zl(i,u,c)},l.prototype.next=function(i){this.isStopped||this._next(i)},l.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},l.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},l.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},l.prototype._next=function(i){this.destination.next(i)},l.prototype._error=function(i){try{this.destination.error(i)}finally{this.unsubscribe()}},l.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},l}(Kl),Ub=function(){function r(l){this.partialObserver=l}return r.prototype.next=function(l){var i=this.partialObserver;if(i.next)try{i.next(l)}catch(u){js(u)}},r.prototype.error=function(l){var i=this.partialObserver;if(i.error)try{i.error(l)}catch(u){js(u)}else js(l)},r.prototype.complete=function(){var l=this.partialObserver;if(l.complete)try{l.complete()}catch(i){js(i)}},r}(),zl=function(r){ca(l,r);function l(i,u,c){var h=r.call(this)||this,g;return pt(i)||!i?g={next:i??void 0,error:u??void 0,complete:c??void 0}:g=i,h.destination=new Ub(g),h}return l}(Kd);function js(r){cm(r)}function Nb(r){throw r}var kb={closed:!0,next:fp,error:Nb,complete:fp},Yd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function nc(r){return r}function zb(r){return r.length===0?nc:r.length===1?r[0]:function(i){return r.reduce(function(u,c){return c(u)},i)}}var It=function(){function r(l){l&&(this._subscribe=l)}return r.prototype.lift=function(l){var i=new r;return i.source=this,i.operator=l,i},r.prototype.subscribe=function(l,i,u){var c=this,h=qb(l)?l:new zl(l,i,u);return Ks(function(){var g=c,_=g.operator,m=g.source;h.add(_?_.call(h,m):m?c._subscribe(h):c._trySubscribe(h))}),h},r.prototype._trySubscribe=function(l){try{return this._subscribe(l)}catch(i){l.error(i)}},r.prototype.forEach=function(l,i){var u=this;return i=dp(i),new i(function(c,h){var g=new zl({next:function(_){try{l(_)}catch(m){h(m),g.unsubscribe()}},error:h,complete:c});u.subscribe(g)})},r.prototype._subscribe=function(l){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(l)},r.prototype[Yd]=function(){return this},r.prototype.pipe=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];return zb(l)(this)},r.prototype.toPromise=function(l){var i=this;return l=dp(l),new l(function(u,c){var h;i.subscribe(function(g){return h=g},function(g){return c(g)},function(){return u(h)})})},r.create=function(l){return new r(l)},r}();function dp(r){var l;return(l=r??Mb.Promise)!==null&&l!==void 0?l:Promise}function Bb(r){return r&&pt(r.next)&&pt(r.error)&&pt(r.complete)}function qb(r){return r&&r instanceof Kd||Bb(r)&&sm(r)}function Lb(r){return pt(r?.lift)}function Yl(r){return function(l){if(Lb(l))return l.lift(function(i){try{return r(i,this)}catch(u){this.error(u)}});throw new TypeError("Unable to lift unknown Observable type")}}function Bl(r,l,i,u,c){return new Hb(r,l,i,u,c)}var Hb=function(r){ca(l,r);function l(i,u,c,h,g,_){var m=r.call(this,i)||this;return m.onFinalize=g,m.shouldUnsubscribe=_,m._next=u?function(v){try{u(v)}catch(y){i.error(y)}}:r.prototype._next,m._error=h?function(v){try{h(v)}catch(y){i.error(y)}finally{this.unsubscribe()}}:r.prototype._error,m._complete=c?function(){try{c()}catch(v){i.error(v)}finally{this.unsubscribe()}}:r.prototype._complete,m}return l.prototype.unsubscribe=function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var u=this.closed;r.prototype.unsubscribe.call(this),!u&&((i=this.onFinalize)===null||i===void 0||i.call(this))}},l}(Kd),Kb=Hd(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),vo=function(r){ca(l,r);function l(){var i=r.call(this)||this;return i.closed=!1,i.currentObservers=null,i.observers=[],i.isStopped=!1,i.hasError=!1,i.thrownError=null,i}return l.prototype.lift=function(i){var u=new hp(this,this);return u.operator=i,u},l.prototype._throwIfClosed=function(){if(this.closed)throw new Kb},l.prototype.next=function(i){var u=this;Ks(function(){var c,h;if(u._throwIfClosed(),!u.isStopped){u.currentObservers||(u.currentObservers=Array.from(u.observers));try{for(var g=Nl(u.currentObservers),_=g.next();!_.done;_=g.next()){var m=_.value;m.next(i)}}catch(v){c={error:v}}finally{try{_&&!_.done&&(h=g.return)&&h.call(g)}finally{if(c)throw c.error}}}})},l.prototype.error=function(i){var u=this;Ks(function(){if(u._throwIfClosed(),!u.isStopped){u.hasError=u.isStopped=!0,u.thrownError=i;for(var c=u.observers;c.length;)c.shift().error(i)}})},l.prototype.complete=function(){var i=this;Ks(function(){if(i._throwIfClosed(),!i.isStopped){i.isStopped=!0;for(var u=i.observers;u.length;)u.shift().complete()}})},l.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(l.prototype,"observed",{get:function(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0},enumerable:!1,configurable:!0}),l.prototype._trySubscribe=function(i){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,i)},l.prototype._subscribe=function(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)},l.prototype._innerSubscribe=function(i){var u=this,c=this,h=c.hasError,g=c.isStopped,_=c.observers;return h||g?om:(this.currentObservers=null,_.push(i),new Kl(function(){u.currentObservers=null,Xs(_,i)}))},l.prototype._checkFinalizedStatuses=function(i){var u=this,c=u.hasError,h=u.thrownError,g=u.isStopped;c?i.error(h):g&&i.complete()},l.prototype.asObservable=function(){var i=new It;return i.source=this,i},l.create=function(i,u){return new hp(i,u)},l}(It),hp=function(r){ca(l,r);function l(i,u){var c=r.call(this)||this;return c.destination=i,c.source=u,c}return l.prototype.next=function(i){var u,c;(c=(u=this.destination)===null||u===void 0?void 0:u.next)===null||c===void 0||c.call(u,i)},l.prototype.error=function(i){var u,c;(c=(u=this.destination)===null||u===void 0?void 0:u.error)===null||c===void 0||c.call(u,i)},l.prototype.complete=function(){var i,u;(u=(i=this.destination)===null||i===void 0?void 0:i.complete)===null||u===void 0||u.call(i)},l.prototype._subscribe=function(i){var u,c;return(c=(u=this.source)===null||u===void 0?void 0:u.subscribe(i))!==null&&c!==void 0?c:om},l}(vo),ar=function(r){ca(l,r);function l(i){var u=r.call(this)||this;return u._value=i,u}return Object.defineProperty(l.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),l.prototype._subscribe=function(i){var u=r.prototype._subscribe.call(this,i);return!u.closed&&i.next(this._value),u},l.prototype.getValue=function(){var i=this,u=i.hasError,c=i.thrownError,h=i._value;if(u)throw c;return this._throwIfClosed(),h},l.prototype.next=function(i){r.prototype.next.call(this,this._value=i)},l}(vo),Yb={now:function(){return Date.now()}},Gb=function(r){ca(l,r);function l(i,u){return r.call(this)||this}return l.prototype.schedule=function(i,u){return this},l}(Kl),yp={setInterval:function(r,l){for(var i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];return setInterval.apply(void 0,kl([r,l],Ci(i)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},Qb=function(r){ca(l,r);function l(i,u){var c=r.call(this,i,u)||this;return c.scheduler=i,c.work=u,c.pending=!1,c}return l.prototype.schedule=function(i,u){var c;if(u===void 0&&(u=0),this.closed)return this;this.state=i;var h=this.id,g=this.scheduler;return h!=null&&(this.id=this.recycleAsyncId(g,h,u)),this.pending=!0,this.delay=u,this.id=(c=this.id)!==null&&c!==void 0?c:this.requestAsyncId(g,this.id,u),this},l.prototype.requestAsyncId=function(i,u,c){return c===void 0&&(c=0),yp.setInterval(i.flush.bind(i,this),c)},l.prototype.recycleAsyncId=function(i,u,c){if(c===void 0&&(c=0),c!=null&&this.delay===c&&this.pending===!1)return u;u!=null&&yp.clearInterval(u)},l.prototype.execute=function(i,u){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var c=this._execute(i,u);if(c)return c;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},l.prototype._execute=function(i,u){var c=!1,h;try{this.work(i)}catch(g){c=!0,h=g||new Error("Scheduled action threw falsy error")}if(c)return this.unsubscribe(),h},l.prototype.unsubscribe=function(){if(!this.closed){var i=this,u=i.id,c=i.scheduler,h=c.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Xs(h,this),u!=null&&(this.id=this.recycleAsyncId(c,u,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},l}(Gb),vp=function(){function r(l,i){i===void 0&&(i=r.now),this.schedulerActionCtor=l,this.now=i}return r.prototype.schedule=function(l,i,u){return i===void 0&&(i=0),new this.schedulerActionCtor(this,l).schedule(u,i)},r.now=Yb.now,r}(),Vb=function(r){ca(l,r);function l(i,u){u===void 0&&(u=vp.now);var c=r.call(this,i,u)||this;return c.actions=[],c._active=!1,c}return l.prototype.flush=function(i){var u=this.actions;if(this._active){u.push(i);return}var c;this._active=!0;do if(c=i.execute(i.state,i.delay))break;while(i=u.shift());if(this._active=!1,c){for(;i=u.shift();)i.unsubscribe();throw c}},l}(vp),Xb=new Vb(Qb),Zb=Xb,Ib=new It(function(r){return r.complete()});function Pb(r){return r&&pt(r.schedule)}function Gd(r){return r[r.length-1]}function $b(r){return pt(Gd(r))?r.pop():void 0}function Qd(r){return Pb(Gd(r))?r.pop():void 0}function Jb(r,l){return typeof Gd(r)=="number"?r.pop():l}var Vd=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function fm(r){return pt(r?.then)}function dm(r){return pt(r[Yd])}function hm(r){return Symbol.asyncIterator&&pt(r?.[Symbol.asyncIterator])}function ym(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Fb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vm=Fb();function pm(r){return pt(r?.[vm])}function mm(r){return Rb(this,arguments,function(){var i,u,c,h;return um(this,function(g){switch(g.label){case 0:i=r.getReader(),g.label=1;case 1:g.trys.push([1,,9,10]),g.label=2;case 2:return[4,Dl(i.read())];case 3:return u=g.sent(),c=u.value,h=u.done,h?[4,Dl(void 0)]:[3,5];case 4:return[2,g.sent()];case 5:return[4,Dl(c)];case 6:return[4,g.sent()];case 7:return g.sent(),[3,2];case 8:return[3,10];case 9:return i.releaseLock(),[7];case 10:return[2]}})})}function gm(r){return pt(r?.getReader)}function fa(r){if(r instanceof It)return r;if(r!=null){if(dm(r))return Wb(r);if(Vd(r))return e_(r);if(fm(r))return t_(r);if(hm(r))return bm(r);if(pm(r))return n_(r);if(gm(r))return r_(r)}throw ym(r)}function Wb(r){return new It(function(l){var i=r[Yd]();if(pt(i.subscribe))return i.subscribe(l);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function e_(r){return new It(function(l){for(var i=0;i<r.length&&!l.closed;i++)l.next(r[i]);l.complete()})}function t_(r){return new It(function(l){r.then(function(i){l.closed||(l.next(i),l.complete())},function(i){return l.error(i)}).then(null,cm)})}function n_(r){return new It(function(l){var i,u;try{for(var c=Nl(r),h=c.next();!h.done;h=c.next()){var g=h.value;if(l.next(g),l.closed)return}}catch(_){i={error:_}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(i)throw i.error}}l.complete()})}function bm(r){return new It(function(l){a_(r,l).catch(function(i){return l.error(i)})})}function r_(r){return bm(mm(r))}function a_(r,l){var i,u,c,h;return Cb(this,void 0,void 0,function(){var g,_;return um(this,function(m){switch(m.label){case 0:m.trys.push([0,5,6,11]),i=Db(r),m.label=1;case 1:return[4,i.next()];case 2:if(u=m.sent(),!!u.done)return[3,4];if(g=u.value,l.next(g),l.closed)return[2];m.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return _=m.sent(),c={error:_},[3,11];case 6:return m.trys.push([6,,9,10]),u&&!u.done&&(h=i.return)?[4,h.call(i)]:[3,8];case 7:m.sent(),m.label=8;case 8:return[3,10];case 9:if(c)throw c.error;return[7];case 10:return[7];case 11:return l.complete(),[2]}})})}function ei(r,l,i,u,c){u===void 0&&(u=0),c===void 0&&(c=!1);var h=l.schedule(function(){i(),c?r.add(this.schedule(null,u)):this.unsubscribe()},u);if(r.add(h),!c)return h}function _m(r,l){return l===void 0&&(l=0),Yl(function(i,u){i.subscribe(Bl(u,function(c){return ei(u,r,function(){return u.next(c)},l)},function(){return ei(u,r,function(){return u.complete()},l)},function(c){return ei(u,r,function(){return u.error(c)},l)}))})}function Sm(r,l){return l===void 0&&(l=0),Yl(function(i,u){u.add(r.schedule(function(){return i.subscribe(u)},l))})}function i_(r,l){return fa(r).pipe(Sm(l),_m(l))}function l_(r,l){return fa(r).pipe(Sm(l),_m(l))}function u_(r,l){return new It(function(i){var u=0;return l.schedule(function(){u===r.length?i.complete():(i.next(r[u++]),i.closed||this.schedule())})})}function o_(r,l){return new It(function(i){var u;return ei(i,l,function(){u=r[vm](),ei(i,l,function(){var c,h,g;try{c=u.next(),h=c.value,g=c.done}catch(_){i.error(_);return}g?i.complete():i.next(h)},0,!0)}),function(){return pt(u?.return)&&u.return()}})}function wm(r,l){if(!r)throw new Error("Iterable cannot be null");return new It(function(i){ei(i,l,function(){var u=r[Symbol.asyncIterator]();ei(i,l,function(){u.next().then(function(c){c.done?i.complete():i.next(c.value)})},0,!0)})})}function s_(r,l){return wm(mm(r),l)}function c_(r,l){if(r!=null){if(dm(r))return i_(r,l);if(Vd(r))return u_(r,l);if(fm(r))return l_(r,l);if(hm(r))return wm(r,l);if(pm(r))return o_(r,l);if(gm(r))return s_(r,l)}throw ym(r)}function Tr(r,l){return l?c_(r,l):fa(r)}function sa(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];var i=Qd(r);return Tr(r,i)}function pp(r,l){var i=pt(r)?r:function(){return r},u=function(c){return c.error(i())};return new It(u)}var f_=Hd(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ml(r,l){return new Promise(function(i,u){var c=new zl({next:function(h){i(h),c.unsubscribe()},error:u,complete:function(){u(new f_)}});r.subscribe(c)})}function d_(r){return r instanceof Date&&!isNaN(r)}function rc(r,l){return Yl(function(i,u){var c=0;i.subscribe(Bl(u,function(h){u.next(r.call(l,h,c++))}))})}var h_=Array.isArray;function y_(r,l){return h_(l)?r.apply(void 0,kl([],Ci(l))):r(l)}function Em(r){return rc(function(l){return y_(r,l)})}var v_=Array.isArray,p_=Object.getPrototypeOf,m_=Object.prototype,g_=Object.keys;function b_(r){if(r.length===1){var l=r[0];if(v_(l))return{args:l,keys:null};if(__(l)){var i=g_(l);return{args:i.map(function(u){return l[u]}),keys:i}}}return{args:r,keys:null}}function __(r){return r&&typeof r=="object"&&p_(r)===m_}function S_(r,l){return r.reduce(function(i,u,c){return i[u]=l[c],i},{})}function Zs(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];var i=Qd(r),u=$b(r),c=b_(r),h=c.args,g=c.keys;if(h.length===0)return Tr([],i);var _=new It(w_(h,i,g?function(m){return S_(g,m)}:nc));return u?_.pipe(Em(u)):_}function w_(r,l,i){return i===void 0&&(i=nc),function(u){mp(l,function(){for(var c=r.length,h=new Array(c),g=c,_=c,m=function(y){mp(l,function(){var w=Tr(r[y],l),x=!1;w.subscribe(Bl(u,function(T){h[y]=T,x||(x=!0,_--),_||u.next(i(h.slice()))},function(){--g||u.complete()}))},u)},v=0;v<c;v++)m(v)},u)}}function mp(r,l,i){r?ei(i,r,l):l()}function E_(r,l,i,u,c,h,g,_){var m=[],v=0,y=0,w=!1,x=function(){w&&!m.length&&!v&&l.complete()},T=function(N){return v<u?D(N):m.push(N)},D=function(N){v++;var L=!1;fa(i(N,y++)).subscribe(Bl(l,function(ae){l.next(ae)},function(){L=!0},void 0,function(){if(L)try{v--;for(var ae=function(){var ie=m.shift();g||D(ie)};m.length&&v<u;)ae();x()}catch(ie){l.error(ie)}}))};return r.subscribe(Bl(l,T,function(){w=!0,x()})),function(){}}function Xd(r,l,i){return i===void 0&&(i=1/0),pt(l)?Xd(function(u,c){return rc(function(h,g){return l(u,h,c,g)})(fa(r(u,c)))},i):(typeof l=="number"&&(i=l),Yl(function(u,c){return E_(u,c,r,i)}))}function x_(r){return r===void 0&&(r=1/0),Xd(nc,r)}var A_=["addListener","removeListener"],O_=["addEventListener","removeEventListener"],T_=["on","off"];function Ar(r,l,i,u){if(pt(i)&&(u=i,i=void 0),u)return Ar(r,l,i).pipe(Em(u));var c=Ci(D_(r)?O_.map(function(_){return function(m){return r[_](l,m,i)}}):C_(r)?A_.map(gp(r,l)):R_(r)?T_.map(gp(r,l)):[],2),h=c[0],g=c[1];if(!h&&Vd(r))return Xd(function(_){return Ar(_,l,i)})(fa(r));if(!h)throw new TypeError("Invalid event target");return new It(function(_){var m=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];return _.next(1<v.length?v:v[0])};return h(m),function(){return g(m)}})}function gp(r,l){return function(i){return function(u){return r[i](l,u)}}}function C_(r){return pt(r.addListener)&&pt(r.removeListener)}function R_(r){return pt(r.on)&&pt(r.off)}function D_(r){return pt(r.addEventListener)&&pt(r.removeEventListener)}function M_(r,l,i){return i===void 0&&(i=Zb),new It(function(u){var c=d_(r)?+r-i.now():r;c<0&&(c=0);var h=0;return i.schedule(function(){u.closed||(u.next(h++),u.complete())},c)})}function xm(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];var i=Qd(r),u=Jb(r,1/0),c=r;return c.length?c.length===1?fa(c[0]):x_(u)(Tr(c,i)):Ib}function j_(r,l){return Yl(function(i,u){var c=0;i.subscribe(Bl(u,function(h){return r.call(l,h,c++)&&u.next(h)}))})}function U_(r){r===void 0&&(r={});var l=r.connector,i=l===void 0?function(){return new vo}:l,u=r.resetOnError,c=u===void 0?!0:u,h=r.resetOnComplete,g=h===void 0?!0:h,_=r.resetOnRefCountZero,m=_===void 0?!0:_;return function(v){var y,w,x,T=0,D=!1,N=!1,L=function(){w?.unsubscribe(),w=void 0},ae=function(){L(),y=x=void 0,D=N=!1},ie=function(){var K=y;ae(),K?.unsubscribe()};return Yl(function(K,fe){T++,!N&&!D&&L();var be=x=x??i();fe.add(function(){T--,T===0&&!N&&!D&&(w=ld(ie,m))}),be.subscribe(fe),!y&&T>0&&(y=new zl({next:function(de){return be.next(de)},error:function(de){N=!0,L(),w=ld(ae,c,de),be.error(de)},complete:function(){D=!0,L(),w=ld(ae,g),be.complete()}}),fa(K).subscribe(y))})(v)}}function ld(r,l){for(var i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];if(l===!0){r();return}if(l!==!1){var c=new zl({next:function(){c.unsubscribe(),r()}});return fa(l.apply(void 0,kl([],Ci(i)))).subscribe(c)}}var pd=function(r,l){return pd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,u){i.__proto__=u}||function(i,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(i[c]=u[c])},pd(r,l)};function Gl(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function i(){this.constructor=r}pd(r,l),r.prototype=l===null?Object.create(l):(i.prototype=l.prototype,new i)}function Ye(r,l,i,u){return new(i||(i=Promise))(function(c,h){function g(v){try{m(u.next(v))}catch(y){h(y)}}function _(v){try{m(u.throw(v))}catch(y){h(y)}}function m(v){var y;v.done?c(v.value):(y=v.value,y instanceof i?y:new i(function(w){w(y)})).then(g,_)}m((u=u.apply(r,[])).next())})}function Am(r,l){var i,u,c,h,g={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return h={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function _(m){return function(v){return function(y){if(i)throw new TypeError("Generator is already executing.");for(;g;)try{if(i=1,u&&(c=2&y[0]?u.return:y[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,y[1])).done)return c;switch(u=0,c&&(y=[2&y[0],c.value]),y[0]){case 0:case 1:c=y;break;case 4:return g.label++,{value:y[1],done:!1};case 5:g.label++,u=y[1],y=[0];continue;case 7:y=g.ops.pop(),g.trys.pop();continue;default:if(c=g.trys,!((c=c.length>0&&c[c.length-1])||y[0]!==6&&y[0]!==2)){g=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){g.label=y[1];break}if(y[0]===6&&g.label<c[1]){g.label=c[1],c=y;break}if(c&&g.label<c[2]){g.label=c[2],g.ops.push(y);break}c[2]&&g.ops.pop(),g.trys.pop();continue}y=l.call(r,g)}catch(w){y=[6,w],u=0}finally{i=c=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([m,v])}}}function Is(r){var l=typeof Symbol=="function"&&Symbol.iterator,i=l&&r[l],u=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&u>=r.length&&(r=void 0),{value:r&&r[u++],done:!r}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")}function co(r,l){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var u,c,h=i.call(r),g=[];try{for(;(l===void 0||l-- >0)&&!(u=h.next()).done;)g.push(u.value)}catch(_){c={error:_}}finally{try{u&&!u.done&&(i=h.return)&&i.call(h)}finally{if(c)throw c.error}}return g}function fo(r,l,i){if(arguments.length===2)for(var u,c=0,h=l.length;c<h;c++)!u&&c in l||(u||(u=Array.prototype.slice.call(l,0,c)),u[c]=l[c]);return r.concat(u||Array.prototype.slice.call(l))}function jl(r){return this instanceof jl?(this.v=r,this):new jl(r)}function N_(r,l,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,c=i.apply(r,l||[]),h=[];return u={},g("next"),g("throw"),g("return"),u[Symbol.asyncIterator]=function(){return this},u;function g(w){c[w]&&(u[w]=function(x){return new Promise(function(T,D){h.push([w,x,T,D])>1||_(w,x)})})}function _(w,x){try{(function(T){T.value instanceof jl?Promise.resolve(T.value.v).then(m,v):y(h[0][2],T)})(c[w](x))}catch(T){y(h[0][3],T)}}function m(w){_("next",w)}function v(w){_("throw",w)}function y(w,x){w(x),h.shift(),h.length&&_(h[0][0],h[0][1])}}function k_(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=r[Symbol.asyncIterator];return i?i.call(r):(r=Is(r),l={},u("next"),u("throw"),u("return"),l[Symbol.asyncIterator]=function(){return this},l);function u(c){l[c]=r[c]&&function(h){return new Promise(function(g,_){(function(m,v,y,w){Promise.resolve(w).then(function(x){m({value:x,done:y})},v)})(g,_,(h=r[c](h)).done,h.value)})}}}function Om(r){if(!r)throw new Error("Assertion Failed")}const z_={}.hasOwnProperty;function Ps(r,l,i){if(r&&l!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(r)))if(typeof l!="string"&&"length"in l){Om(typeof i!="string"&&"length"in i);for(var u=0,c=l.length;u<c;++u)Ps(r,l[u],i[u])}else{var h=l.indexOf(".");if(h!==-1){var g=l.substr(0,h),_=l.substr(h+1);if(_==="")i===void 0?Array.isArray(r)?isNaN(parseInt(g))||r.splice(parseInt(g),1):delete r[g]:r[g]=i;else{var m=r[g];m&&function(v,y){return z_.call(v,y)}(r,g)||(m=r[g]={}),Ps(m,_,i)}}else i===void 0?Array.isArray(r)&&!isNaN(parseInt(l))?r.splice(l,1):delete r[l]:r[l]=i}}const Tm=typeof self<"u"&&typeof crypto<"u"?(r,l=crypto.getRandomValues.bind(crypto))=>{const i=new Uint8Array(r);return l(i),self.btoa(String.fromCharCode.apply(null,i))}:typeof Buffer<"u"?(r,l=B_)=>{const i=Buffer.alloc(r);return l(i),i.toString("base64")}:()=>{throw new Error("No implementation of randomString was found")};function B_(r){for(let l=0;l<r.length;++l)r[l]=Math.floor(256*Math.random())}function Zd(r){return typeof r=="string"||!!(Array.isArray(r)&&r.some(l=>Zd(l))&&r.every(Cm))}function Cm(r){return typeof r=="string"||typeof r=="number"||Array.isArray(r)&&r.every(Cm)}function q_(r,l,i){const u=r[l]||(r[l]={}),c=i.keys.map(h=>typeof h=="string"?h:JSON.stringify(h));switch(i.type){case"insert":case"upsert":c.forEach((h,g)=>{u[h]={type:"ups",val:i.values[g]}});break;case"update":case"modify":c.forEach((h,g)=>{const _=i.type==="update"?i.changeSpecs[g]:i.changeSpec,m=u[h];if(m)switch(m.type){case"ups":for(const[v,y]of Object.entries(_))Ps(m.val,v,y);break;case"del":break;case"upd":Object.assign(m.mod,_)}else u[h]={type:"upd",mod:_}});break;case"delete":c.forEach(h=>{u[h]={type:"del"}})}return r}function bp(r,l){for(const{table:i,muts:u}of l)for(const c of u)q_(r,i,c)}function Kt(r){return typeof r=="function"}function zn(r){return function(l){if(function(i){return Kt(i?.lift)}(l))return l.lift(function(i){try{return r(i,this)}catch(u){this.error(u)}});throw new TypeError("Unable to lift unknown Observable type")}}var Rm=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function Dm(r){return Kt(r?.then)}var _p,Us,ud=(_p=function(r){return function(l){r(this),this.message=l?l.length+` errors occurred during unsubscription:
`+l.map(function(i,u){return u+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=l}},(Us=_p(function(r){Error.call(r),r.stack=new Error().stack})).prototype=Object.create(Error.prototype),Us.prototype.constructor=Us,Us);function md(r,l){if(r){var i=r.indexOf(l);0<=i&&r.splice(i,1)}}var ac=function(){function r(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}var l;return r.prototype.unsubscribe=function(){var i,u,c,h,g;if(!this.closed){this.closed=!0;var _=this._parentage;if(_)if(this._parentage=null,Array.isArray(_))try{for(var m=Is(_),v=m.next();!v.done;v=m.next())v.value.remove(this)}catch(N){i={error:N}}finally{try{v&&!v.done&&(u=m.return)&&u.call(m)}finally{if(i)throw i.error}}else _.remove(this);var y=this.initialTeardown;if(Kt(y))try{y()}catch(N){g=N instanceof ud?N.errors:[N]}var w=this._finalizers;if(w){this._finalizers=null;try{for(var x=Is(w),T=x.next();!T.done;T=x.next()){var D=T.value;try{Sp(D)}catch(N){g=g??[],N instanceof ud?g=fo(fo([],co(g)),co(N.errors)):g.push(N)}}}catch(N){c={error:N}}finally{try{T&&!T.done&&(h=x.return)&&h.call(x)}finally{if(c)throw c.error}}}if(g)throw new ud(g)}},r.prototype.add=function(i){var u;if(i&&i!==this)if(this.closed)Sp(i);else{if(i instanceof r){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(u=this._finalizers)!==null&&u!==void 0?u:[]).push(i)}},r.prototype._hasParent=function(i){var u=this._parentage;return u===i||Array.isArray(u)&&u.includes(i)},r.prototype._addParent=function(i){var u=this._parentage;this._parentage=Array.isArray(u)?(u.push(i),u):u?[u,i]:i},r.prototype._removeParent=function(i){var u=this._parentage;u===i?this._parentage=null:Array.isArray(u)&&md(u,i)},r.prototype.remove=function(i){var u=this._finalizers;u&&md(u,i),i instanceof r&&i._removeParent(this)},r.EMPTY=((l=new r).closed=!0,l),r}();function Mm(r){return r instanceof ac||r&&"closed"in r&&Kt(r.remove)&&Kt(r.add)&&Kt(r.unsubscribe)}function Sp(r){Kt(r)?r():r.unsubscribe()}ac.EMPTY;var L_={Promise:void 0},H_={setTimeout:function(r,l){for(var i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];return setTimeout.apply(void 0,fo([r,l],co(i)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function jm(r){H_.setTimeout(function(){throw r})}function gd(){}var Id=function(r){function l(i){var u=r.call(this)||this;return u.isStopped=!1,i?(u.destination=i,Mm(i)&&i.add(u)):u.destination=Y_,u}return Gl(l,r),l.create=function(i,u,c){return new bd(i,u,c)},l.prototype.next=function(i){this.isStopped||this._next(i)},l.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},l.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},l.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},l.prototype._next=function(i){this.destination.next(i)},l.prototype._error=function(i){try{this.destination.error(i)}finally{this.unsubscribe()}},l.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},l}(ac),K_=function(){function r(l){this.partialObserver=l}return r.prototype.next=function(l){var i=this.partialObserver;if(i.next)try{i.next(l)}catch(u){Ns(u)}},r.prototype.error=function(l){var i=this.partialObserver;if(i.error)try{i.error(l)}catch(u){Ns(u)}else Ns(l)},r.prototype.complete=function(){var l=this.partialObserver;if(l.complete)try{l.complete()}catch(i){Ns(i)}},r}(),bd=function(r){function l(i,u,c){var h,g=r.call(this)||this;return Kt(i)||!i?h={next:i??void 0,error:u??void 0,complete:c??void 0}:h=i,g.destination=new K_(h),g}return Gl(l,r),l}(Id);function Ns(r){jm(r)}var Y_={closed:!0,next:gd,error:function(r){throw r},complete:gd},Pd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ic(r){return r}var ir=function(){function r(l){l&&(this._subscribe=l)}return r.prototype.lift=function(l){var i=new r;return i.source=this,i.operator=l,i},r.prototype.subscribe=function(l,i,u){var c,h=this,g=(c=l)&&c instanceof Id||function(_){return _&&Kt(_.next)&&Kt(_.error)&&Kt(_.complete)}(c)&&Mm(c)?l:new bd(l,i,u);return function(){var _=h,m=_.operator,v=_.source;g.add(m?m.call(g,v):v?h._subscribe(g):h._trySubscribe(g))}(),g},r.prototype._trySubscribe=function(l){try{return this._subscribe(l)}catch(i){l.error(i)}},r.prototype.forEach=function(l,i){var u=this;return new(i=wp(i))(function(c,h){var g=new bd({next:function(_){try{l(_)}catch(m){h(m),g.unsubscribe()}},error:h,complete:c});u.subscribe(g)})},r.prototype._subscribe=function(l){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(l)},r.prototype[Pd]=function(){return this},r.prototype.pipe=function(){for(var l,i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return((l=i).length===0?ic:l.length===1?l[0]:function(c){return l.reduce(function(h,g){return g(h)},c)})(this)},r.prototype.toPromise=function(l){var i=this;return new(l=wp(l))(function(u,c){var h;i.subscribe(function(g){return h=g},function(g){return c(g)},function(){return u(h)})})},r.create=function(l){return new r(l)},r}();function wp(r){var l;return(l=r??L_.Promise)!==null&&l!==void 0?l:Promise}function Um(r){return Kt(r[Pd])}function Nm(r){return Symbol.asyncIterator&&Kt(r?.[Symbol.asyncIterator])}function km(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var zm=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator";function Bm(r){return Kt(r?.[zm])}function qm(r){return N_(this,arguments,function(){var l,i,u;return Am(this,function(c){switch(c.label){case 0:l=r.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,jl(l.read())];case 3:return i=c.sent(),u=i.value,i.done?[4,jl(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,jl(u)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return l.releaseLock(),[7];case 10:return[2]}})})}function Lm(r){return Kt(r?.getReader)}function Ri(r){if(r instanceof ir)return r;if(r!=null){if(Um(r))return c=r,new ir(function(h){var g=c[Pd]();if(Kt(g.subscribe))return g.subscribe(h);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(Rm(r))return u=r,new ir(function(h){for(var g=0;g<u.length&&!h.closed;g++)h.next(u[g]);h.complete()});if(Dm(r))return i=r,new ir(function(h){i.then(function(g){h.closed||(h.next(g),h.complete())},function(g){return h.error(g)}).then(null,jm)});if(Nm(r))return Ep(r);if(Bm(r))return l=r,new ir(function(h){var g,_;try{for(var m=Is(l),v=m.next();!v.done;v=m.next()){var y=v.value;if(h.next(y),h.closed)return}}catch(w){g={error:w}}finally{try{v&&!v.done&&(_=m.return)&&_.call(m)}finally{if(g)throw g.error}}h.complete()});if(Lm(r))return Ep(qm(r))}var l,i,u,c;throw km(r)}function Ep(r){return new ir(function(l){(function(i,u){var c,h,g,_;return Ye(this,void 0,void 0,function(){var m,v;return Am(this,function(y){switch(y.label){case 0:y.trys.push([0,5,6,11]),c=k_(i),y.label=1;case 1:return[4,c.next()];case 2:if((h=y.sent()).done)return[3,4];if(m=h.value,u.next(m),u.closed)return[2];y.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return v=y.sent(),g={error:v},[3,11];case 6:return y.trys.push([6,,9,10]),h&&!h.done&&(_=c.return)?[4,_.call(c)]:[3,8];case 7:y.sent(),y.label=8;case 8:return[3,10];case 9:if(g)throw g.error;return[7];case 10:return[7];case 11:return u.complete(),[2]}})})})(r,l).catch(function(i){return l.error(i)})})}function kn(r,l,i,u,c){return new G_(r,l,i,u,c)}var G_=function(r){function l(i,u,c,h,g,_){var m=r.call(this,i)||this;return m.onFinalize=g,m.shouldUnsubscribe=_,m._next=u?function(v){try{u(v)}catch(y){i.error(y)}}:r.prototype._next,m._error=h?function(v){try{h(v)}catch(y){i.error(y)}finally{this.unsubscribe()}}:r.prototype._error,m._complete=c?function(){try{c()}catch(v){i.error(v)}finally{this.unsubscribe()}}:r.prototype._complete,m}return Gl(l,r),l.prototype.unsubscribe=function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var u=this.closed;r.prototype.unsubscribe.call(this),!u&&((i=this.onFinalize)===null||i===void 0||i.call(this))}},l}(Id),Q_=function(r){function l(i,u){return r.call(this)||this}return Gl(l,r),l.prototype.schedule=function(i,u){return this},l}(ac),_d={setInterval:function(r,l){for(var i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];var c=_d.delegate;return c?.setInterval?c.setInterval.apply(c,fo([r,l],co(i))):setInterval.apply(void 0,fo([r,l],co(i)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},V_=function(r){function l(i,u){var c=r.call(this,i,u)||this;return c.scheduler=i,c.work=u,c.pending=!1,c}return Gl(l,r),l.prototype.schedule=function(i,u){if(u===void 0&&(u=0),this.closed)return this;this.state=i;var c=this.id,h=this.scheduler;return c!=null&&(this.id=this.recycleAsyncId(h,c,u)),this.pending=!0,this.delay=u,this.id=this.id||this.requestAsyncId(h,this.id,u),this},l.prototype.requestAsyncId=function(i,u,c){return c===void 0&&(c=0),_d.setInterval(i.flush.bind(i,this),c)},l.prototype.recycleAsyncId=function(i,u,c){if(c===void 0&&(c=0),c!=null&&this.delay===c&&this.pending===!1)return u;_d.clearInterval(u)},l.prototype.execute=function(i,u){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var c=this._execute(i,u);if(c)return c;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},l.prototype._execute=function(i,u){var c,h=!1;try{this.work(i)}catch(g){h=!0,c=g||new Error("Scheduled action threw falsy error")}if(h)return this.unsubscribe(),c},l.prototype.unsubscribe=function(){if(!this.closed){var i=this.id,u=this.scheduler,c=u.actions;this.work=this.state=this.scheduler=null,this.pending=!1,md(c,this),i!=null&&(this.id=this.recycleAsyncId(u,i,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},l}(Q_),X_={now:function(){return Date.now()}},xp=function(){function r(l,i){i===void 0&&(i=r.now),this.schedulerActionCtor=l,this.now=i}return r.prototype.schedule=function(l,i,u){return i===void 0&&(i=0),new this.schedulerActionCtor(this,l).schedule(u,i)},r.now=X_.now,r}(),$d=new(function(r){function l(i,u){u===void 0&&(u=xp.now);var c=r.call(this,i,u)||this;return c.actions=[],c._active=!1,c._scheduled=void 0,c}return Gl(l,r),l.prototype.flush=function(i){var u=this.actions;if(this._active)u.push(i);else{var c;this._active=!0;do if(c=i.execute(i.state,i.delay))break;while(i=u.shift());if(this._active=!1,c){for(;i=u.shift();)i.unsubscribe();throw c}}},l}(xp))(V_),Z_=$d;function Hm(r){return r&&Kt(r.schedule)}function I_(r,l,i){r===void 0&&(r=0),i===void 0&&(i=Z_);var u=-1;return l!=null&&(Hm(l)?i=l:u=l),new ir(function(c){var h,g=(h=r)instanceof Date&&!isNaN(h)?+r-i.now():r;g<0&&(g=0);var _=0;return i.schedule(function(){c.closed||(c.next(_++),0<=u?this.schedule(void 0,u):c.complete())},g)})}function Km(r){return Hm((l=r)[l.length-1])?r.pop():void 0;var l}function ti(r,l,i,u,c){u===void 0&&(u=0),c===void 0&&(c=!1);var h=l.schedule(function(){i(),c?r.add(this.schedule(null,u)):this.unsubscribe()},u);if(r.add(h),!c)return h}function Sd(r){return zn(function(l,i){var u,c=null,h=!1;c=l.subscribe(kn(i,void 0,void 0,function(g){u=Ri(r(g,Sd(r)(l))),c?(c.unsubscribe(),c=null,u.subscribe(i)):h=!0})),h&&(c.unsubscribe(),c=null,u.subscribe(i))})}function Ap(r,l){return l===void 0&&(l=0),zn(function(i,u){i.subscribe(kn(u,function(c){return ti(u,r,function(){return u.next(c)},l)},function(){return ti(u,r,function(){return u.complete()},l)},function(c){return ti(u,r,function(){return u.error(c)},l)}))})}function Op(r,l){return l===void 0&&(l=0),zn(function(i,u){u.add(r.schedule(function(){return i.subscribe(u)},l))})}function Tp(r,l){if(!r)throw new Error("Iterable cannot be null");return new ir(function(i){ti(i,l,function(){var u=r[Symbol.asyncIterator]();ti(i,l,function(){u.next().then(function(c){c.done?i.complete():i.next(c.value)})},0,!0)})})}function P_(r,l){if(r!=null){if(Um(r))return function(i,u){return Ri(i).pipe(Op(u),Ap(u))}(r,l);if(Rm(r))return function(i,u){return new ir(function(c){var h=0;return u.schedule(function(){h===i.length?c.complete():(c.next(i[h++]),c.closed||this.schedule())})})}(r,l);if(Dm(r))return function(i,u){return Ri(i).pipe(Op(u),Ap(u))}(r,l);if(Nm(r))return Tp(r,l);if(Bm(r))return function(i,u){return new ir(function(c){var h;return ti(c,u,function(){h=i[zm](),ti(c,u,function(){var g,_,m;try{_=(g=h.next()).value,m=g.done}catch(v){return void c.error(v)}m?c.complete():c.next(_)},0,!0)}),function(){return Kt(h?.return)&&h.return()}})}(r,l);if(Lm(r))return function(i,u){return Tp(qm(i),u)}(r,l)}throw km(r)}function Or(r,l){return zn(function(i,u){var c=0;i.subscribe(kn(u,function(h){u.next(r.call(l,h,c++))}))})}function Jd(r,l,i){return i===void 0&&(i=1/0),Kt(l)?Jd(function(u,c){return Or(function(h,g){return l(u,h,c,g)})(Ri(r(u,c)))},i):(typeof l=="number"&&(i=l),zn(function(u,c){return function(h,g,_,m,v,y,w,x){var T=[],D=0,N=0,L=!1,ae=function(){!L||T.length||D||g.complete()},ie=function(fe){return D<m?K(fe):T.push(fe)},K=function(fe){y&&g.next(fe),D++;var be=!1;Ri(_(fe,N++)).subscribe(kn(g,function(de){v?.(de),y?ie(de):g.next(de)},function(){be=!0},void 0,function(){if(be)try{D--;for(var de=function(){var xe=T.shift();w?ti(g,w,function(){return K(xe)}):K(xe)};T.length&&D<m;)de();ae()}catch(xe){g.error(xe)}}))};return h.subscribe(kn(g,ie,function(){L=!0,ae()})),function(){x?.()}}(u,c,r,i)}))}function $_(){return(r=1)===void 0&&(r=1/0),Jd(ic,r);var r}function Cp(r,l){return l===void 0&&(l=$d),zn(function(i,u){var c=null,h=null,g=null,_=function(){if(c){c.unsubscribe(),c=null;var v=h;h=null,u.next(v)}};function m(){var v=g+r,y=l.now();if(y<v)return c=this.schedule(void 0,v-y),void u.add(c);_()}i.subscribe(kn(u,function(v){h=v,g=l.now(),c||(c=l.schedule(m,r),u.add(c))},function(){_(),u.complete()},void 0,function(){h=c=null}))})}function wd(){for(var r,l,i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return $_()((r=i,(l=Km(i))?P_(r,l):Ri(r)))}var J_=new ir(function(r){return r.complete()});function Tl(r){return r<=0?function(){return J_}:zn(function(l,i){var u=0;l.subscribe(kn(i,function(c){++u<=r&&(i.next(c),r<=u&&i.complete())}))})}function Ym(r,l){return l?function(i){return wd(l.pipe(Tl(1),zn(function(u,c){u.subscribe(kn(c,gd))})),i.pipe(Ym(r)))}:Jd(function(i,u){return r(i,u).pipe(Tl(1),function(c){return Or(function(){return c})}(i))})}function Gm(r,l){l===void 0&&(l=$d);var i=I_(r,l);return Ym(function(){return i})}function Qm(r,l){return l===void 0&&(l=ic),r=r??F_,zn(function(i,u){var c,h=!0;i.subscribe(kn(u,function(g){var _=l(g);!h&&r(c,_)||(h=!1,c=_,u.next(g))}))})}function F_(r,l){return r===l}function xr(r,l){return zn(function(i,u){var c=0;i.subscribe(kn(u,function(h){return r.call(l,h,c++)&&u.next(h)}))})}function Rp(r){return xr(function(l,i){return r<=i})}function W_(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];var i=Km(r);return zn(function(u,c){(i?wd(r,u,i):wd(r,u)).subscribe(c)})}function bn(r,l){return zn(function(i,u){var c=null,h=0,g=!1,_=function(){return g&&!c&&u.complete()};i.subscribe(kn(u,function(m){c?.unsubscribe();var v=0,y=h++;Ri(r(m,y)).subscribe(c=kn(u,function(w){return u.next(l?l(m,w,y,v++):w)},function(){c=null,_()}))},function(){g=!0,_()}))})}function Dp(r,l,i){var u=Kt(r)||l||i?{next:r,error:l,complete:i}:r;return u?zn(function(c,h){var g;(g=u.subscribe)===null||g===void 0||g.call(u);var _=!0;c.subscribe(kn(h,function(m){var v;(v=u.next)===null||v===void 0||v.call(u,m),h.next(m)},function(){var m;_=!1,(m=u.complete)===null||m===void 0||m.call(u),h.complete()},function(m){var v;_=!1,(v=u.error)===null||v===void 0||v.call(u,m),h.error(m)},function(){var m,v;_&&((m=u.unsubscribe)===null||m===void 0||m.call(u)),(v=u.finalize)===null||v===void 0||v.call(u)}))}):ic}function Vm(r,l){return Ye(this,void 0,void 0,function*(){try{const i=yield navigator.serviceWorker.ready;if(l==="push"&&i.sync&&(yield i.sync.register(`dexie-cloud:${r.name}`)),!i.active)throw new Error("Failed to trigger sync - there's no active service worker");return void i.active.postMessage({type:"dexie-cloud-sync",dbName:r.name,purpose:l})}catch{}})}function oa(r,l){r.cloud.usingServiceWorker?Vm(r,l):r.localSyncEvent.next({purpose:l})}const Xm=typeof Buffer<"u"?r=>Buffer.from(r,"base64"):r=>{const l=atob(r),i=l.length,u=new Uint8Array(i);for(var c=0;c<i;c++)u[c]=l.charCodeAt(c);return u},po=typeof Buffer<"u"?r=>ArrayBuffer.isView(r)?Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"):Buffer.from(r).toString("base64"):r=>{const l=ArrayBuffer.isView(r)?r:new Uint8Array(r),i=[];for(let u=0,c=l.length;u<c;u+=4096){const h=l.subarray(u,u+4096);i.push(String.fromCharCode.apply(null,h))}return btoa(i.join(""))};class Ed extends Error{constructor({title:l,message:i,messageCode:u,messageParams:c}){super(i),this.name="TokenErrorResponseError",this.title=l,this.messageCode=u,this.messageParams=c}}function mo(r,l){return new Promise((i,u)=>{const c=Object.assign(Object.assign({submitLabel:"Submit",cancelLabel:"Cancel"},l),{onSubmit:h=>{r.next(void 0),i(h)},onCancel:()=>{r.next(void 0),u(new Ct.AbortError("User cancelled"))}});r.next(c)})}function xd(r,l,...i){return mo(r,{type:"message-alert",title:l,alerts:i,fields:{},submitLabel:"OK",cancelLabel:null})}function Mp(r,l,i){return Ye(this,void 0,void 0,function*(){let u=i||"";for(;!u||!/^[\w-+.]+@([\w-]+\.)+[\w-]{2,10}(\sas\s[\w-+.]+@([\w-]+\.)+[\w-]{2,10})?$/.test(u);)u=(yield mo(r,{type:"email",title:l,alerts:u?[{type:"error",messageCode:"INVALID_EMAIL",message:"Please enter a valid email address",messageParams:{}}]:[],fields:{email:{type:"email",placeholder:"you@somedomain.com"}}})).email;return u})}function jp(r,l,i){return Ye(this,void 0,void 0,function*(){const u=[{type:"info",messageCode:"OTP_SENT",message:"A One-Time password has been sent to {email}",messageParams:{email:l}}];i&&u.push(i);const{otp:c}=yield mo(r,{type:"otp",title:"Enter OTP",alerts:u,fields:{otp:{type:"otp",label:"OTP",placeholder:"Paste OTP here"}}});return c})}function Fd(r){var l,i,u;return Ye(this,void 0,void 0,function*(){const c=yield r.getCurrentUser(),{accessToken:h,accessTokenExpiration:g,refreshToken:_,refreshTokenExpiration:m,claims:v}=c;if(!h)return null;if(((l=g?.getTime())!==null&&l!==void 0?l:1/0)>Date.now()&&(((i=c.license)===null||i===void 0?void 0:i.status)||"ok")==="ok")return c;if(!_)throw new Error("Refresh token missing");if(((u=m?.getTime())!==null&&u!==void 0?u:1/0)<=Date.now())throw new Error("Refresh token has expired");const y=yield lc(r.cloud.options.databaseUrl,c);return yield r.table("$logins").update(v.sub,{accessToken:y.accessToken,accessTokenExpiration:y.accessTokenExpiration,claims:y.claims,license:y.license}),y})}function e1(r,l,i,u,c){return Ye(this,void 0,void 0,function*(){return l.accessToken&&l.accessTokenExpiration.getTime()>Date.now()?l:l.refreshToken&&(!l.refreshTokenExpiration||l.refreshTokenExpiration.getTime()>Date.now())?yield lc(r,l):yield function(h,g,_,m){return Ye(this,void 0,void 0,function*(){if(!crypto.subtle)throw typeof location<"u"&&location.protocol==="http:"?new Error("Dexie Cloud Addon needs to use WebCrypto, but your browser has disabled it due to being served from an insecure location. Please serve it from https or http://localhost:<port> (See https://stackoverflow.com/questions/46670556/how-to-enable-crypto-subtle-for-unsecure-origins-in-chrome/46671627#46671627)"):new Error("This browser does not support WebCrypto.");const{privateKey:v,publicKey:y}=yield crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]);if(!v||!y)throw new Error("Could not generate RSA keypair");h.nonExportablePrivateKey=v;const w=function(x){const T=po(x);return function(D){let N=`-----BEGIN PUBLIC KEY-----
`;for(;D.length>0;)N+=D.substring(0,64)+`
`,D=D.substring(64);return N+="-----END PUBLIC KEY-----",N}(T)}(yield crypto.subtle.exportKey("spki",y));h.publicKey=y;try{const x=yield g({public_key:w,hints:m});if(x.type==="error")throw new Ed(x);if(x.type!=="tokens")throw new Error(`Unexpected response type from token endpoint: ${x.type}`);return h.accessToken=x.accessToken,h.accessTokenExpiration=new Date(x.accessTokenExpiration),h.refreshToken=x.refreshToken,x.refreshTokenExpiration&&(h.refreshTokenExpiration=new Date(x.refreshTokenExpiration)),h.userId=x.claims.sub,h.email=x.claims.email,h.name=x.claims.name,h.claims=x.claims,h.license={type:x.userType,status:x.claims.license||"ok"},h.data=x.data,x.evalDaysLeft!=null&&(h.license.evalDaysLeft=x.evalDaysLeft),x.userValidUntil!=null&&(h.license.validUntil=new Date(x.userValidUntil)),x.alerts&&x.alerts.length>0&&(yield mo(_,{type:"message-alert",title:"Authentication Alert",fields:{},alerts:x.alerts})),h}catch(x){if(x instanceof Ed)throw yield xd(_,x.title,{type:"error",messageCode:x.messageCode,message:x.message,messageParams:{}}),x;let T="We're having a problem authenticating right now.";throw x instanceof TypeError&&(T=typeof navigator!==void 0&&!navigator.onLine?"You seem to be offline. Please connect to the internet and try again.":Ct.debug||typeof location<"u"&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")?`Could not connect to server. Please verify that your origin '${location.origin}' is whitelisted using \`npx dexie-cloud whitelist\``:"Could not connect to server. Please verify the connection.",yield xd(_,"Authentication Failed",{type:"error",messageCode:"GENERIC_ERROR",message:T,messageParams:{}}).catch(()=>{})),x}})}(l,i,u,c)})}function lc(r,l){return Ye(this,void 0,void 0,function*(){if(!l.refreshToken)throw new Error("Cannot refresh token - refresh token is missing.");if(!l.nonExportablePrivateKey)throw new Error("login.nonExportablePrivateKey is missing - cannot sign refresh token without a private key.");const i=Date.now(),u="RSASSA-PKCS1-v1_5",c=new TextEncoder().encode(l.refreshToken+i),h=yield crypto.subtle.sign(u,l.nonExportablePrivateKey,c),g=po(h),_={grant_type:"refresh_token",refresh_token:l.refreshToken,scopes:["ACCESS_DB"],signature:g,signing_algorithm:u,time_stamp:i},m=yield fetch(`${r}/token`,{body:JSON.stringify(_),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});if(m.status!==200)throw new Error(`RefreshToken: Status ${m.status} from ${r}/token`);const v=yield m.json();if(v.type==="error")throw new Ed(v);return l.accessToken=v.accessToken,l.accessTokenExpiration=v.accessTokenExpiration?new Date(v.accessTokenExpiration):void 0,l.claims=v.claims,l.license={type:v.userType,status:v.claims.license||"ok"},v.evalDaysLeft!=null&&(l.license.evalDaysLeft=v.evalDaysLeft),v.userValidUntil!=null&&(l.license.validUntil=new Date(v.userValidUntil)),v.data&&(l.data=v.data),l})}const Up=new WeakMap;class Wd{constructor(l,i){Up.set(this,l),Object.assign(this,i)}static load(l,i){return l.table("$logins").get(i).then(u=>new Wd(l,u||{userId:i,claims:{sub:i},lastLogin:new Date(0)}))}save(){return Ye(this,void 0,void 0,function*(){Up.get(this).table("$logins").put(this)})}}const Nn={userId:"unauthorized",name:"Unauthorized",claims:{sub:"unauthorized"},lastLogin:new Date(0)};try{Object.freeze(Nn),Object.freeze(Nn.claims)}catch{}function Zm(r,l){return Ml(Tr(r).pipe(j_(l)))}function Im(r){return Ye(this,void 0,void 0,function*(){const l=yield Ad(r);if(l){if(!(yield function(i,u,c){return Ye(this,void 0,void 0,function*(){const h=[{type:"warning",messageCode:"LOGOUT_CONFIRMATION",message:`{numUnsyncedChanges} unsynced changes will get lost!
                Logout anyway?`,messageParams:{currentUserId:u,numUnsyncedChanges:c.toString()}}];return yield mo(i,{type:"logout-confirmation",title:"Confirm Logout",alerts:h,fields:{},submitLabel:"Confirm logout",cancelLabel:"Cancel"}).then(()=>!0).catch(()=>!1)})}(r.cloud.userInteraction,r.cloud.currentUserId,l)))throw new Error("User cancelled logout due to unsynced changes");yield Ad(r,{deleteUnsyncedData:!0})}})}function Ad(r,{deleteUnsyncedData:l=!1}={}){return Ye(this,void 0,void 0,function*(){const[i,u]=yield r.dx.transaction("rw",r.dx.tables,c=>Ye(this,void 0,void 0,function*(){const h=c.idbtrans;h.disableChangeTracking=!0,h.disableAccessControl=!0;const g=c.storeNames.filter(m=>m.endsWith("_mutations")),_=(yield Promise.all(g.map(m=>c.table(m).count()))).reduce((m,v)=>m+v,0);if(_>0&&!l)return[_,!1];r.$syncState.delete("syncState");for(const m of r.dx.tables)m.name!=="$jobs"&&m.name!=="$syncState"&&m.clear();return[_,!0]}));return u&&(yield Zm(r.cloud.currentUser,c=>c.userId===Nn.userId),yield r.cloud.sync({purpose:"pull",wait:!0})),i})}class Od extends Error{constructor(l,i){super(i||`${l.status} ${l.statusText}`),this.httpStatus=l.status}get name(){return"HttpError"}}function ks(r,...l){globalThis.console[r](...l)}function od(r,l){var i;return Ye(this,void 0,void 0,function*(){const u=yield r.getCurrentUser(),c=u.userId;if(u.isLoggedIn&&(!l||!l.email&&!l.userId)){if((((i=u.license)===null||i===void 0?void 0:i.status)||"ok")==="ok"&&u.accessToken&&(!u.accessTokenExpiration||u.accessTokenExpiration.getTime()>Date.now()))return!1;if(u.refreshToken&&(!u.refreshTokenExpiration||u.refreshTokenExpiration.getTime()>Date.now()))return yield Fd(r),!1}const h=new Wd(r,{claims:{},lastLogin:new Date(0)});return yield e1(r.cloud.options.databaseUrl,h,r.cloud.options.fetchTokens||function(g){const{userInteraction:_}=g.cloud;return function({public_key:m,hints:v}){var y;return Ye(this,void 0,void 0,function*(){let w;const x=(y=g.cloud.options)===null||y===void 0?void 0:y.databaseUrl;if(!x)throw new Error("No database URL given.");if(v?.grant_type==="demo")w={demo_user:yield Mp(_,"Enter a demo user email",v?.email||v?.userId),grant_type:"demo",scopes:["ACCESS_DB"],public_key:m};else if(v?.otpId&&v.otp)w={grant_type:"otp",otp_id:v.otpId,otp:v.otp,scopes:["ACCESS_DB"],public_key:m};else{const N=yield Mp(_,"Enter email address",v?.email);w=/@demo.local$/.test(N)?{demo_user:N,grant_type:"demo",scopes:["ACCESS_DB"],public_key:m}:{email:N,grant_type:"otp",scopes:["ACCESS_DB"]}}const T=yield fetch(`${x}/token`,{body:JSON.stringify(w),method:"post",headers:{"Content-Type":"application/json",mode:"cors"}});if(T.status!==200){const N=yield T.text();throw yield xd(_,"Token request failed",{type:"error",messageCode:"GENERIC_ERROR",message:N,messageParams:{}}).catch(()=>{}),new Od(T,N)}const D=yield T.json();if(D.type==="tokens"||D.type==="error")return D;if(w.grant_type==="otp"&&"email"in w){if(D.type!=="otp-sent")throw new Error(`Unexpected response from ${x}/token`);const N=yield jp(_,w.email),L=Object.assign(Object.assign({},w),{otp:N||"",otp_id:D.otp_id,public_key:m});let ae=yield fetch(`${x}/token`,{body:JSON.stringify(L),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});for(;ae.status===401;){const ie=yield ae.text();L.otp=yield jp(_,w.email,{type:"error",messageCode:"INVALID_OTP",message:ie,messageParams:{}}),ae=yield fetch(`${x}/token`,{body:JSON.stringify(L),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"})}if(ae.status!==200){const ie=yield ae.text();throw new Od(ae,ie)}return yield ae.json()}throw new Error(`Unexpected response from ${x}/token`)})}}(r),r.cloud.userInteraction,l),c!==Nn.userId&&h.userId!==c&&(yield Im(r)),yield function(g,_){return Ye(this,void 0,void 0,function*(){if(_.userId===g.cloud.currentUserId)return;const m=g.table("$logins");yield g.transaction("rw",m,v=>Ye(this,void 0,void 0,function*(){const y=yield m.toArray();yield Promise.all(y.filter(w=>w.userId!==_.userId&&w.isLoggedIn).map(w=>(w.isLoggedIn=!1,m.put(w)))),_.isLoggedIn=!0,_.lastLogin=new Date;try{yield _.save()}catch(w){try{w.name==="DataCloneError"&&(ks("debug","Login context property names:",Object.keys(_)),ks("debug","Login context property names:",Object.keys(_)),ks("debug","Login context:",_),ks("debug","Login context JSON:",JSON.stringify(_)))}catch{}throw w}})),yield Zm(g.cloud.currentUser,v=>v.userId===_.userId)})}(r,h),oa(r,"pull"),h.userId!==c})}const Td={},lo=typeof self<"u"&&self.document&&typeof navigator<"u"&&navigator.serviceWorker;lo&&lo.ready.then(r=>Td.registration=r),typeof self<"u"&&"clients"in self&&!self.document&&addEventListener("message",r=>{var l,i;!((i=(l=r.data)===null||l===void 0?void 0:l.type)===null||i===void 0)&&i.startsWith("sw-broadcast-")&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(u=>{var c;return u.id!==((c=r.source)===null||c===void 0?void 0:c.id)&&u.postMessage(r.data)})});class sd{constructor(l){this.name=l}subscribe(l){if(!lo)return()=>{};const i=u=>{var c;((c=u.data)===null||c===void 0?void 0:c.type)===`sw-broadcast-${this.name}`&&l(u.data.message)};return lo.addEventListener("message",i),()=>lo.removeEventListener("message",i)}postMessage(l){var i;typeof self.clients=="object"?[...self.clients.matchAll({includeUncontrolled:!0})].forEach(u=>u.postMessage({type:`sw-broadcast-${this.name}`,message:l})):Td.registration&&((i=Td.registration.active)===null||i===void 0||i.postMessage({type:`sw-broadcast-${this.name}`,message:l}))}}const ro=globalThis["lbc-events"]||(globalThis["lbc-events"]=new Map);class zs extends It{constructor(l){const i=typeof BroadcastChannel>"u"?new sd(l):new BroadcastChannel(l);super(u=>{function c(_){u.next(_.detail)}function h(_){u.next(_.data)}let g;(function(_,m){ro.has(_)?ro.get(_).push(m):ro.set(_,[m])})(`lbc-${l}`,c);try{i instanceof sd?g=i.subscribe(_=>u.next(_)):i.addEventListener("message",h)}catch{}return()=>{(function(_,m){const v=ro.get(_);if(v){const y=v.indexOf(m);y!==-1&&v.splice(y,1)}})(`lbc-${l}`,c),i instanceof sd?g():i.removeEventListener("message",h)}}),this.name=l,this.bc=i}next(l){this.bc.postMessage(l),function(i){const u=ro.get(i.type);u&&u.forEach(c=>{try{c(i)}catch{}})}(new CustomEvent(`lbc-${this.name}`,{detail:l}))}}function Cd({realms:r,inviteRealms:l}){return Ye(this,void 0,void 0,function*(){const i=JSON.stringify([...r.map(h=>({realmId:h,accepted:!0})),...l.map(h=>({realmId:h,accepted:!1}))].sort((h,g)=>h.realmId<g.realmId?-1:h.realmId>g.realmId?1:0)),u=new TextEncoder().encode(i),c=yield crypto.subtle.digest("SHA-1",u);return po(c)})}function Ys(r){return Object.entries(r.cloud.schema||{}).filter(([,{markedForSync:l}])=>l).map(([l])=>r.tables.filter(({name:i})=>i===l)[0]).filter(l=>l)}function eh(r){return`$${r}_mutations`}function Pm(r){var l;const i=(l=/^\$(.*)_mutations$/.exec(r))===null||l===void 0?void 0:l[1];if(!i)throw new Error(`Given mutationTable ${r} is not correct`);return i}const t1=[].concat;function $m(r){return t1.apply([],r)}function Rd(r,l,{since:i={},limit:u=1/0}={}){return Ye(this,void 0,void 0,function*(){const c=$m(yield Promise.all(r.map(m=>Ye(this,void 0,void 0,function*(){const v=Pm(m.name),y=i[v];let w=y?m.where("rev").above(y):m;return u<1/0&&(w=w.limit(u)),(yield w.toArray()).map(x=>({table:v,mut:x}))})))).sort((m,v)=>m.mut.txid===v.mut.txid?m.mut.opNo-v.mut.opNo:m.mut.ts-v.mut.ts),h=[];let g=null,_=null;for(const{table:m,mut:v}of c)g&&g.table===m&&_===v.txid?g.muts.push(v):(g={table:m,muts:[v]},_=v.txid,h.push(g));return h})}function Jm(r){const l=new Uint8Array(r);if(typeof crypto<"u")crypto.getRandomValues(l);else for(let i=0;i<r;i++)l[i]=Math.floor(256*Math.random());if(typeof Buffer<"u"&&Buffer.from)return Buffer.from(l).toString("base64");if(typeof btoa<"u")return btoa(String.fromCharCode.apply(null,l));throw new Error("No btoa or Buffer available")}const{toString:n1}={},Np={replace:function(r){const l=Object.keys(r);let i=null;for(let c=0,h=l.length;c<h;++c)l[c][0]==="$"&&(i=i||[],i.push(l[c]));if(!i)return r;const u={...r};for(const c of i)delete u[c];for(const c of i)u["$"+c]=r[c];return u}};function Fm(...r){const l=r.reduce((u,c)=>({...u,...c}),r.reduce((u,c)=>({...c,...u}),{})),i=new WeakMap;return{stringify(u,c,h){return JSON.stringify(u,function(_){const m=this[_],v=function(y){const w=typeof y;switch(typeof y){case"object":case"function":{if(y===null)return null;const T=Object.getPrototypeOf(y);if(!T)return Np;let D=i.get(T);if(D!==void 0)return D;const N=(x=y,n1.call(x).slice(8,-1)),L=Object.entries(l).find(([ae,ie])=>{var K,fe;return(fe=(K=ie?.test)===null||K===void 0?void 0:K.call(ie,y,N))!==null&&fe!==void 0?fe:ae===N});return D=L?.[1],D||(D=Array.isArray(y)?null:typeof y=="function"?l.function||null:Np),i.set(T,D),D}default:return l[w]}var x}(m);return v?v.replace(m,c,l):m},h)},parse(u,c){const h=[];return JSON.parse(u,function(g,_){const m=_?.$t;if(m){const y=l[m];_=y?y.revive(_,c,l):_}let v=h[h.length-1];if(v&&v[0]===_){_={..._};for(const y of v[1])delete _[y];for(const[y,w]of Object.entries(v[2]))_[y]=w;h.pop()}if(_===void 0||g[0]==="$"&&g!=="$t"){let y,w;v=h[h.length-1],v&&v[0]===this?(y=v[1],w=v[2]):h.push([this,y=[],w={}]),g[0]==="$"&&g!=="$t"?(y.push(g),w[g.substr(1)]=_):w[g]=void 0}return _})}}}const r1={Blob:{test:(r,l)=>l==="Blob",replace:(r,l)=>{const i=l.length;return l.push(r),{$t:"Blob",mimeType:r.type,i}},revive:({i:r,mimeType:l},i)=>new Blob([i[r]],{type:l})}};var a1={number:{replace:r=>{switch(!0){case isNaN(r):return{$t:"number",v:"NaN"};case r===1/0:return{$t:"number",v:"Infinity"};case r===-1/0:return{$t:"number",v:"-Infinity"};default:return r}},revive:({v:r})=>Number(r)}};const i1={bigint:{replace:r=>({$t:"bigint",v:""+r}),revive:r=>BigInt(r.v)}};var l1={Date:{replace:r=>({$t:"Date",v:isNaN(r.getTime())?"NaN":r.toISOString()}),revive:({v:r})=>new Date(r==="NaN"?NaN:Date.parse(r))}},u1={Set:{replace:r=>({$t:"Set",v:Array.from(r.entries())}),revive:({v:r})=>new Set(r)}},o1={Map:{replace:r=>({$t:"Map",v:Array.from(r.entries())}),revive:({v:r})=>new Map(r)}};const s1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0;var c1=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","DataView","BigInt64Array","BigUint64Array"].reduce((r,l)=>({...r,[l]:{replace:(i,u,c)=>({$t:l,v:c.ArrayBuffer.replace(i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength),u,c).v}),revive:({v:i},u,c)=>{const h=s1[l];return h&&new h(c.ArrayBuffer.revive({v:i},u,c))}}}),{});function Wm(r){return function(l){for(var i="",u=0,c=l.length;u<c;u++)i+=eg[l[u]];return i}(po(r))}function f1(r){return Xm(function(l){if(typeof l!="string")throw new Error("invalid decoder input: "+l);for(var i="",u=0,c=l.length;u<c;u++)i+=Dd[l[u]];return i}(r))}const Dd={"-":"=",0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",A:"K",B:"L",C:"M",D:"N",E:"O",F:"P",G:"Q",H:"R",I:"S",J:"T",K:"U",L:"V",M:"W",N:"X",O:"Y",P:"Z",Q:"a",R:"b",S:"c",T:"d",U:"e",V:"f",W:"g",X:"h",Y:"i",Z:"j",_:"k",a:"l",b:"m",c:"n",d:"o",e:"p",f:"q",g:"r",h:"s",i:"t",j:"u",k:"v",l:"w",m:"x",n:"y",o:"z",p:"0",q:"1",r:"2",s:"3",t:"4",u:"5",v:"6",w:"7",x:"8",y:"9",z:"+","|":"/"},eg={};for(const r of Object.keys(Dd))eg[Dd[r]]=r;var d1={ArrayBuffer:{replace:r=>({$t:"ArrayBuffer",v:Wm(r)}),revive:({v:r})=>{const l=f1(r);return l.buffer.byteLength===l.byteLength?l.buffer:l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)}}};class cd{constructor(l,i){this.buf=l,this.type=i}}function h1(r){const l=new XMLHttpRequest;if(l.overrideMimeType("text/plain; charset=x-user-defined"),l.open("GET",URL.createObjectURL(r),!1),l.send(),l.status!==200&&l.status!==0)throw new Error("Bad Blob access: "+l.status);return l.responseText}function y1(r){const l=new Uint8Array(r.length);for(let i=0;i<r.length;++i)l[i]=r.charCodeAt(i);return l.buffer}var v1={Blob:{test:(r,l)=>l==="Blob"||r instanceof cd,replace:r=>({$t:"Blob",v:po(r instanceof cd?r.buf:y1(h1(r))),type:r.type}),revive:({type:r,v:l})=>{const i=Xm(l);return typeof Blob!==void 0?new Blob([i]):new cd(i.buffer,r)}}};const tg={...a1,...i1,...l1,...u1,...o1,...c1,...d1,...v1};function kp(r){return new Promise((l,i)=>{const u=new FileReader;u.onabort=c=>i(new Error("file read aborted")),u.onerror=c=>i(c.target.error),u.onload=c=>l(c.target.result),u.readAsArrayBuffer(r)})}var p1={undefined:{replace:()=>({$t:"undefined"}),revive:()=>{}}};const m1=typeof BigInt=="function"&&typeof BigInt(0)=="bigint";class zp{toString(){return this.v}constructor(l){this.v=l}}const g1=m1?{}:{bigint:{test:r=>r instanceof zp,replace:r=>Object.assign({$t:"bigint"},r),revive:({v:r})=>new zp(r)}},ng=Object.assign(Object.assign(Object.assign({},p1),g1),{PropModification:{test:r=>r instanceof sp,replace:r=>Object.assign({$t:"PropModification"},r["@@propmod"]),revive:r=>{var l=function(i,u){var c={};for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&u.indexOf(h)<0&&(c[h]=i[h]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var g=0;for(h=Object.getOwnPropertySymbols(i);g<h.length;g++)u.indexOf(h[g])<0&&Object.prototype.propertyIsEnumerable.call(i,h[g])&&(c[h[g]]=i[h[g]])}return c}(r,["$t"]);return new sp(l)}}}),$s=Fm(tg,ng),b1=function(...r){const l=Fm(tg,r1,...r);return{toBinary(i){const[u,c]=this.stringify(i),h=new ArrayBuffer(4);return new DataView(h).setUint32(0,u.size),new Blob([h,u,c])},stringify(i){const u=[],c=l.stringify(i,u);return[new Blob(u.map(g=>{const _=new ArrayBuffer(4);return new DataView(_).setUint32(0,"byteLength"in g?g.byteLength:g.size),new Blob([_,g])})),c]},async parse(i,u){let c=0;const h=[],g=await kp(u),_=new DataView(g);for(;c<g.byteLength;){const m=_.getUint32(c);c+=4;const v=g.slice(c,c+m);c+=m,h.push(v)}return l.parse(i,h)},async fromBinary(i){const u=new DataView(await kp(i.slice(0,4))).getUint32(0),c=i.slice(4,u+4),h=await function(g){return new Promise((_,m)=>{const v=new FileReader;v.onabort=y=>m(new Error("file read aborted")),v.onerror=y=>m(y.target.error),v.onload=y=>_(y.target.result),v.readAsText(g)})}(i.slice(u+4));return await this.parse(h,c)}}}(ng);function _1(r,l,i){const u=[];for(let c of i){const{table:h,muts:g}=c,_=r.tables.find(y=>y.name===h);if(!_)throw new Error(`Internal error: table ${h} not found in DBCore schema`);const{primaryKey:m}=_;let v=c;g.forEach((y,w)=>{const x=!m.outbound&&(y.type==="upsert"||y.type==="insert");y.keys.forEach((T,D)=>{if(Array.isArray(T)){v===c&&(v=Bp(c,x));const N=v.muts[w],L=JSON.stringify(T);N.keys[D]=L}else if(T[0]==="#"){v===c&&(v=Bp(c,x));const N=v.muts[w];if(!l.isLoggedIn)throw new Error("Internal error: Cannot sync private IDs before authenticated");const L=`${T}:${l.userId}`;N.keys[D]=L,x&&Ct.setByKeyPath(N.values[D],m.keyPath,L)}})}),u.push(v)}return u}function Bp(r,l){return Object.assign(Object.assign({},r),{muts:l?r.muts.map(i=>i.type!=="insert"&&i.type!=="upsert"||!i.values?Object.assign(Object.assign({},i),{keys:i.keys.slice()}):Object.assign(Object.assign({},i),{keys:i.keys.slice(),values:i.values.slice()})):r.muts.map(i=>Object.assign(Object.assign({},i),{keys:i.keys.slice()}))})}let Md=new WeakMap;function rg(r){var l,i;return Ye(this,void 0,void 0,function*(){const u=((i=(l=Md.get(r))===null||l===void 0?void 0:l.getTime())!==null&&i!==void 0?i:0)-Date.now();u>0&&(yield new Promise(c=>setTimeout(c,u)))})}function S1(r,l,i,u,c,h,g,_){return Ye(this,void 0,void 0,function*(){const m={Accept:"application/json, application/x-bison, application/x-bison-stream","Content-Type":"application/tson"},v=yield Fd(u),y=v?.accessToken;y&&(m.Authorization=`Bearer ${y}`);const w={v:2,dbID:l?.remoteDbId,clientIdentity:g,schema:h||{},lastPull:l?{serverRevision:l.serverRevision,realms:l.realms,inviteRealms:l.inviteRealms}:void 0,baseRevs:i,changes:_1(u.dx.core.schema,_,r)};u.syncStateChangedEvent.next({phase:"pushing"});const x=yield fetch(`${c}/sync`,{method:"post",headers:m,credentials:"include",body:$s.stringify(w)});if(u.syncStateChangedEvent.next({phase:"pulling"}),function(T,D){const N=D.headers.get("Ratelimit-Limit"),L=D.headers.get("Ratelimit-Remaining"),ae=D.headers.get("Ratelimit-Reset");if(N&&L&&ae){const ie=Number(N),K=Math.max(0,Number(L)),fe=Number(ae);if(K<ie/2){const be=Math.ceil(fe/(K+1));Md.set(T,new Date(Date.now()+1e3*be))}else Md.delete(T)}}(u,x),!x.ok)throw new Od(x);if(x.headers.get("content-type")==="application/x-bison")return b1.fromBinary(yield x.blob());{const T=yield x.text();return $s.parse(T)}})}function ao(r){if(r?.cancelled)throw new Ct.AbortError("Operation was cancelled")}let Ul=!1;function ag(r,l,i,u){return Ye(this,void 0,void 0,function*(){yield r.$baseRevs.bulkPut(Object.keys(l).filter(c=>l[c].markedForSync).map(c=>({tableName:c,clientRev:(i[c]||0)+1,serverRev:u}))),yield r.$baseRevs.where("tableName").noneOf(Object.keys(l).filter(c=>l[c].markedForSync)).delete()})}function jd(r,l={}){for(const{table:i,muts:u}of r){const c=u.length>0?u[u.length-1].rev:null;l[i]=c||l[i]||0}return l}function w1(r,l,i){return Ye(this,void 0,void 0,function*(){const u=yield r.bulkGet(l),c=[],h=[];l.forEach((g,_)=>{const m=u[_];if(m){for(const[v,y]of Object.entries(i[_]))if(v===r.schema.primKey.keyPath){if(Tb(y,g)!==0)throw new Error("Cannot change primary key")}else Ct.setByKeyPath(m,v,y);c.push(g),h.push(m)}}),yield r.schema.primKey.keyPath==null?r.bulkPut(h,c):r.bulkPut(h)})}function ig(r,l){return Ye(this,void 0,void 0,function*(){for(const{table:i,muts:u}of r){const c=l.table(i);if(!c)continue;const{primaryKey:h}=c.core.schema,g=_=>{switch(_[0]){case"[":if(_.endsWith("]"))try{return JSON.parse(_)}catch{}return _;case"#":return _.endsWith(":"+l.cloud.currentUserId)?_.substr(0,_.length-l.cloud.currentUserId.length-1):_;default:return _}};for(const _ of u){const m=_.keys.map(g);switch(_.type){case"insert":h.outbound?yield c.bulkAdd(_.values,m):(m.forEach((v,y)=>{Ct.setByKeyPath(_.values[y],h.keyPath,v)}),yield c.bulkAdd(_.values));break;case"upsert":h.outbound?yield c.bulkPut(_.values,m):(m.forEach((v,y)=>{Ct.setByKeyPath(_.values[y],h.keyPath,v)}),yield c.bulkPut(_.values));break;case"modify":m.length===1?yield c.update(m[0],_.changeSpec):yield c.where(":id").anyOf(m).modify(_.changeSpec);break;case"update":yield w1(c,m,_.changeSpecs);break;case"delete":yield c.bulkDelete(m)}}}})}typeof self<"u"&&typeof navigator<"u"&&(Ul=navigator.onLine,self.addEventListener("online",()=>Ul=!0),self.addEventListener("offline",()=>Ul=!1));const E1="currentSyncWorker";function ho(r,l,i,u){return lg.apply(this,arguments).then(c=>(u?.justCheckIfNeeded||r.syncStateChangedEvent.next({phase:"in-sync"}),c)).catch(c=>Ye(this,void 0,void 0,function*(){return u?.justCheckIfNeeded?Promise.reject(c):Ul&&u?.retryImmediatelyOnFetchError&&c?.name==="TypeError"&&/fetch/.test(c?.message)?(r.syncStateChangedEvent.next({phase:"error",error:c}),yield new Promise(h=>setTimeout(h,500)),yield ho(r,l,i,Object.assign(Object.assign({},u),{retryImmediatelyOnFetchError:!1}))):(yield r.$syncState.update("syncState",{timestamp:new Date,error:""+c}),r.syncStateChangedEvent.next({phase:Ul?"error":"offline",error:new Error(""+c?.message||c)}),Promise.reject(c))}))}function lg(r,l,i,{isInitialSync:u,cancelToken:c,justCheckIfNeeded:h,purpose:g}={isInitialSync:!1}){var _;return Ye(this,void 0,void 0,function*(){if(!(!((_=r.cloud.options)===null||_===void 0)&&_.databaseUrl))throw new Error("Internal error: sync must not be called when no databaseUrl is configured");const{databaseUrl:m}=l,v=yield r.getCurrentUser(),y=v.isLoggedIn?Ys(r):[],w=y.map(Ue=>r.table(eh(Ue.name))),x=yield r.getPersistedSyncState(),T=!u&&v.isLoggedIn,D=T?function(Ue,ke){const Ce=ke?.syncedTables||[];return Ys(Ue).filter(we=>!Ce.includes(we.name))}(r,x):[];ao(c);const N=D.length>0;if(N){if(h)return!0;yield r.transaction("rw",D,Ue=>Ye(this,void 0,void 0,function*(){Ue.idbtrans.disableChangeTracking=!0,Ue.idbtrans.disableAccessControl=!0,yield function(ke,Ce,we){return Ye(this,void 0,void 0,function*(){const Me=new Set(we||[]);for(const Se of ke)Se.name==="members"?yield Se.toCollection().modify(me=>{Me.has(me.realmId)||me.userId&&me.userId!==Nn.userId||(me.userId=Ce.userId)}):Se.name==="roles"||(Se.name==="realms"?yield Se.toCollection().modify(me=>{Me.has(me.realmId)||me.owner!==void 0&&me.owner!==Nn.userId||(me.owner=Ce.userId)}):yield Se.toCollection().modify(me=>{me.realmId&&Me.has(me.realmId)||(me.owner&&me.owner!==Nn.userId||(me.owner=Ce.userId),me.realmId&&me.realmId!==Nn.userId||(me.realmId=Ce.userId))}))})}(D,v,x?.realms)})),ao(c)}const[L,ae,ie]=yield r.transaction("r",r.tables,()=>Ye(this,void 0,void 0,function*(){const Ue=yield r.getPersistedSyncState();let ke=yield r.$baseRevs.toArray();ke=ke.filter(we=>y.some(Me=>Me.name===we.tableName));let Ce=yield Rd(w);if(ao(c),N){const we=[...x?.realms||[],...x?.inviteRealms||[]],Me=yield function(Se,me,Ee,I){return Ye(this,void 0,void 0,function*(){const ye=`upload-${Jm(8)}`;if(me.isLoggedIn&&Se.length>0){const Re=new Set(I||[]);return(yield Promise.all(Se.map(he=>Ye(this,void 0,void 0,function*(){const{extractKey:R}=he.core.schema.primaryKey;if(!R)return{table:he.name,muts:[]};const J=Ee[he.name],ne=J?.generatedGlobalId?he.filter(Te=>{return R(Te),!Re.has(Te.realmId||"")&&(Le=R(Te),!(He=J?.idPrefix)||typeof Le=="string"&&Le.startsWith(He));var Le,He}):he.filter(Te=>{const Le=R(Te);return!Re.has(Te.realmId||"")&&Zd(Le)}),oe=yield ne.toArray();if(oe.length>0){const Te={type:"upsert",values:oe,keys:oe.map(R),userId:me.userId,txid:ye};return{table:he.name,muts:[Te]}}return{table:he.name,muts:[]}})))).filter(he=>he.muts.length>0)}return[]})}(D,v,i,we);return ao(c),Ce=Ce.concat(Me),[Ce,Ue,ke]}return[Ce,Ue,ke]})),K=L.some(Ue=>Ue.muts.some(ke=>ke.keys.length>0));if(h)return K;if(g==="push"&&!K)return!1;const fe=jd(L,ae?.latestRevisions),be=ae?.clientIdentity||Tm(16);ao(c);const de=yield S1(L,ae,ie,r,m,i,be,v);return(yield r.transaction("rw",r.tables,Ue=>Ye(this,void 0,void 0,function*(){Ue.idbtrans.disableChangeTracking=!0,Ue.idbtrans.disableAccessControl=!0;for(const Se of Object.keys(i))de.schema[Se]&&(i[Se]=de.schema[Se]);yield r.$syncState.put(i,"schema");const ke=yield Rd(w,0,{since:fe});for(const Se of w){const me=Pm(Se.name);if(ke.some(Ee=>Ee.table===me&&Ee.muts.length>0)){if(fe[me]){const Ee=fe[me]||0;yield Promise.all([Se.where("rev").belowOrEqual(Ee).delete(),r.$baseRevs.where(":id").between([me,-1/0],[me,Ee+1],!0,!0).reverse().offset(1).delete()])}}else yield Promise.all([Se.clear(),r.$baseRevs.where({tableName:me}).delete()])}jd(ke,fe),yield ag(r,i,fe,de.serverRevision);const Ce=yield r.getPersistedSyncState();yield function(Se,me,Ee){return Ye(this,void 0,void 0,function*(){const I=new Set,ye=new Set,Re=Ee?Ee.realms:[],he=Ee?Ee.inviteRealms:[],R=new Set(me.realms),J=new Set(me.realms.concat(me.inviteRealms));for(const ne of Re)R.has(ne)||(ye.add(ne),J.has(ne)||I.add(ne));for(const ne of he.concat(Re))J.has(ne)||I.add(ne);if(I.size>0||ye.size>0){const ne=Ys(Se);for(const oe of ne){let Te=["realms","members","roles"].includes(oe.name)?I:ye;Te.size!==0&&(oe.schema.indexes.some(Le=>Le.keyPath==="realmId"||Array.isArray(Le.keyPath)&&Le.keyPath[0]==="realmId")?yield oe.where("realmId").anyOf([...Te]).delete():yield oe.filter(Le=>!!Le?.realmId&&Te.has(Le.realmId)).delete())}}})}(r,de,Ce);const we=Ce||{syncedTables:[],latestRevisions:{},realms:[],inviteRealms:[],clientIdentity:be};T&&(we.syncedTables=y.map(Se=>Se.name).concat(D.map(Se=>Se.name))),we.latestRevisions=fe,we.remoteDbId=de.dbId,we.initiallySynced=!0,we.realms=de.realms,we.inviteRealms=de.inviteRealms,we.serverRevision=de.serverRevision,we.timestamp=new Date,delete we.error;const Me=ug(de.changes,ke);return yield ig(Me,r),r.$syncState.put(we,"syncState"),ke.length===0})))?(r.syncCompleteEvent.next(),!1):(yield rg(r),yield lg(r,l,i,{isInitialSync:u,cancelToken:c}))})}function ug(r,l){const i={};bp(i,r);const u={};return bp(u,l),function(c,h){var g,_,m;for(const[v,y]of Object.entries(h))for(const[w,x]of Object.entries(y))switch(x.type){case"ups":{const T=(g=c[v])===null||g===void 0?void 0:g[w];if(T)switch(T.type){case"ups":case"upd":delete c[v][w]}}break;case"del":(_=c[v])===null||_===void 0||delete _[w];break;case"upd":{const T=(m=c[v])===null||m===void 0?void 0:m[w];if(T)switch(T.type){case"ups":for(const[D,N]of Object.entries(x.mod))Ps(T.val,D,N);break;case"del":break;case"upd":for(const D of Object.keys(x.mod))delete T.mod[D]}break}}}(i,u),function(c,h=""){h||(h=Tm(16));const g={};for(const[m,v]of Object.entries(c))for(const[y,w]of Object.entries(v)){const x=g[m]||(g[m]={});(x[w.type]||(x[w.type]=[])).push(Object.assign({key:y},w))}const _=[];for(const[m,v]of Object.entries(g)){const y={table:m,muts:[]};for(const[w,x]of Object.entries(v))switch(w){case"ups":{const T={type:"upsert",keys:x.map(D=>D.key),values:x.map(D=>D.val),txid:h};y.muts.push(T);break}case"upd":{const T={type:"update",keys:x.map(D=>D.key),changeSpecs:x.map(D=>D.mod),txid:h};y.muts.push(T);break}case"del":{const T={type:"delete",keys:x.map(D=>D.key),txid:h};y.muts.push(T);break}}_.push(y)}return _}(i)}const x1=10,A1=1e4,O1=1e3;function T1(r){const l=[],i=new ar(!0),u=new ar(null);let c=!1,h=new Array(x1).fill(0);return u.subscribe(()=>Ye(this,void 0,void 0,function*(){if(!c&&l.length>0){c=!0,h.shift(),h.push(Date.now()),i.next(!1);try{yield function(){var g,_,m,v,y,w;return Ye(this,void 0,void 0,function*(){for(;l.length>0;){const x=l.shift();try{yield Ml(r.cloud.syncState.pipe(xr(({phase:D})=>D==="in-sync"||D==="error")));const T=r.cloud.persistedSyncState.value;if(!x)continue;switch(x.type){case"token-expired":const D=r.cloud.currentUser.value,N=yield lc(r.cloud.options.databaseUrl,D);yield r.table("$logins").update(D.userId,{accessToken:N.accessToken,accessTokenExpiration:N.accessTokenExpiration,claims:N.claims,license:N.license,data:N.data});break;case"realm-added":!((g=T?.realms)===null||g===void 0)&&g.includes(x.realm)||!((_=T?.inviteRealms)===null||_===void 0)&&_.includes(x.realm)||(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-accepted":!((m=T?.realms)===null||m===void 0)&&m.includes(x.realm)||(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-removed":(!((v=T?.realms)===null||v===void 0)&&v.includes(x.realm)||!((y=T?.inviteRealms)===null||y===void 0)&&y.includes(x.realm))&&(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realms-changed":yield r.cloud.sync({purpose:"pull",wait:!0});break;case"changes":if(((w=r.cloud.syncState.value)===null||w===void 0?void 0:w.phase)==="error"){oa(r,"pull");break}yield r.transaction("rw",r.dx.tables,L=>Ye(this,void 0,void 0,function*(){L.idbtrans.disableChangeTracking=!0,L.idbtrans.disableAccessControl=!0;const[ae,ie,K]=yield Promise.all([r.getSchema(),r.getPersistedSyncState(),r.getCurrentUser()]);if(!ie||!ae||!K)return;if(x.baseRev!==ie.serverRevision)return void(typeof x.baseRev!="string"||typeof ie.serverRevision!="bigint"&&typeof ie.serverRevision!="object"||oa(r,"pull"));if((yield Ct.waitFor(Cd(ie)))!==x.realmSetHash)return void oa(r,"pull");let fe=[];if(K.isLoggedIn){const be=Ys(r).map(de=>r.table(eh(de.name)));fe=yield Rd(be)}if(x.changes.length>0){const be=ug(x.changes,fe);yield ig(be,r)}ie.latestRevisions=jd(fe,ie.latestRevisions),ie.serverRevision=x.newRev,yield ag(r,ae,ie.latestRevisions,x.newRev),yield r.$syncState.put(ie,"syncState")}))}}catch{}}})}()}finally{h[h.length-1]-h[0]<A1&&(yield new Promise(g=>setTimeout(g,O1))),c=!1,i.next(!0)}}})),{enqueue:function(g){l.push(g),u.next(null)},readyToServe:i}}const qp=new WeakMap,Bs={members:"@id, [userId+realmId], [email+realmId], realmId",roles:"[realmId+name]",realms:"@realmId",$jobs:"",$syncState:"",$baseRevs:"[tableName+clientRev]",$logins:"claims.sub, lastLogin"};let C1=0;function la(r){"vip"in r&&(r=r.vip);let l=qp.get(r.cloud);if(!l){const i=new vo;let u=new zs(`syncstatechanged-${r.name}`),c=new zs(`synccomplete-${r.name}`);i.id=++C1;let h=!1;l={get name(){return r.name},close:()=>r.close(),transaction:r.transaction.bind(r),table:r.table.bind(r),get tables(){return r.tables},cloud:r.cloud,get $jobs(){return r.table("$jobs")},get $syncState(){return r.table("$syncState")},get $baseRevs(){return r.table("$baseRevs")},get $logins(){return r.table("$logins")},get realms(){return r.realms},get members(){return r.members},get roles(){return r.roles},get initiallySynced(){return h},localSyncEvent:i,get syncStateChangedEvent(){return u},get syncCompleteEvent(){return c},dx:r},Object.assign(l,{getCurrentUser:()=>l.$logins.toArray().then(_=>_.find(m=>m.isLoggedIn)||Nn),getPersistedSyncState:()=>l.$syncState.get("syncState"),getSchema:()=>l.$syncState.get("schema").then(_=>{if(_)for(const v of l.tables)v.schema.primKey&&v.schema.primKey.keyPath&&_[v.name]&&(_[v.name].primaryKey=typeof(m=v.schema.primKey.keyPath)=="string"?m:m?"["+[].join.call(m,"+")+"]":"");var m;return _}),getOptions:()=>l.$syncState.get("options"),setInitiallySynced(_){h=_},reconfigure(){u=new zs(`syncstatechanged-${r.name}`),c=new zs(`synccomplete-${r.name}`)}}),l.messageConsumer=T1(l),qp.set(r.cloud,l)}return l}const R1=typeof InstallTrigger<"u",og=typeof navigator<"u"&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\/|Edge\//.test(navigator.userAgent),D1=og?[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]:NaN,M1=og&&D1<=605||R1,j1=typeof self<"u"&&"clients"in self&&!self.document;function sg(){throw new Ct.SchemaError("Version increment needed to allow dexie-cloud change tracking")}const{toString:U1}={};function Lp(r){return U1.call(r).slice(8,-1)}function fd(r,l){var i;return l.type==="delete"?l.keys:((i=l.keys)===null||i===void 0?void 0:i.slice())||l.values.map(r.extractKey)}const N1=/b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|x|y|z/i;let ua=0;function cg(r,l){const i=new Uint8Array(18),u=new Uint8Array(i.buffer,0,6),c=Date.now();ua>=c?++ua:ua=c,u[0]=ua/1099511627776,u[1]=ua/4294967296,u[2]=ua/16777216,u[3]=ua/65536,u[4]=ua/256,u[5]=ua;const h=new Uint8Array(i.buffer,6);return crypto.getRandomValues(h),r+Wm(new Uint8Array(i.buffer))+(l||"")}function k1(r){return{stack:"dbcore",name:"idGenerationMiddleware",level:1,create:l=>Object.assign(Object.assign({},l),{table:i=>{const u=l.table(i);return Object.assign(Object.assign({},u),{mutate:c=>{var h,g;if(c.trans.disableChangeTracking)return u.mutate(c);if(c.type==="add"||c.type==="put"){const _=(h=r.cloud.schema)===null||h===void 0?void 0:h[i];if(_?.generatedGlobalId){if(!((g=r.cloud.options)===null||g===void 0)&&g.databaseUrl&&!r.initiallySynced){const m=fd(u.schema.primaryKey,c);return u.getMany({keys:m,trans:c.trans,cache:"immutable"}).then(v=>{if(v.length<m.length)throw new Error("Unable to create new objects without an initial sync having been performed.");return u.mutate(c)})}return function(m,v){let y=null;const w=fd(u.schema.primaryKey,m);return w.forEach((x,T)=>{if(x===void 0){const D=m.values[T].realmId||r.cloud.currentUserId,N=D.substr(D.length-3);w[T]=cg(v,N),u.schema.primaryKey.outbound||(y||(y=m.values.slice()),y[T]=Ct.deepClone(y[T]),Ct.setByKeyPath(y[T],u.schema.primaryKey.keyPath,w[T]))}else if(typeof x!="string"||!x.startsWith(v)&&!x.startsWith("#"+v))throw new Ct.ConstraintError(`The ID "${x}" is not valid for table "${i}". Primary '@' keys requires the key to be prefixed with "${v}" (or "#${v}).
If you want to generate IDs programmatically, remove '@' from the schema to get rid of this constraint. Dexie Cloud supports custom IDs as long as they are random and globally unique.`)}),u.mutate(Object.assign(Object.assign({},m),{keys:w,values:y||m.values}))}(c,_.idPrefix)}_?.markedForSync&&fd(u.schema.primaryKey,c).forEach((m,v)=>{if(!Zd(m)){const y=Array.isArray(m)?m.map(Lp).join(","):Lp(m);throw new Ct.ConstraintError(`Invalid primary key type ${y} for table ${i}. Tables marked for sync has primary keys of type string or Array of string (and optional numbers)`)}})}return u.mutate(c)}})}})}}let z1=0;function io(r,l){return function(i){const{readers:u,writers:c}=i.trans[l]||(i.trans[l]={writers:[],readers:[]}),h=c.length,g=(h>0?c[h-1].then(()=>r(i),()=>r(i)):r(i)).finally(()=>{u.splice(u.indexOf(g))});return u.push(g),g}}function B1(r,l){return function(i){const{readers:u,writers:c}=i.trans[l]||(i.trans[l]={writers:[],readers:[]});let h=(c.length>0?c[c.length-1].then(()=>r(i),()=>r(i)):u.length>0?(g=u,new Promise(_=>{g.length===0&&_([]);let m=g.length;const v=new Array(m);g.forEach((y,w)=>Promise.resolve(y).then(x=>v[w]={status:"fulfilled",value:x},x=>v[w]={status:"rejected",reason:x}).then(()=>--m||_(v)))})).then(()=>r(i)):r(i)).finally(()=>{c.shift()});var g;return c.push(h),h}}const Ol=new ar(new Set);function fg(r){var l,i,u,c;return((l=r.cloud.options)===null||l===void 0?void 0:l.disableEagerSync)||((u=(i=r.cloud.currentUser.value)===null||i===void 0?void 0:i.license)===null||u===void 0?void 0:u.status)!=="ok"||!(!((c=r.cloud.options)===null||c===void 0)&&c.databaseUrl)}function q1({currentUserObservable:r,db:l}){return{stack:"dbcore",name:"MutationTrackingMiddleware",level:1,create:i=>{const u=i.schema.tables.filter(h=>!/^\$/.test(h.name));let c;try{c=new Map(u.map(h=>[h.name,i.table(`$${h.name}_mutations`)]))}catch{sg()}return Object.assign(Object.assign({},i),{transaction:(h,g)=>{let _;if(g==="readwrite"){const m=h.filter(v=>{var y,w;return(w=(y=l.cloud.schema)===null||y===void 0?void 0:y[v])===null||w===void 0?void 0:w.markedForSync}).map(v=>eh(v));_=i.transaction([...h,...m],g)}else _=i.transaction(h,g);if(g==="readwrite"){_.txid=Jm(16),_.opCount=0,_.currentUser=r.value,Ol.value.add(_),Ol.next(Ol.value);const m=()=>{_.removeEventListener("complete",v),_.removeEventListener("error",m),_.removeEventListener("abort",m),Ol.value.delete(_),Ol.next(Ol.value)},v=()=>{_.mutationsAdded&&!fg(l)&&oa(l,"push"),m()};_.addEventListener("complete",v),_.addEventListener("error",m),_.addEventListener("abort",m)}return _},table:h=>{const g=i.table(h);if(/^\$/.test(h))return h.endsWith("_mutations")?Object.assign(Object.assign({},g),{mutate:y=>(y.type!=="add"&&y.type!=="put"||(y.trans.mutationsAdded=!0),g.mutate(y))}):h==="$logins"?Object.assign(Object.assign({},g),{mutate:y=>g.mutate(y).then(w=>(y.trans.mutationsAdded=!0,w)).catch(w=>Promise.reject(w))}):g;const{schema:_}=g,m=c.get(h);return function(y){const w="$lock"+ ++z1;return Object.assign(Object.assign({},y),{count:io(y.count,w),get:io(y.get,w),getMany:io(y.getMany,w),openCursor:io(y.openCursor,w),query:io(y.query,w),mutate:B1(y.mutate,w)})}(Object.assign(Object.assign({},g),{mutate:y=>{var w,x,T;const D=y.trans;return D.txid?D.disableChangeTracking?g.mutate(y):!((x=(w=l.cloud.schema)===null||w===void 0?void 0:w[h])===null||x===void 0)&&x.markedForSync&&(!((T=D.currentUser)===null||T===void 0)&&T.isLoggedIn)?y.type==="deleteRange"?g.query({query:{range:y.range,index:_.primaryKey},trans:y.trans,values:!1}).then(N=>v({type:"delete",keys:N.result,trans:y.trans,criteria:{index:null,range:y.range}})):v(y):g.mutate(y):g.mutate(y)}}));function v(y){const w=y.trans;w.mutationsAdded=!0;const{txid:x,currentUser:{userId:T}}=w,{type:D}=y,N=++w.opCount;return g.mutate(y).then(L=>{const{numFailures:ae,failures:ie}=L;let K=D==="delete"?y.keys:L.results,fe="values"in y?y.values:[],be="updates"in y&&y.updates;ae&&(K=K.filter((Ue,ke)=>!ie[ke]),fe=fe.filter((Ue,ke)=>!ie[ke]));const de=Date.now(),xe=y.type==="delete"?{type:"delete",ts:de,opNo:N,keys:K,criteria:y.criteria,txid:x,userId:T}:y.type==="add"?{type:"insert",ts:de,opNo:N,keys:K,txid:x,userId:T,values:fe}:y.criteria&&y.changeSpec?{type:"modify",ts:de,opNo:N,keys:K,criteria:y.criteria,changeSpec:y.changeSpec,txid:x,userId:T}:be?{type:"update",ts:de,opNo:N,keys:be.keys,changeSpecs:be.changeSpecs,txid:x,userId:T}:{type:"upsert",ts:de,opNo:N,keys:K,values:fe,txid:x,userId:T};return"isAdditionalChunk"in y&&y.isAdditionalChunk&&(xe.isAdditionalChunk=!0),K.length>0||"criteria"in y&&y.criteria?m.mutate({type:"add",trans:w,values:[xe]}).then(()=>L):L})}}})}}}function L1(r,l){return function(i,u){const c=Object.assign(Object.assign({},Bs),i);Object.keys(Bs).forEach(_=>{const m=c[_];if(m==null)throw new Error(`Cannot delete table ${_} as it is needed for access control of Dexie Cloud`);if(!i[_])return;const v=m.split(",").map(x=>x.trim()),y=Bs[_].split(",").map(x=>x.trim()),w=new Set(v.map(x=>x.replace(/([&*]|\+\+)/g,"")));if(v[0]!==y[0])throw new Error(`Cannot override primary key of table ${_}. Please declare it as {${_}: ${JSON.stringify(Bs[_])}`);for(let x=1;x<y.length;++x){const T=y[x];w.has(T.replace(/([&*]|\+\+)/g,""))||(c[_]+=`,${T}`)}});const h=l.cloud.schema||(l.cloud.schema={}),g=new Set;return Object.keys(c).forEach(_=>{const m=c[_],v=h[_]||(h[_]={});m!=null?(/^\@/.test(m)&&(c[_]=c[_].substr(1),v.generatedGlobalId=!0,v.idPrefix=function(y,w){let x=y[0].toLocaleLowerCase();for(let L=1,ae=y.length;L<ae&&x.length<3;++L)(N1.test(y[L])||(T=y[L])>="A"&&T<="Z")&&(x+=y[L].toLowerCase());for(var T,D,N;w.has(x);){if(/\d/g.test(x)){if(x=x.substr(0,x.length-1)+(x[x.length-1]+1),!(x.length>3))continue;x=x.substr(0,3)}else if(x.length<3){x+="2";continue}let L=1,ae=x;for(;w.has(ae)&&L<8;)D=x,ae=(1&(N=L)?D[0].toUpperCase():D[0].toLowerCase())+(2&N?D[1].toUpperCase():D[1].toLowerCase())+(4&N?D[2].toUpperCase():D[2].toLowerCase()),++L;if(L<8)x=ae;else{let ie=x.charCodeAt(2)+1&127;x=x.substr(0,2)+String.fromCharCode(ie)}}return x}(_,g),g.add(v.idPrefix)),/^\$/.test(_)||(c[`$${_}_mutations`]="++rev",v.markedForSync=!0),v.deleted&&(v.deleted=!1)):(v.deleted=!0,v.markedForSync=!1,c[`$${_}_mutations`]=null)}),r.call(this,c,u)}}const uo=new ar(!0),Ud=new ar(!0);uo.pipe(bn(r=>r?sa(!0):sa(!1).pipe(Gm(2e4))),Qm()).subscribe(Ud);const dg=typeof document<"u"?Ar(document,"visibilitychange"):sa({}),H1=dg.pipe(xr(()=>document.visibilityState==="hidden")),K1=dg.pipe(xr(()=>document.visibilityState==="visible")),hg=typeof window<"u"?xm(K1,Ar(window,"mousedown"),Ar(window,"mousemove"),Ar(window,"keydown"),Ar(window,"wheel"),Ar(window,"touchmove")):sa({});typeof document<"u"&&xm(sa(!0),H1,hg).pipe(Or(()=>document.visibilityState==="visible"),Dp(r=>{uo.value!==r&&uo.next(r)}),bn(r=>r?sa(0).pipe(Gm(16e4),Dp(()=>uo.next(!1))):sa(0))).subscribe(()=>{});class Y1 extends Error{constructor(){super(...arguments),this.name="TokenExpiredError"}}class G1 extends It{constructor(l,i,u,c,h,g,_,m){super(v=>new V1(l,i,u,c,_,m,v,h,g))}}let Q1=0;class V1 extends Kl{constructor(l,i,u,c,h,g,_,m,v){super(()=>this.teardown()),this.id=++Q1,this.reconnecting=!1,this.databaseUrl=l,this.rev=i,this.realmSetHash=u,this.clientIdentity=c,this.token=h,this.tokenExpiration=g,this.subscriber=_,this.lastUserActivity=new Date,this.messageProducer=m,this.messageProducerSubscription=null,this.webSocketStatus=v,this.connect()}teardown(){this.disconnect()}disconnect(){if(this.webSocketStatus.next("disconnected"),this.pinger&&(clearInterval(this.pinger),this.pinger=null),this.ws)try{this.ws.close()}catch{}this.ws=null,this.messageProducerSubscription&&(this.messageProducerSubscription.unsubscribe(),this.messageProducerSubscription=null)}reconnect(){if(!this.reconnecting){this.reconnecting=!0;try{this.disconnect()}catch{}this.connect().catch(()=>{}).then(()=>this.reconnecting=!1)}}connect(){return Ye(this,void 0,void 0,function*(){if(this.lastServerActivity=new Date,this.pauseUntil&&this.pauseUntil>new Date)return;if(this.ws)throw new Error("Called connect() when a connection is already open");if(!this.databaseUrl)throw new Error("Cannot connect without a database URL");if(this.closed)return;if(this.tokenExpiration&&this.tokenExpiration<new Date)return void this.subscriber.error(new Y1);this.webSocketStatus.next("connecting"),this.pinger=setInterval(()=>Ye(this,void 0,void 0,function*(){if(this.closed)this.teardown();else if(this.ws)try{this.ws.send(JSON.stringify({type:"ping"})),setTimeout(()=>{this.pinger&&(this.closed?this.teardown():this.lastServerActivity<new Date(Date.now()-2e4)&&this.reconnect())},2e4)}catch{this.reconnect()}else this.reconnect()}),3e4);const l=new URL(this.databaseUrl);l.protocol=l.protocol==="http:"?"ws":"wss";const i=new URLSearchParams;if(this.subscriber.closed)return;i.set("v","2"),i.set("rev",this.rev),i.set("realmsHash",this.realmSetHash),i.set("clientId",this.clientIdentity),this.token&&i.set("token",this.token);const u=this.ws=new WebSocket(`${l}/changes?${i}`);u.onclose=c=>{this.pinger&&this.reconnect()},u.onmessage=c=>{if(this.pinger){this.lastServerActivity=new Date;try{const h=$s.parse(c.data);if(h.type==="error")throw new Error(`Error message from dexie-cloud: ${h.error}`);h.type==="rev"&&(this.rev=h.rev),h.type!=="pong"&&this.subscriber.next(h)}catch(h){this.subscriber.error(h)}}};try{let c=!1;yield new Promise((h,g)=>{u.onopen=_=>{c=!0,h(null)},u.onerror=_=>{if(c)this.reconnect();else{const m=_.error||new Error("WebSocket Error");this.subscriber.error(m),this.webSocketStatus.next("error"),g(m)}}}),this.messageProducerSubscription=this.messageProducer.subscribe(h=>{var g;this.closed||(h.type==="ready"&&this.webSocketStatus.value!=="connected"&&this.webSocketStatus.next("connected"),(g=this.ws)===null||g===void 0||g.send($s.stringify(h)))})}catch{this.pauseUntil=new Date(Date.now()+6e4)}})}}class X1 extends Error{constructor(l){super(l==="expired"?"License expired":l==="deactivated"?"User deactivated":"Invalid license"),this.name="InvalidLicenseError",l&&(this.license=l)}}function Z1(r){return Ye(this,void 0,void 0,function*(){var l;yield(l=3e3,new Promise(i=>setTimeout(i,l))),yield Ml(hg)})}function Hp(r){var l;return Ye(this,void 0,void 0,function*(){return!(!(!((l=r.cloud.options)===null||l===void 0)&&l.databaseUrl)||!r.cloud.schema)&&(yield ho(r,r.cloud.options,r.cloud.schema,{justCheckIfNeeded:!0}))})}const qs=new WeakMap;function yg(r,l,i,u){const c=qs.get(r);if(c){if(c.pull||u?.purpose==="push")return c.promise;{let g=!1;const _=r.cloud.syncState.subscribe(m=>{m.phase==="pulling"&&(g=!0)});return c.promise.then(()=>{_.unsubscribe()}).catch(m=>(_.unsubscribe(),Promise.reject(m))).then(()=>{if(!g)return yg(r,l,i,u)})}}const h=function(){return Ye(this,void 0,void 0,function*(){try{if(yield rg(r),r.cloud.isServiceWorkerDB)yield ho(r,l,i,u);else{if(r.cloud.usingServiceWorker)throw Om(!1),new Error("Internal _syncIfPossible() - invalid precondition - should not have been called.");yield function(g,_,m){return typeof navigator<"u"&&navigator.locks?navigator.locks.request(g.name+"|"+_,()=>m()):m()}(r,E1,()=>ho(r,l,i,u))}qs.delete(r)}catch(g){throw qs.delete(r),g}})}();return qs.set(r,{promise:h,pull:u?.purpose!=="push"}),h}const I1=6e4;function P1(r,l,i){let u=null,c={cancelled:!1},h=null,g=null;function _(v,y=1){setTimeout(()=>{h&&clearTimeout(h);const w=g==="pull"?"pull":v;h=null,g=null,yg(r,l,i,{cancelToken:c,retryImmediatelyOnFetchError:!0,purpose:w}).catch(x=>{if(c.cancelled)m();else if(y<3){const T=g&&g==="pull"?"pull":v,D=setTimeout(()=>_(T,y+1),[0,5,15][y]*I1);h&&clearTimeout(h),h=D,g=T}})},0)}const m=()=>{c.cancelled=!0,u&&u.unsubscribe()};return{start:()=>{u=r.localSyncEvent.subscribe(({purpose:v})=>{try{_(v||"pull")}catch{}})},stop:m}}function dd(r,l){if(r&&l&&l.unsyncedTables)for(const i of l.unsyncedTables)r[i]&&(r[i].markedForSync=!1)}var uc,Je,vg,oo,Kp,Js={},pg=[],$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Wa(r,l){for(var i in l)r[i]=l[i];return r}function mg(r){var l=r.parentNode;l&&l.removeChild(r)}function Xt(r,l,i){var u,c,h,g={};for(h in l)h=="key"?u=l[h]:h=="ref"?c=l[h]:g[h]=l[h];if(arguments.length>2&&(g.children=arguments.length>3?uc.call(arguments,2):i),typeof r=="function"&&r.defaultProps!=null)for(h in r.defaultProps)g[h]===void 0&&(g[h]=r.defaultProps[h]);return Gs(r,g,u,c,null)}function Gs(r,l,i,u,c){var h={type:r,props:l,key:i,ref:u,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:c??++vg};return c==null&&Je.vnode!=null&&Je.vnode(h),h}function ql(r){return r.children}function so(r,l){this.props=r,this.context=l}function Ll(r,l){if(l==null)return r.__?Ll(r.__,r.__.__k.indexOf(r)+1):null;for(var i;l<r.__k.length;l++)if((i=r.__k[l])!=null&&i.__e!=null)return i.__e;return typeof r.type=="function"?Ll(r):null}function gg(r){var l,i;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,l=0;l<r.__k.length;l++)if((i=r.__k[l])!=null&&i.__e!=null){r.__e=r.__c.base=i.__e;break}return gg(r)}}function Yp(r){(!r.__d&&(r.__d=!0)&&oo.push(r)&&!Fs.__r++||Kp!==Je.debounceRendering)&&((Kp=Je.debounceRendering)||setTimeout)(Fs)}function Fs(){for(var r;Fs.__r=oo.length;)r=oo.sort(function(l,i){return l.__v.__b-i.__v.__b}),oo=[],r.some(function(l){var i,u,c,h,g,_;l.__d&&(g=(h=(i=l).__v).__e,(_=i.__P)&&(u=[],(c=Wa({},h)).__v=h.__v+1,th(_,h,c,i.__n,_.ownerSVGElement!==void 0,h.__h!=null?[g]:null,u,g??Ll(h),h.__h),wg(u,h),h.__e!=g&&gg(h)))})}function bg(r,l,i,u,c,h,g,_,m,v){var y,w,x,T,D,N,L,ae=u&&u.__k||pg,ie=ae.length;for(i.__k=[],y=0;y<l.length;y++)if((T=i.__k[y]=(T=l[y])==null||typeof T=="boolean"?null:typeof T=="string"||typeof T=="number"||typeof T=="bigint"?Gs(null,T,null,null,T):Array.isArray(T)?Gs(ql,{children:T},null,null,null):T.__b>0?Gs(T.type,T.props,T.key,null,T.__v):T)!=null){if(T.__=i,T.__b=i.__b+1,(x=ae[y])===null||x&&T.key==x.key&&T.type===x.type)ae[y]=void 0;else for(w=0;w<ie;w++){if((x=ae[w])&&T.key==x.key&&T.type===x.type){ae[w]=void 0;break}x=null}th(r,T,x=x||Js,c,h,g,_,m,v),D=T.__e,(w=T.ref)&&x.ref!=w&&(L||(L=[]),x.ref&&L.push(x.ref,null,T),L.push(w,T.__c||D,T)),D!=null?(N==null&&(N=D),typeof T.type=="function"&&T.__k===x.__k?T.__d=m=_g(T,m,r):m=Sg(r,T,x,ae,D,m),typeof i.type=="function"&&(i.__d=m)):m&&x.__e==m&&m.parentNode!=r&&(m=Ll(x))}for(i.__e=N,y=ie;y--;)ae[y]!=null&&(typeof i.type=="function"&&ae[y].__e!=null&&ae[y].__e==i.__d&&(i.__d=Ll(u,y+1)),xg(ae[y],ae[y]));if(L)for(y=0;y<L.length;y++)Eg(L[y],L[++y],L[++y])}function _g(r,l,i){for(var u,c=r.__k,h=0;c&&h<c.length;h++)(u=c[h])&&(u.__=r,l=typeof u.type=="function"?_g(u,l,i):Sg(i,u,u,c,u.__e,l));return l}function Sg(r,l,i,u,c,h){var g,_,m;if(l.__d!==void 0)g=l.__d,l.__d=void 0;else if(i==null||c!=h||c.parentNode==null)e:if(h==null||h.parentNode!==r)r.appendChild(c),g=null;else{for(_=h,m=0;(_=_.nextSibling)&&m<u.length;m+=2)if(_==c)break e;r.insertBefore(c,h),g=h}return g!==void 0?g:c.nextSibling}function Gp(r,l,i){l[0]==="-"?r.setProperty(l,i):r[l]=i==null?"":typeof i!="number"||$1.test(l)?i:i+"px"}function Ls(r,l,i,u,c){var h;e:if(l==="style")if(typeof i=="string")r.style.cssText=i;else{if(typeof u=="string"&&(r.style.cssText=u=""),u)for(l in u)i&&l in i||Gp(r.style,l,"");if(i)for(l in i)u&&i[l]===u[l]||Gp(r.style,l,i[l])}else if(l[0]==="o"&&l[1]==="n")h=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in r?l.toLowerCase().slice(2):l.slice(2),r.l||(r.l={}),r.l[l+h]=i,i?u||r.addEventListener(l,h?Vp:Qp,h):r.removeEventListener(l,h?Vp:Qp,h);else if(l!=="dangerouslySetInnerHTML"){if(c)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(l!=="href"&&l!=="list"&&l!=="form"&&l!=="tabIndex"&&l!=="download"&&l in r)try{r[l]=i??"";break e}catch{}typeof i=="function"||(i!=null&&(i!==!1||l[0]==="a"&&l[1]==="r")?r.setAttribute(l,i):r.removeAttribute(l))}}function Qp(r){this.l[r.type+!1](Je.event?Je.event(r):r)}function Vp(r){this.l[r.type+!0](Je.event?Je.event(r):r)}function th(r,l,i,u,c,h,g,_,m){var v,y,w,x,T,D,N,L,ae,ie,K,fe,be,de=l.type;if(l.constructor!==void 0)return null;i.__h!=null&&(m=i.__h,_=l.__e=i.__e,l.__h=null,h=[_]),(v=Je.__b)&&v(l);try{e:if(typeof de=="function"){if(L=l.props,ae=(v=de.contextType)&&u[v.__c],ie=v?ae?ae.props.value:v.__:u,i.__c?N=(y=l.__c=i.__c).__=y.__E:("prototype"in de&&de.prototype.render?l.__c=y=new de(L,ie):(l.__c=y=new so(L,ie),y.constructor=de,y.render=F1),ae&&ae.sub(y),y.props=L,y.state||(y.state={}),y.context=ie,y.__n=u,w=y.__d=!0,y.__h=[]),y.__s==null&&(y.__s=y.state),de.getDerivedStateFromProps!=null&&(y.__s==y.state&&(y.__s=Wa({},y.__s)),Wa(y.__s,de.getDerivedStateFromProps(L,y.__s))),x=y.props,T=y.state,w)de.getDerivedStateFromProps==null&&y.componentWillMount!=null&&y.componentWillMount(),y.componentDidMount!=null&&y.__h.push(y.componentDidMount);else{if(de.getDerivedStateFromProps==null&&L!==x&&y.componentWillReceiveProps!=null&&y.componentWillReceiveProps(L,ie),!y.__e&&y.shouldComponentUpdate!=null&&y.shouldComponentUpdate(L,y.__s,ie)===!1||l.__v===i.__v){y.props=L,y.state=y.__s,l.__v!==i.__v&&(y.__d=!1),y.__v=l,l.__e=i.__e,l.__k=i.__k,l.__k.forEach(function(xe){xe&&(xe.__=l)}),y.__h.length&&g.push(y);break e}y.componentWillUpdate!=null&&y.componentWillUpdate(L,y.__s,ie),y.componentDidUpdate!=null&&y.__h.push(function(){y.componentDidUpdate(x,T,D)})}if(y.context=ie,y.props=L,y.__v=l,y.__P=r,K=Je.__r,fe=0,"prototype"in de&&de.prototype.render)y.state=y.__s,y.__d=!1,K&&K(l),v=y.render(y.props,y.state,y.context);else do y.__d=!1,K&&K(l),v=y.render(y.props,y.state,y.context),y.state=y.__s;while(y.__d&&++fe<25);y.state=y.__s,y.getChildContext!=null&&(u=Wa(Wa({},u),y.getChildContext())),w||y.getSnapshotBeforeUpdate==null||(D=y.getSnapshotBeforeUpdate(x,T)),be=v!=null&&v.type===ql&&v.key==null?v.props.children:v,bg(r,Array.isArray(be)?be:[be],l,i,u,c,h,g,_,m),y.base=l.__e,l.__h=null,y.__h.length&&g.push(y),N&&(y.__E=y.__=null),y.__e=!1}else h==null&&l.__v===i.__v?(l.__k=i.__k,l.__e=i.__e):l.__e=J1(i.__e,l,i,u,c,h,g,m);(v=Je.diffed)&&v(l)}catch(xe){l.__v=null,(m||h!=null)&&(l.__e=_,l.__h=!!m,h[h.indexOf(_)]=null),Je.__e(xe,l,i)}}function wg(r,l){Je.__c&&Je.__c(l,r),r.some(function(i){try{r=i.__h,i.__h=[],r.some(function(u){u.call(i)})}catch(u){Je.__e(u,i.__v)}})}function J1(r,l,i,u,c,h,g,_){var m,v,y,w=i.props,x=l.props,T=l.type,D=0;if(T==="svg"&&(c=!0),h!=null){for(;D<h.length;D++)if((m=h[D])&&"setAttribute"in m==!!T&&(T?m.localName===T:m.nodeType===3)){r=m,h[D]=null;break}}if(r==null){if(T===null)return document.createTextNode(x);r=c?document.createElementNS("http://www.w3.org/2000/svg",T):document.createElement(T,x.is&&x),h=null,_=!1}if(T===null)w===x||_&&r.data===x||(r.data=x);else{if(h=h&&uc.call(r.childNodes),v=(w=i.props||Js).dangerouslySetInnerHTML,y=x.dangerouslySetInnerHTML,!_){if(h!=null)for(w={},D=0;D<r.attributes.length;D++)w[r.attributes[D].name]=r.attributes[D].value;(y||v)&&(y&&(v&&y.__html==v.__html||y.__html===r.innerHTML)||(r.innerHTML=y&&y.__html||""))}if(function(N,L,ae,ie,K){var fe;for(fe in ae)fe==="children"||fe==="key"||fe in L||Ls(N,fe,null,ae[fe],ie);for(fe in L)K&&typeof L[fe]!="function"||fe==="children"||fe==="key"||fe==="value"||fe==="checked"||ae[fe]===L[fe]||Ls(N,fe,L[fe],ae[fe],ie)}(r,x,w,c,_),y)l.__k=[];else if(D=l.props.children,bg(r,Array.isArray(D)?D:[D],l,i,u,c&&T!=="foreignObject",h,g,h?h[0]:i.__k&&Ll(i,0),_),h!=null)for(D=h.length;D--;)h[D]!=null&&mg(h[D]);_||("value"in x&&(D=x.value)!==void 0&&(D!==r.value||T==="progress"&&!D||T==="option"&&D!==w.value)&&Ls(r,"value",D,w.value,!1),"checked"in x&&(D=x.checked)!==void 0&&D!==r.checked&&Ls(r,"checked",D,w.checked,!1))}return r}function Eg(r,l,i){try{typeof r=="function"?r(l):r.current=l}catch(u){Je.__e(u,i)}}function xg(r,l,i){var u,c;if(Je.unmount&&Je.unmount(r),(u=r.ref)&&(u.current&&u.current!==r.__e||Eg(u,null,l)),(u=r.__c)!=null){if(u.componentWillUnmount)try{u.componentWillUnmount()}catch(h){Je.__e(h,l)}u.base=u.__P=null}if(u=r.__k)for(c=0;c<u.length;c++)u[c]&&xg(u[c],l,typeof r.type!="function");i||r.__e==null||mg(r.__e),r.__e=r.__d=void 0}function F1(r,l,i){return this.constructor(r,i)}function Xp(r,l,i){var u,c,h;Je.__&&Je.__(r,l),c=(u=!1)?null:l.__k,h=[],th(l,r=l.__k=Xt(ql,null,[r]),c||Js,Js,l.ownerSVGElement!==void 0,c?null:l.firstChild?uc.call(l.childNodes):null,h,c?c.__e:l.firstChild,u),wg(h,r)}uc=pg.slice,Je={__e:function(r,l,i,u){for(var c,h,g;l=l.__;)if((c=l.__c)&&!c.__)try{if((h=c.constructor)&&h.getDerivedStateFromError!=null&&(c.setState(h.getDerivedStateFromError(r)),g=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(r,u||{}),g=c.__d),g)return c.__E=c}catch(_){r=_}throw r}},vg=0,so.prototype.setState=function(r,l){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Wa({},this.state),typeof r=="function"&&(r=r(Wa({},i),this.props)),r&&Wa(i,r),r!=null&&this.__v&&(l&&this.__h.push(l),Yp(this))},so.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Yp(this))},so.prototype.render=ql,oo=[],Fs.__r=0;const Er={Alert:{error:{color:"red",fontWeight:"bold"},warning:{color:"#f80",fontWeight:"bold"},info:{color:"black"}},Darken:{position:"fixed",top:0,left:0,opacity:.5,backgroundColor:"#000",width:"100vw",height:"100vh",zIndex:150,webkitBackdropFilter:"blur(2px)",backdropFilter:"blur(2px)"},DialogOuter:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:150,alignItems:"center",display:"flex",justifyContent:"center"},DialogInner:{position:"relative",color:"#222",backgroundColor:"#fff",padding:"30px",marginBottom:"2em",maxWidth:"90%",maxHeight:"90%",overflowY:"auto",border:"3px solid #3d3d5d",borderRadius:"8px",boxShadow:"0 0 80px 10px #666",width:"auto",fontFamily:"sans-serif"},Input:{height:"35px",width:"17em",borderColor:"#ccf4",outline:"none",fontSize:"17pt",padding:"8px"}};function W1({children:r,className:l}){return Xt("div",{className:l},Xt("div",{style:Er.Darken}),Xt("div",{style:Er.DialogOuter},Xt("div",{style:Er.DialogInner},r)))}var oc,Zt,hd,Zp,Ws=0,Ag=[],Qs=[],Ip=Je.__b,Pp=Je.__r,$p=Je.diffed,Jp=Je.__c,Fp=Je.unmount;function nh(r,l){Je.__h&&Je.__h(Zt,r,Ws||l),Ws=0;var i=Zt.__H||(Zt.__H={__:[],__h:[]});return r>=i.__.length&&i.__.push({__V:Qs}),i.__[r]}function eS(r){return Ws=1,function(l,i,u){var c=nh(oc++,2);if(c.t=l,!c.__c&&(c.__=[em(void 0,i),function(g){var _=c.__N?c.__N[0]:c.__[0],m=c.t(_,g);_!==m&&(c.__N=[m,c.__[1]],c.__c.setState({}))}],c.__c=Zt,!Zt.u)){Zt.u=!0;var h=Zt.shouldComponentUpdate;Zt.shouldComponentUpdate=function(g,_,m){if(!c.__c.__H)return!0;var v=c.__c.__H.__.filter(function(w){return w.__c});if(v.every(function(w){return!w.__N}))return!h||h.call(this,g,_,m);var y=!1;return v.forEach(function(w){if(w.__N){var x=w.__[0];w.__=w.__N,w.__N=void 0,x!==w.__[0]&&(y=!0)}}),!!y&&(!h||h.call(this,g,_,m))}}return c.__N||c.__}(em,r)}function tS(r){return Ws=5,function(l,i){var u=nh(oc++,7);return Og(u.__H,i)?(u.__V=l(),u.i=i,u.__h=l,u.__V):u.__}(function(){return{current:r}},[])}function nS(){for(var r;r=Ag.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(Vs),r.__H.__h.forEach(Nd),r.__H.__h=[]}catch(l){r.__H.__h=[],Je.__e(l,r.__v)}}Je.__b=function(r){Zt=null,Ip&&Ip(r)},Je.__r=function(r){Pp&&Pp(r),oc=0;var l=(Zt=r.__c).__H;l&&(hd===Zt?(l.__h=[],Zt.__h=[],l.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=Qs,i.__N=i.i=void 0})):(l.__h.forEach(Vs),l.__h.forEach(Nd),l.__h=[])),hd=Zt},Je.diffed=function(r){$p&&$p(r);var l=r.__c;l&&l.__H&&(l.__H.__h.length&&(Ag.push(l)!==1&&Zp===Je.requestAnimationFrame||((Zp=Je.requestAnimationFrame)||function(i){var u,c=function(){clearTimeout(h),Wp&&cancelAnimationFrame(u),setTimeout(i)},h=setTimeout(c,100);Wp&&(u=requestAnimationFrame(c))})(nS)),l.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==Qs&&(i.__=i.__V),i.i=void 0,i.__V=Qs})),hd=Zt=null},Je.__c=function(r,l){l.some(function(i){try{i.__h.forEach(Vs),i.__h=i.__h.filter(function(u){return!u.__||Nd(u)})}catch(u){l.some(function(c){c.__h&&(c.__h=[])}),l=[],Je.__e(u,i.__v)}}),Jp&&Jp(r,l)},Je.unmount=function(r){Fp&&Fp(r);var l,i=r.__c;i&&i.__H&&(i.__H.__.forEach(function(u){try{Vs(u)}catch(c){l=c}}),l&&Je.__e(l,i.__v))};var Wp=typeof requestAnimationFrame=="function";function Vs(r){var l=Zt,i=r.__c;typeof i=="function"&&(r.__c=void 0,i()),Zt=l}function Nd(r){var l=Zt;r.__c=r.__(),Zt=l}function Og(r,l){return!r||r.length!==l.length||l.some(function(i,u){return i!==r[u]})}function em(r,l){return typeof l=="function"?l(r):l}function rS({message:r,messageCode:l,messageParams:i}){return r.replace(/\{\w+\}/gi,u=>i[u.substring(1,u.length-1)])}function aS({title:r,type:l,alerts:i,fields:u,submitLabel:c,cancelLabel:h,onCancel:g,onSubmit:_}){const[m,v]=eS({}),y=tS(null);return function(w,x){var T=nh(oc++,4);!Je.__s&&Og(T.__H,x)&&(T.__=w,T.i=x,Zt.__h.push(T))}(()=>{var w;return(w=y.current)===null||w===void 0?void 0:w.focus()},[]),Xt(W1,{className:"dxc-login-dlg"},Xt(ql,null,Xt("h3",{style:Er.WindowHeader},r),i.map(w=>Xt("p",{style:Er.Alert[w.type]},rS(w))),Xt("form",{onSubmit:w=>{w.preventDefault(),_(m)}},Object.entries(u).map(([w,{type:x,label:T,placeholder:D}],N)=>Xt("label",{style:Er.Label,key:N},T?`${T}: `:"",Xt("input",{ref:N===0?y:void 0,type:x,name:w,autoComplete:"on",style:Er.Input,autoFocus:!0,placeholder:D,value:m[w]||"",onInput:L=>{var ae;const ie=function(fe,be){switch(fe){case"email":return be.toLowerCase();case"otp":return be.toUpperCase();default:return be}}(x,(ae=L.target)===null||ae===void 0?void 0:ae.value);let K=Object.assign(Object.assign({},m),{[w]:ie});v(K),x==="otp"&&ie?.trim().length===8&&_(K)}}))))),Xt("div",{style:Er.ButtonsDiv},Xt(ql,null,Xt("button",{type:"submit",style:Er.Button,onClick:()=>_(m)},c),h&&Xt("button",{style:Er.Button,onClick:g},h))))}class tm extends so{constructor(l){super(l),this.observer=i=>this.setState({userInteraction:i}),this.state={userInteraction:void 0}}componentDidMount(){this.subscription=Tr(this.props.db.cloud.userInteraction).subscribe(this.observer)}componentWillUnmount(){this.subscription&&(this.subscription.unsubscribe(),delete this.subscription)}render(l,{userInteraction:i}){return i?Xt(aS,Object.assign({},i)):null}}function go(r){const l=new WeakMap;return i=>{let u=l.get(i);return u||(u=r(i),l.set(i,u)),u}}const ec=go(r=>new ar(Nn));function sc(r,l){let i=l,u=Tr(r).pipe(rc(h=>i=h),U_({resetOnRefCountZero:()=>M_(1e3)}));const c=new It(h=>{let g=!1;const _=u.subscribe({next(m){g=!0,h.next(m)},error(m){h.error(m)},complete(){h.complete()}});return g||_.closed||h.next(i),_});return c.getValue=()=>i,c}const Tg=go(r=>sc(Rl(()=>r.roles.where({realmId:"rlm-public"}).toArray().then(l=>{const i={};for(const u of l.slice().sort((c,h)=>(c.sortOrder||0)-(h.sortOrder||0)))i[u.name]=u;return i})),{})),Cg=go(r=>sc(ec(r._novip).pipe(bn(l=>Rl(()=>r.transaction("r","realms","members",()=>Promise.all([r.members.where({userId:l.userId}).toArray(),r.realms.toArray(),l.userId]).then(([i,u,c])=>({selfMembers:i,realms:u,userId:c})))))),{selfMembers:[],realms:[],get userId(){return r.cloud.currentUserId}}));function iS(...r){return r.length===0?{}:r.reduce((i,u)=>{const c=Object.assign({},i);for(const[h,g]of Object.entries(u))if(h in c&&c[h]){if(c[h]==="*")continue;if(g==="*")c[h]="*";else if(Array.isArray(g)&&Array.isArray(c[h])){const _=c,m=_[h];_[h]=[...new Set([...m,...g])]}else if(typeof g=="object"&&g&&typeof c[h]=="object"){const _=c[h];for(const[m,v]of Object.entries(g))_[m]!=="*"&&(v==="*"?_[m]="*":Array.isArray(_[m])&&Array.isArray(v)&&(_[m]=[...new Set([..._[m],...v])]))}}else c[h]=u[h];return c})}const Rg=go(r=>function(l,i){let u;const c=l.pipe(rc(h=>u=i(h)));return c.getValue=()=>u!==void 0?u:u=i(l.getValue()),c}(sc(Zs([Cg(r._novip),Tg(r._novip)]).pipe(Or(([{selfMembers:l,realms:i,userId:u},c])=>({selfMembers:l,realms:i,userId:u,globalRoles:c}))),{selfMembers:[],realms:[],userId:Nn.userId,globalRoles:{}}),({selfMembers:l,realms:i,userId:u,globalRoles:c})=>i.map(g=>{const _=l.filter(y=>y.realmId===g.realmId),m=_.map(y=>y.permissions).filter(y=>y),v=$m(_.map(y=>y.roles).filter(y=>y)).map(y=>c[y]).filter(y=>y).map(y=>y.permissions);return Object.assign(Object.assign({},g),{permissions:g.owner===u?{manage:"*"}:iS(...m,...v)})}).reduce((g,_)=>Object.assign(Object.assign({},g),{[_.realmId]:_}),{[u]:{realmId:u,owner:u,name:u,permissions:{manage:"*"}}})));class nm{constructor(l,i,u){this.permissions=l||{},this.tableName=i,this.isOwner=u}add(...l){var i;return this.permissions.manage==="*"||!!(!((i=this.permissions.manage)===null||i===void 0)&&i.includes(this.tableName))||this.permissions.add==="*"||!!l.every(u=>{var c;return(c=this.permissions.add)===null||c===void 0?void 0:c.includes(u)})}update(...l){var i,u;if(this.isOwner||this.permissions.manage==="*"||!((i=this.permissions.manage)===null||i===void 0)&&i.includes(this.tableName))return!0;if(this.permissions.update==="*")return l.every(h=>h!=="owner");const c=(u=this.permissions.update)===null||u===void 0?void 0:u[this.tableName];return c==="*"?l.every(h=>h!=="owner"):l.every(h=>c?.some(g=>g===h||g==="*"&&h!=="owner"))}delete(){var l;return!(!this.isOwner&&this.permissions.manage!=="*")||!!(!((l=this.permissions.manage)===null||l===void 0)&&l.includes(this.tableName))}}const lS=go(r=>{const l=ec(r._novip).pipe(bn(c=>Rl(()=>r.members.where({email:c.email||""}).toArray()))),i=Rg(r._novip),u=Cg(r._novip);return sc(Zs([l,u,i]).pipe(Or(([c,h,g])=>{const _=(y,w)=>Object.assign(Object.assign({},y),{[w.id]:Object.assign(Object.assign({},w),{realm:g[w.realmId]})}),m=c.reduce(_,{}),v=h.selfMembers.reduce(_,m);return Object.values(v).filter(y=>!y.accepted).map(y=>Object.assign(Object.assign({},y),{accept(){return Ye(this,void 0,void 0,function*(){yield r.members.update(y.id,{accepted:new Date})})},reject(){return Ye(this,void 0,void 0,function*(){yield r.members.update(y.id,{rejected:new Date})})}}))})),[])}),uS={nameSuffix:!0};function kd(r){const l=r.name,i=ec(r),u=[];let c=!1,h=null;r.on("ready",y=>Ye(this,void 0,void 0,function*(){try{yield function(w){var x,T,D,N,L,ae,ie;return Ye(this,void 0,void 0,function*(){g=!1;const K=la(w);typeof window<"u"&&typeof document<"u"&&(!((x=K.cloud.options)===null||x===void 0)&&x.customLoginGui||u.push(function(Ce){let we=!1;const Me=document.createElement("div");return document.body?(document.body.appendChild(Me),Xp(Xt(tm,{db:Ce.vip}),Me)):addEventListener("DOMContentLoaded",()=>{we||(document.body.appendChild(Me),Xp(Xt(tm,{db:Ce.vip}),Me))}),{unsubscribe(){try{Me.remove()}catch{}we=!0},get closed(){return we}}}(w))),K.cloud.isServiceWorkerDB||u.push(function(Ce){let we=Ce.cloud.webSocketStatus.value;const Me=Ce.cloud.webSocketStatus.pipe(bn(Se=>{const me=we;we=Se;const Ee=sa(Se);switch(Se){case"disconnected":return uo.value?Ee.pipe(Cp(500)):Ee;case"connecting":return me==="not-started"||me==="error"?Ee:Ee.pipe(Cp(4e3));default:return Ee}}));return Zs([Me,Ce.syncStateChangedEvent.pipe(W_({phase:"initial"})),ec(Ce.dx._novip),Ud]).pipe(Or(([Se,me,Ee,I])=>{var ye;if(!((ye=Ee.license)===null||ye===void 0)&&ye.status&&Ee.license.status!=="ok")return{phase:"offline",status:"offline",license:Ee.license.status};let{phase:Re,error:he,progress:R}=me,J=Se;return Re==="error"&&(J="error"),Se==="not-started"&&(Re!=="pushing"&&Re!=="pulling"||(J="connecting")),Ce.cloud.syncState.value.phase!=="error"||me.phase!=="pushing"&&me.phase!=="pulling"||(J="connecting"),I||(J="disconnected"),{phase:Re,error:he,progress:R,status:Ul?J:"offline",license:"ok"}}))}(K).subscribe(w.cloud.syncState)),u.push(K.syncCompleteEvent.subscribe(m)),K.tables.every(Ce=>Ce.core)||sg();const fe="serviceWorker"in navigator?yield navigator.serviceWorker.getRegistrations():[],[be,de]=yield K.transaction("rw",K.$syncState,()=>Ye(this,void 0,void 0,function*(){var Ce,we;const{options:Me,schema:Se}=K.cloud,[me,Ee,I]=yield Promise.all([K.getOptions(),K.getSchema(),K.getPersistedSyncState()]);if(c){if(!me||JSON.stringify(me)!==JSON.stringify(Me)){if(!Me)throw new Error("Internal error");const ye=Object.assign({},Me);delete ye.fetchTokens,yield K.$syncState.put(ye,"options")}}else K.cloud.options=me||null;if(!((Ce=K.cloud.options)===null||Ce===void 0)&&Ce.tryUseServiceWorker&&"serviceWorker"in navigator&&fe.length>0&&!M1?K.cloud.usingServiceWorker=!0:(!((we=K.cloud.options)===null||we===void 0)&&we.tryUseServiceWorker&&K.cloud.isServiceWorkerDB,K.cloud.usingServiceWorker=!1),dd(Se,K.cloud.options),dd(Ee,K.cloud.options),Se){if(!Ee||JSON.stringify(Ee)!==JSON.stringify(Se)){const ye=Ee||{};for(const[Re,he]of Object.entries(Se)){const R=ye[Re];R?(R.markedForSync=he.markedForSync,he.deleted=R.deleted,R.generatedGlobalId=he.generatedGlobalId):ye[Re]=Object.assign({},he)}yield K.$syncState.put(ye,"schema"),Object.assign(Se,ye)}}else K.cloud.schema=Ee||null;return[I?.initiallySynced,I?.realms]}));be&&K.setInitiallySynced(!0),function(Ce){var we,Me;for(const Se of Ce.tables)if(!((Me=(we=Ce.cloud.schema)===null||we===void 0?void 0:we[Se.name])===null||Me===void 0)&&Me.markedForSync){if(Se.schema.primKey.auto)throw new Ct.SchemaError(`Table ${Se.name} is both autoIncremented and synced. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(Se.name)}]}) to blacklist it from sync`);if(!Se.schema.primKey.keyPath)throw new Ct.SchemaError(`Table ${Se.name} cannot be both synced and outbound. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(Se.name)}]}) to blacklist it from sync`)}}(K),!((T=K.cloud.options)===null||T===void 0)&&T.databaseUrl&&!be&&(yield function(Ce,we,Me){return Ye(this,void 0,void 0,function*(){yield ho(Ce,we,Me,{isInitialSync:!0})})}(K,K.cloud.options,K.cloud.schema),K.setInitiallySynced(!0)),_(),K.cloud.isServiceWorkerDB||(u.push(Rl(()=>K.getCurrentUser()).subscribe(i)),u.push(Rl(()=>K.getPersistedSyncState()).subscribe(K.cloud.persistedSyncState)),yield Ml(Zs([i.pipe(Rp(1),Tl(1)),K.cloud.persistedSyncState.pipe(Rp(1),Tl(1))])));let xe=!1;const Ue=yield K.getCurrentUser(),ke=(D=K.cloud.options)===null||D===void 0?void 0:D.requireAuth;ke&&(typeof ke=="object"?(!Ue.isLoggedIn||ke.userId&&Ue.userId!==ke.userId||ke.email&&Ue.email!==ke.email)&&(xe=yield od(K,ke)):Ue.isLoggedIn||(xe=yield od(K))),!Ue.isLoggedIn||de&&de.includes(Ue.userId)||(xe=!0),h&&h.stop(),h=null,_(),K.cloud.usingServiceWorker&&(!((N=K.cloud.options)===null||N===void 0)&&N.databaseUrl)?(Vm(K,xe?"pull":"push").catch(()=>{}),function(Ce){var we;return Ye(this,void 0,void 0,function*(){try{const{periodicSync:Me}=yield navigator.serviceWorker.ready;if(Me)try{yield Me.register(`dexie-cloud:${Ce.name}`,(we=Ce.cloud.options)===null||we===void 0?void 0:we.periodicSync)}catch{}}catch{}})}(K).catch(()=>{})):!((L=K.cloud.options)===null||L===void 0)&&L.databaseUrl&&K.cloud.schema&&!K.cloud.isServiceWorkerDB&&(h=P1(K,K.cloud.options,K.cloud.schema),h.start(),oa(K,xe?"pull":"push")),_(),K.cloud.isServiceWorkerDB||u.push(Ar(self,"online").subscribe(()=>{K.syncStateChangedEvent.next({phase:"not-in-sync"}),fg(K)||oa(K,"push")}),Ar(self,"offline").subscribe(()=>{K.syncStateChangedEvent.next({phase:"offline"})})),!(!((ae=K.cloud.options)===null||ae===void 0)&&ae.databaseUrl)||!((ie=K.cloud.options)===null||ie===void 0)&&ie.disableWebSocket||j1||u.push(function(Ce){var we;if(!(!((we=Ce.cloud.options)===null||we===void 0)&&we.databaseUrl))throw new Error("No database URL to connect WebSocket to");const Me=Ce.messageConsumer.readyToServe.pipe(xr(Se=>Se),bn(()=>Ce.getPersistedSyncState()),xr(Se=>Se&&Se.serverRevision),bn(Se=>Ye(this,void 0,void 0,function*(){return{type:"ready",rev:Se.serverRevision,realmSetHash:yield Cd(Se)}})));return function Se(){return Ce.cloud.persistedSyncState.pipe(xr(me=>me?.serverRevision),Tl(1),bn(me=>Ce.cloud.currentUser.pipe(Or(Ee=>[Ee,me]))),bn(([me,Ee])=>Ud.pipe(Or(I=>[I?me:null,Ee]))),bn(([me,Ee])=>me?.isLoggedIn&&!Ee?.realms.includes(me.userId)?Ce.cloud.persistedSyncState.pipe(xr(I=>I?.realms.includes(me.userId)||!1),Tl(1),Or(I=>[me,I])):new ar([me,Ee])),bn(([me,Ee])=>Ye(this,void 0,void 0,function*(){return[me,yield Cd(Ee)]})),Qm(([me,Ee],[I,ye])=>me===I&&Ee===ye),bn(([me,Ee])=>{var I;return!((I=Ce.cloud.persistedSyncState)===null||I===void 0)&&I.value?me?new G1(Ce.cloud.options.databaseUrl,Ce.cloud.persistedSyncState.value.serverRevision,Ee,Ce.cloud.persistedSyncState.value.clientIdentity,Me,Ce.cloud.webSocketStatus,me.accessToken,me.accessTokenExpiration):Tr([]):Se()}),Sd(me=>me?.name==="TokenExpiredError"?sa(!0).pipe(bn(()=>Ye(this,void 0,void 0,function*(){const Ee=yield Ce.getCurrentUser(),I=yield lc(Ce.cloud.options.databaseUrl,Ee);yield Ce.table("$logins").update(Ee.userId,{accessToken:I.accessToken,accessTokenExpiration:I.accessTokenExpiration,claims:I.claims,license:I.license,data:I.data})})),bn(()=>Se())):pp(()=>me)),Sd(me=>(Ce.cloud.webSocketStatus.next("error"),me instanceof X1?pp(()=>me):Tr(Z1()).pipe(bn(()=>Se())))))}().subscribe({next:Se=>{Se&&Ce.messageConsumer.enqueue(Se)},error:Se=>{},complete:()=>{}})}(K))})}(y)}catch{}}),!0);let g=!1;function _(){if(g)throw new Ct.DatabaseClosedError}(function(y,w){y.on.close.subscribe(w);const x=y._close;y._close=function(){x.call(this),w()}})(r,()=>{u.forEach(y=>y.unsubscribe()),g=!0,h&&h.stop(),h=null,i.next(Nn)});const m=new vo;var v;r.cloud={version:"4.0.12",options:Object.assign({},uS),schema:null,get currentUserId(){return i.value.userId||Nn.userId},currentUser:i,syncState:new ar({phase:"initial",status:"not-started"}),events:{syncComplete:m},persistedSyncState:new ar(void 0),userInteraction:new ar(void 0),webSocketStatus:new ar("not-started"),login(y){return Ye(this,void 0,void 0,function*(){const w=la(r);yield w.cloud.sync(),yield od(w,y)})},invites:lS(r),roles:Tg(r),configure(y){y=r.cloud.options=Object.assign(Object.assign({},r.cloud.options),y),c=!0,y.databaseUrl&&y.nameSuffix&&(r.name=`${l}-${function(w){const x=new URL(w);return x.pathname==="/"?x.hostname.split(".")[0]:x.pathname.split("/")[1]}(y.databaseUrl)}`,la(r).reconfigure()),dd(r.cloud.schema,r.cloud.options)},logout({force:y}={}){return Ye(this,void 0,void 0,function*(){y?yield Ad(la(r),{deleteUnsyncedData:!0}):yield Im(la(r))})},sync({wait:y,purpose:w}={wait:!0,purpose:"push"}){var x;return Ye(this,void 0,void 0,function*(){y===void 0&&(y=!0);const T=la(r);if((((x=T.cloud.currentUser.value.license)===null||x===void 0?void 0:x.status)||"ok")!=="ok"&&(yield Fd(T)),w==="pull"){const D=T.cloud.persistedSyncState.value;if(oa(T,w),y){const N=yield Ml(T.cloud.persistedSyncState.pipe(xr(L=>L?.timestamp!=null&&(!D||L.timestamp>D.timestamp))));if(N?.error)throw new Error("Sync error: "+N.error)}}else if(yield Hp(T)){const D=T.cloud.persistedSyncState.value;oa(T,w),y&&(yield Ml(Tr(Rl(()=>Ye(this,void 0,void 0,function*(){const N=yield Hp(T),L=yield T.getPersistedSyncState();if(L?.timestamp!==D?.timestamp&&L?.error)throw new Error("Sync error: "+L.error);return N}))).pipe(xr(N=>!N))))}})},permissions:(y,w)=>function(x,T,D){if(!T)throw new TypeError("Cannot check permissions of undefined or null. A Dexie Cloud object with realmId and owner expected.");const{owner:N,realmId:L}=T;if(!D){if(typeof T.table!="function")throw new TypeError("Missing 'table' argument to permissions and table could not be extracted from entity");D=T.table()}const ae=Rg(x),ie=fe=>{const be=fe[L||x.cloud.currentUserId];return be?new nm(be.permissions,D,L===void 0||L===x.cloud.currentUserId||N===x.cloud.currentUserId):new nm({},D,!N||N===x.cloud.currentUserId)},K=ae.pipe(Or(ie));return K.getValue=()=>ie(ae.getValue()),K}(r._novip,y,w)},r.Version.prototype._parseStoresSpec=Ct.override(r.Version.prototype._parseStoresSpec,y=>L1(y,r)),r.Table.prototype.newId=function({colocateWith:y}={}){const w=y&&y.substr(y.length-3);return cg(r.cloud.schema[this.name].idPrefix||"",w)},r.Table.prototype.idPrefix=function(){var y,w;return((w=(y=this.db.cloud.schema)===null||y===void 0?void 0:y[this.name])===null||w===void 0?void 0:w.idPrefix)||""},r.use(q1({currentUserObservable:r.cloud.currentUser,db:la(r)})),r.use((v=la(r),{stack:"dbcore",name:"implicitPropSetterMiddleware",level:1,create:y=>Object.assign(Object.assign({},y),{table:w=>{const x=y.table(w);return Object.assign(Object.assign({},x),{mutate:T=>{var D,N,L,ae;if(T.trans.disableChangeTracking)return x.mutate(T);const ie=T.trans;if(!((N=(D=v.cloud.schema)===null||D===void 0?void 0:D[w])===null||N===void 0)&&N.markedForSync){if(ie.mode==="versionchange")return Promise.reject(new Ct.UpgradeError(`Dexie Cloud Addon: Cannot upgrade or populate synced table "${w}". See https://dexie.org/cloud/docs/best-practices`));if(T.type==="add"||T.type==="put"){if(w==="members")for(const K of T.values)typeof K.email=="string"&&(K.email=K.email.trim().toLowerCase());for(const K of T.values){K.owner||(K.owner=ie.currentUser.userId),K.realmId||(K.realmId=ie.currentUser.userId);const fe=(ae=(L=x.schema.primaryKey).extractKey)===null||ae===void 0?void 0:ae.call(L,K);typeof fe=="string"&&fe[0]==="#"&&T.type==="put"&&(delete T.criteria,delete T.changeSpec,delete T.updates,K.$ts=Date.now())}}}return x.mutate(T)}})}})})),r.use(k1(la(r)))}kd.version="4.0.12",Ct.Cloud=kd;const oS="https://dexie.cloud",sS="https://zhuh6rzgq.dexie.cloud",cS={serviceUrl:oS,dbUrl:sS},rm={version:1,stores:{sets:"&id, name, date, songs",songs:"&id, name, text"}};class fS extends Ct{sets;songs;constructor(){super("dexie-browser",{addons:[kd],autoOpen:!1}),this.version(rm.version).stores(rm.stores)}}const it=new fS;async function dS(){it.cloud.configure(cS),await it.open()}typeof window<"u"&&(window.db=it);async function hS(r){await dS(),await it.cloud.login(r)}async function yS(){await it.cloud.logout(),it.close()}function vS(){const[r,l]=Ne.useState([]);return Ne.useEffect(()=>{async function i(){await it.open();const u=await it.songs.toArray();l(u)}i()},[]),re.jsxs("div",{children:[re.jsx("h2",{children:"Songs"}),re.jsx("ul",{children:r.map(i=>re.jsxs("li",{children:[re.jsx(En,{to:"song-view",data:{id:i.id},children:i.name}),re.jsx(En,{to:"song-edit",data:{id:i.id},children:lr.PENCIL})]},i.id))})]})}function pS(){const[r,l]=Ne.useState(""),[i,u]=Ne.useState("");async function c(h){h.preventDefault(),await it.open();const g={id:crypto.randomUUID(),name:r,text:i};await it.songs.add(g),l(""),u("")}return re.jsxs("form",{onSubmit:c,children:[re.jsxs("label",{children:["Name ",re.jsx("input",{value:r,onChange:h=>l(h.target.value)})]}),re.jsx("br",{}),re.jsx("textarea",{value:i,onChange:h=>u(h.target.value)}),re.jsx("br",{}),re.jsx("button",{type:"submit",children:"Save"})]})}function mS(){const{query:r}=Hl(),[l,i]=Ne.useState(null),[u,c]=Ne.useState(""),[h,g]=Ne.useState("");Ne.useEffect(()=>{async function m(){if(r.id){await it.open();const v=await it.songs.get(r.id);v&&(i(v),c(v.name),g(v.text))}}m()},[r.id]);async function _(m){m.preventDefault(),l&&await it.songs.put({...l,name:u,text:h})}return l?re.jsxs("form",{className:"song edit",onSubmit:_,children:[re.jsxs("label",{children:["Name ",re.jsx("input",{value:u,onChange:m=>c(m.target.value)})]}),re.jsx("br",{}),re.jsx("textarea",{value:h,onChange:m=>g(m.target.value)}),re.jsx("br",{}),re.jsx("button",{type:"submit",children:"Save"}),re.jsx(En,{className:"dont print",to:"song-view",data:{id:l.id},children:"View"})]}):re.jsx("p",{children:"Select a song to edit."})}function gS(){const[r,l]=Ne.useState([]);return Ne.useEffect(()=>{async function i(){await it.open();const u=await it.sets.toArray();l(u)}i()},[]),re.jsxs("div",{children:[re.jsx("h2",{children:"Sets"}),re.jsx(En,{to:"set-add",children:lr.PLUS}),re.jsx("ul",{children:r.map(i=>re.jsxs("li",{children:[i.name,re.jsx(En,{to:"set-view",data:{id:i.id},children:lr.EYE}),re.jsx(En,{to:"set-edit",data:{id:i.id},children:lr.PENCIL})]},i.id))})]})}function yo(r,l=""){const i=r.replace(/\r\n?/g,`
`).split(`
`);let u=0;const h=(i[u]?.trim()??"").match(/\[(\w[#b]?)]/);let g=h?w(h[1]):null;u++;const _=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],m={"C#":"Db","D#":"Eb","F#":"Gb","G#":"Ab","A#":"Bb"},v=[0,2,4,5,7,9,11],y=["","m","m","","","m","dim"];function w(he){return he.replace(//g,"#").replace(//g,"b")}function x(he){const R=he.toUpperCase();let J=_.indexOf(R);if(J>-1)return J;const ne={DB:"C#",EB:"D#",GB:"F#",AB:"G#",BB:"A#"}[R];return ne?_.indexOf(ne):0}function T(he){if(!g)return String(he);const R=(he-1)%7,J=(x(g)+v[R])%12;let ne=_[J];return(/b$/.test(g)||["F","Bb","Eb","Ab","Db","Gb","Cb"].includes(g))&&(ne=m[ne]||ne),ne+y[R]}function D(he){const R=he.match(/^(\d)(?:\/(\d))?(.*)$/);if(!R)return he;let ne=T(+R[1]);return R[2]&&(ne+="/"+T(+R[2])),ne+=R[3]||"",ne}const N=["","","","","","","","","","","","","",""],L=he=>{const R=he.replace(/\|(\d{1,2})$/,(J,ne)=>N[+ne]||ne);return D(R)},ae={},ie={};let K=null,fe=[],be=null;for(;u<i.length&&!/^\s*Sections:/i.test(i[u]);){const he=i[u].match(/^\s*(key|tempo|author|time):\s*(.+)$/i);if(he){const J=he[1].toLowerCase(),ne=he[2].trim();switch(J){case"key":g=w(ne);break;case"tempo":const oe=parseInt(ne,10);isNaN(oe)||(K=oe);break;case"author":fe=ne.split(",").map(Te=>Te.trim()).filter(Boolean);break;case"time":be=ne;break}u++;continue}const R=i[u].match(/^[\s\t]*([\w \-]+):\s*(.+)$/);if(R){const J=R[1].trim().toLowerCase(),ne=[R[2].trim()];let oe=u+1;for(;oe<i.length&&/^\s{2,}\S/.test(i[oe])&&!/^[\w \-]+:\s*/.test(i[oe].trim());)ne.push(i[oe].trim()),oe++;u=oe-1,ie[J]=ne,ae[J]=Re(ne.join(" "))}u++}const de={},xe=[],Ue=/^\s{2,}([\w \-]+):\s*$/;for(;u<i.length&&!/^\s*Arrangements:/i.test(i[u]);){const he=i[u].match(Ue);if(he){const R=he[1].trim();xe.push(R),u++;const J=[];for(;u<i.length&&!Ue.test(i[u])&&!/^\s*Arrangements:/i.test(i[u]);){const ne=i[u];ne.trim()&&J.push(ne.replace(/^\s{4}/,"")),u++}de[R]=J}else u++}const ke={};if(u<i.length&&/^\s*Arrangements:/i.test(i[u]))for(u++;u<i.length;){const he=i[u].match(/^(\s{2,})([\w \-]+)\s*:?\s*$/);if(he){const R=he[1].length,J=he[2].trim();let ne=u+1;for(;ne<i.length&&!i[ne].trim();)ne++;const oe=ne<i.length?(/^(\s*)/.exec(i[ne])||[""])[0].length:0;if(!(i[u].trim().endsWith(":")||oe>R)){u++;continue}u++;const Le=[];for(;u<i.length;){const He=i[u];if((/^(\s*)/.exec(He)||[""])[0].length<=R)break;He.trim()&&Le.push(He.trim()),u++}ke[J]=Le}else u++}Object.keys(ke).length||(ke.default=xe);const Ce=ke[l]||ke[Object.keys(ke)[0]],we=[];we.push('<article class="song">');const Me=[];g&&Me.push(`<p class="song-meta-key"><strong>Key:</strong> ${Ee(g)}</p>`),K!==null&&Me.push(`<p class="song-meta-tempo"><strong>Tempo:</strong> ${K}</p>`),be&&Me.push(`<p class="song-meta-time"><strong>Time:</strong> ${Ee(be)}</p>`),fe.length&&Me.push(`<p class="song-meta-authors"><strong>Author${fe.length>1?"s":""}:</strong> ${Ee(fe.join(", "))}</p>`),Me.length&&(we.push('<section class="song-meta">'),Me.forEach(he=>we.push(he)),we.push("</section>")),we.push('<section class="song-chords"><h3 class="chords-title">Chords</h3>'),Ce.forEach(he=>{const R=ie[I(he)]||[];if(!R.length)return;let J=`<span class="chord-section-label">${Ee(he)}</span> `+me(R[0]);for(let ne=1;ne<R.length;ne++)J+='<br class="line-break"/>'+me(R[ne]);we.push(`<p class="chord-line">${J}</p>`)}),we.push("</section>"),Ce.forEach(he=>{we.push(`<section class="song-section section-${he.toLowerCase().replace(/[^a-z0-9]+/g,"-")}">`),we.push(`<h3 class="section-title">${Ee(he)}</h3>`);const R=de[he]||[],J=ae[I(he)]||[];let ne=0;R.forEach(oe=>{const Te=ye(oe,()=>{const Le=J[ne%J.length]||"";return ne++,`<sup class="chord">${Ee(L(Le))}</sup>`});we.push(`<p class="lyric-line">${Te}</p>`)}),we.push("</section>")}),we.push("</article>");const Se={key:g,tempo:K,authors:fe,time:be};return{html:we.join(`
`),arrangements:Object.keys(ke),song:Se};function me(he){return he.split(/\s+/).filter(Boolean).map(R=>`<span class="chord">${Ee(L(R))}</span>`).join(" ")}function Ee(he){const R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return String(he).replace(/[&<>"]|'"'/g,J=>R[J]??J)}function I(he){return he.split(/\s+/)[0].toLowerCase()}function ye(he,R){let J="",ne=0;for(let oe=0;oe<he.length;oe++)he[oe]==="^"&&(J+=Ee(he.slice(ne,oe))+R(),ne=oe+1);return J+Ee(he.slice(ne))}function Re(he){const R=he.split(/\s+/).filter(Boolean),J=[];for(let ne=0;ne<R.length;ne++){let oe=R[ne];if(oe.startsWith("(")){const Te=[];if(oe.endsWith(")"))Te.push(oe.slice(1,-1));else{for(Te.push(oe.slice(1));++ne<R.length&&!R[ne].endsWith(")");)Te.push(R[ne]);ne<R.length&&Te.push(R[ne].slice(0,-1))}let Le=1;for(ne+1<R.length&&/^x\d+$/i.test(R[ne+1])&&(Le=+R[++ne].slice(1));Le--;)J.push(...Te)}else/^x\d+$/i.test(oe)||J.push(oe)}return J}}function Dg({initialSet:r=null,onSave:l}){const[i,u]=Ne.useState(r?.name||""),[c,h]=Ne.useState([]),[g,_]=Ne.useState([]),[m,v]=Ne.useState("");Ne.useEffect(()=>{async function N(){await it.open();const L=await it.songs.toArray();_(L)}N()},[]),Ne.useEffect(()=>{async function N(){if(!r)return;await it.open();const L=[];for(const ae of r.songs){const ie=await it.songs.get(ae.songId);if(ie){const K=yo(ie.text),fe=K.arrangements;L.push({id:ie.id,name:ie.name,arrangement:ae.arrangement||fe[0]||"",key:ae.key||K.song.key||"",arrangements:fe})}}h(L),u(r.name)}N()},[r]);function y(N,L){h(ae=>ae.map((ie,K)=>K===N?{...ie,...L}:ie))}function w(N,L){h(ae=>{const ie=[...ae],[K]=ie.splice(N,1);return ie.splice(N+L,0,K),ie})}function x(N){h(L=>L.filter((ae,ie)=>ie!==N))}function T(){if(!m)return;const N=g.find(ie=>ie.id===m);if(!N)return;const L=yo(N.text),ae=L.arrangements;h(ie=>[...ie,{id:N.id,name:N.name,arrangement:ae[0]||"",key:L.song.key||"",arrangements:ae}]),v("")}async function D(N){N.preventDefault(),await l({name:i,songs:c.map(L=>({songId:L.id,arrangement:L.arrangement,key:L.key}))}),u(""),h([])}return re.jsxs("form",{onSubmit:D,children:[re.jsx("h2",{children:"Set"}),re.jsxs("label",{children:["Name ",re.jsx("input",{value:i,onChange:N=>u(N.target.value)})]}),re.jsxs("div",{children:[re.jsxs("select",{value:m,onChange:N=>v(N.target.value),children:[re.jsx("option",{value:"",children:"Select song"}),g.map(N=>re.jsx("option",{value:N.id,children:N.name},N.id))]}),re.jsx("button",{type:"button",onClick:T,children:lr.PLUS})]}),re.jsx("ul",{children:c.map((N,L)=>re.jsxs("li",{children:[N.name,re.jsx("select",{value:N.arrangement,onChange:ae=>y(L,{arrangement:ae.target.value}),children:N.arrangements.map(ae=>re.jsx("option",{value:ae,children:ae},ae))}),re.jsx("input",{value:N.key,onChange:ae=>y(L,{key:ae.target.value})}),re.jsx("button",{type:"button",disabled:L===0,onClick:()=>w(L,-1),children:lr.ARROW.UP}),re.jsx("button",{type:"button",disabled:L===c.length-1,onClick:()=>w(L,1),children:lr.ARROW.DOWN}),re.jsx("button",{type:"button",onClick:()=>x(L),children:lr.RED_X})]},N.id))}),re.jsx("button",{type:"submit",children:"Save"})]})}function bS(){async function r(l){await it.open(),await it.sets.add({id:crypto.randomUUID(),name:l.name,date:Date.now(),songs:l.songs})}return re.jsx(Dg,{onSave:r})}function _S(){const{query:r}=Hl(),[l,i]=Ne.useState(null);Ne.useEffect(()=>{async function c(){if(!r.id)return;await it.open();const h=await it.sets.get(r.id);h&&i(h)}c()},[r.id]);async function u(c){l&&(await it.open(),await it.sets.put({...l,name:c.name,songs:c.songs}))}return l?re.jsx(Dg,{initialSet:l,onSave:u}):re.jsx("p",{children:"Select a set to edit."})}function SS(){const{query:r}=Hl(),[l,i]=Ne.useState([]),[u,c]=Ne.useState(0),h=Ne.useRef("top"),g=Ld();if(Ne.useEffect(()=>{async function m(){if(!r.id)return;await it.open();const v=await it.sets.get(r.id);if(!v)return;const y=[];for(const w of v.songs){const x=await it.songs.get(w.songId);if(!x)continue;let T=x.text;if(w.key){const N=T.indexOf(`
`);N===-1?T=T.replace(/\s*\[[^\]]+\]\s*$/,"")+` [${w.key}]`:T=`${T.slice(0,N).replace(/\s*\[[^\]]+\]\s*$/,"")} [${w.key}]${T.slice(N)}`}const D=yo(T,w.arrangement);y.push({id:x.id,name:x.name,html:D.html})}i(y),c(0)}m()},[r.id]),Ne.useEffect(()=>{const m=v=>{const y=document.body.scrollHeight>window.innerHeight;if(v.key==="PageDown"){const w=window.innerHeight+window.scrollY>=document.body.scrollHeight-2;(!y||w)&&(v.preventDefault(),h.current="top",c(x=>Math.min(x+1,l.length-1)))}else if(v.key==="PageUp"){const w=window.scrollY<=0;(!y||w)&&(v.preventDefault(),h.current="bottom",c(x=>Math.max(x-1,0)))}};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[l.length]),Ne.useEffect(()=>{h.current==="top"?window.scrollTo({top:0}):window.scrollTo({top:document.body.scrollHeight})},[u]),Ne.useEffect(()=>{if(!l[u])return;document.querySelectorAll(".chord").forEach(x=>{g.showChords?x.classList.remove("hidden"):x.classList.add("hidden")});const y=document.querySelector(".song-chords");y&&(g.showChordset?y.classList.remove("hidden"):y.classList.add("hidden"));const w=document.querySelector(".song-meta");w&&(g.showMeta?w.classList.remove("hidden"):w.classList.add("hidden"))},[l,u,g.showChords,g.showChordset,g.showMeta]),!l.length)return re.jsx("p",{children:"Select a set to view."});const _=l[u];return re.jsxs("div",{children:[re.jsx("h2",{children:_.name}),re.jsxs("div",{className:"dont print",children:[re.jsx("button",{type:"button",onClick:()=>{h.current="top",c(m=>Math.max(m-1,0))},disabled:u===0,children:lr.ARROW.LEFT}),re.jsx("button",{type:"button",onClick:()=>{h.current="top",c(m=>Math.min(m+1,l.length-1))},disabled:u===l.length-1,children:lr.ARROW.RIGHT})]}),re.jsx("div",{dangerouslySetInnerHTML:{__html:_.html}})]})}function wS(){const[r,l]=Ne.useState(()=>it.cloud.currentUser);async function i(c){c.preventDefault();const h=c.target,_=new FormData(h).get("email");try{await hS({email:_??void 0}),l(it.cloud.currentUser)}catch(m){console.error(m)}}async function u(){try{await yS(),l(void 0)}catch(c){console.error(c)}}return r?re.jsxs("button",{onClick:u,children:["Logout ",r?.username||r?.email]}):re.jsxs("form",{onSubmit:i,children:[re.jsx("input",{name:"email",type:"email",placeholder:"Email"}),re.jsx("button",{type:"submit",children:"Login"})]})}function ES(){return re.jsxs("div",{children:[re.jsx("h2",{children:"Settings"}),re.jsx(wS,{})]})}function xS(){const{query:r}=Hl(),[l,i]=Ne.useState(null),[u,c]=Ne.useState([]),[h,g]=Ne.useState(""),[_,m]=Ne.useState(""),v=Ld();return Ne.useEffect(()=>{async function y(){if(r.id){await it.open();const w=await it.songs.get(r.id);if(w){i(w);const x=yo(w.text);c(x.arrangements),g(x.arrangements[0]||""),m(x.html)}}}y()},[r.id]),Ne.useEffect(()=>{if(!l)return;const y=yo(l.text,h);m(y.html),c(y.arrangements)},[l,h]),Ne.useEffect(()=>{console.debug("arr",u)},[u]),Ne.useEffect(()=>{if(!_)return;document.querySelectorAll(".chord").forEach(T=>{v.showChords?T.classList.remove("hidden"):T.classList.add("hidden")});const w=document.querySelector(".song-chords");w&&(v.showChordset?w.classList.remove("hidden"):w.classList.add("hidden"));const x=document.querySelector(".song-meta");x&&(v.showMeta?x.classList.remove("hidden"):x.classList.add("hidden"))},[_,v.showChords,v.showChordset,v.showMeta]),l?re.jsxs("div",{children:[re.jsx("h2",{children:l.name}),u.length&&re.jsx("select",{className:"dont print",value:h,onChange:y=>g(y.target.value),children:u.map((y,w)=>re.jsx("option",{value:y,children:y},w))}),re.jsx(En,{className:"dont print",to:"song-edit",data:{id:l.id},children:"Edit"}),re.jsx("div",{dangerouslySetInnerHTML:{__html:_}})]}):re.jsx("p",{children:"Select a song to view."})}var AS=Object.defineProperty,tc=Object.getOwnPropertySymbols,Mg=Object.prototype.hasOwnProperty,jg=Object.prototype.propertyIsEnumerable,am=(r,l,i)=>l in r?AS(r,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[l]=i,zd=(r,l)=>{for(var i in l||(l={}))Mg.call(l,i)&&am(r,i,l[i]);if(tc)for(var i of tc(l))jg.call(l,i)&&am(r,i,l[i]);return r},Bd=(r,l)=>{var i={};for(var u in r)Mg.call(r,u)&&l.indexOf(u)<0&&(i[u]=r[u]);if(r!=null&&tc)for(var u of tc(r))l.indexOf(u)<0&&jg.call(r,u)&&(i[u]=r[u]);return i};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Di;(r=>{const l=class at{constructor(m,v,y,w){if(this.version=m,this.errorCorrectionLevel=v,this.modules=[],this.isFunction=[],m<at.MIN_VERSION||m>at.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let x=[];for(let D=0;D<this.size;D++)x.push(!1);for(let D=0;D<this.size;D++)this.modules.push(x.slice()),this.isFunction.push(x.slice());this.drawFunctionPatterns();const T=this.addEccAndInterleave(y);if(this.drawCodewords(T),w==-1){let D=1e9;for(let N=0;N<8;N++){this.applyMask(N),this.drawFormatBits(N);const L=this.getPenaltyScore();L<D&&(w=N,D=L),this.applyMask(N)}}c(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(m,v){const y=r.QrSegment.makeSegments(m);return at.encodeSegments(y,v)}static encodeBinary(m,v){const y=r.QrSegment.makeBytes(m);return at.encodeSegments([y],v)}static encodeSegments(m,v,y=1,w=40,x=-1,T=!0){if(!(at.MIN_VERSION<=y&&y<=w&&w<=at.MAX_VERSION)||x<-1||x>7)throw new RangeError("Invalid value");let D,N;for(D=y;;D++){const K=at.getNumDataCodewords(D,v)*8,fe=g.getTotalBits(m,D);if(fe<=K){N=fe;break}if(D>=w)throw new RangeError("Data too long")}for(const K of[at.Ecc.MEDIUM,at.Ecc.QUARTILE,at.Ecc.HIGH])T&&N<=at.getNumDataCodewords(D,K)*8&&(v=K);let L=[];for(const K of m){i(K.mode.modeBits,4,L),i(K.numChars,K.mode.numCharCountBits(D),L);for(const fe of K.getData())L.push(fe)}c(L.length==N);const ae=at.getNumDataCodewords(D,v)*8;c(L.length<=ae),i(0,Math.min(4,ae-L.length),L),i(0,(8-L.length%8)%8,L),c(L.length%8==0);for(let K=236;L.length<ae;K^=253)i(K,8,L);let ie=[];for(;ie.length*8<L.length;)ie.push(0);return L.forEach((K,fe)=>ie[fe>>>3]|=K<<7-(fe&7)),new at(D,v,ie,x)}getModule(m,v){return 0<=m&&m<this.size&&0<=v&&v<this.size&&this.modules[v][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),v=m.length;for(let y=0;y<v;y++)for(let w=0;w<v;w++)y==0&&w==0||y==0&&w==v-1||y==v-1&&w==0||this.drawAlignmentPattern(m[y],m[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const v=this.errorCorrectionLevel.formatBits<<3|m;let y=v;for(let x=0;x<10;x++)y=y<<1^(y>>>9)*1335;const w=(v<<10|y)^21522;c(w>>>15==0);for(let x=0;x<=5;x++)this.setFunctionModule(8,x,u(w,x));this.setFunctionModule(8,7,u(w,6)),this.setFunctionModule(8,8,u(w,7)),this.setFunctionModule(7,8,u(w,8));for(let x=9;x<15;x++)this.setFunctionModule(14-x,8,u(w,x));for(let x=0;x<8;x++)this.setFunctionModule(this.size-1-x,8,u(w,x));for(let x=8;x<15;x++)this.setFunctionModule(8,this.size-15+x,u(w,x));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let y=0;y<12;y++)m=m<<1^(m>>>11)*7973;const v=this.version<<12|m;c(v>>>18==0);for(let y=0;y<18;y++){const w=u(v,y),x=this.size-11+y%3,T=Math.floor(y/3);this.setFunctionModule(x,T,w),this.setFunctionModule(T,x,w)}}drawFinderPattern(m,v){for(let y=-4;y<=4;y++)for(let w=-4;w<=4;w++){const x=Math.max(Math.abs(w),Math.abs(y)),T=m+w,D=v+y;0<=T&&T<this.size&&0<=D&&D<this.size&&this.setFunctionModule(T,D,x!=2&&x!=4)}}drawAlignmentPattern(m,v){for(let y=-2;y<=2;y++)for(let w=-2;w<=2;w++)this.setFunctionModule(m+w,v+y,Math.max(Math.abs(w),Math.abs(y))!=1)}setFunctionModule(m,v,y){this.modules[v][m]=y,this.isFunction[v][m]=!0}addEccAndInterleave(m){const v=this.version,y=this.errorCorrectionLevel;if(m.length!=at.getNumDataCodewords(v,y))throw new RangeError("Invalid argument");const w=at.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][v],x=at.ECC_CODEWORDS_PER_BLOCK[y.ordinal][v],T=Math.floor(at.getNumRawDataModules(v)/8),D=w-T%w,N=Math.floor(T/w);let L=[];const ae=at.reedSolomonComputeDivisor(x);for(let K=0,fe=0;K<w;K++){let be=m.slice(fe,fe+N-x+(K<D?0:1));fe+=be.length;const de=at.reedSolomonComputeRemainder(be,ae);K<D&&be.push(0),L.push(be.concat(de))}let ie=[];for(let K=0;K<L[0].length;K++)L.forEach((fe,be)=>{(K!=N-x||be>=D)&&ie.push(fe[K])});return c(ie.length==T),ie}drawCodewords(m){if(m.length!=Math.floor(at.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let v=0;for(let y=this.size-1;y>=1;y-=2){y==6&&(y=5);for(let w=0;w<this.size;w++)for(let x=0;x<2;x++){const T=y-x,N=(y+1&2)==0?this.size-1-w:w;!this.isFunction[N][T]&&v<m.length*8&&(this.modules[N][T]=u(m[v>>>3],7-(v&7)),v++)}}c(v==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let v=0;v<this.size;v++)for(let y=0;y<this.size;y++){let w;switch(m){case 0:w=(y+v)%2==0;break;case 1:w=v%2==0;break;case 2:w=y%3==0;break;case 3:w=(y+v)%3==0;break;case 4:w=(Math.floor(y/3)+Math.floor(v/2))%2==0;break;case 5:w=y*v%2+y*v%3==0;break;case 6:w=(y*v%2+y*v%3)%2==0;break;case 7:w=((y+v)%2+y*v%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[v][y]&&w&&(this.modules[v][y]=!this.modules[v][y])}}getPenaltyScore(){let m=0;for(let x=0;x<this.size;x++){let T=!1,D=0,N=[0,0,0,0,0,0,0];for(let L=0;L<this.size;L++)this.modules[x][L]==T?(D++,D==5?m+=at.PENALTY_N1:D>5&&m++):(this.finderPenaltyAddHistory(D,N),T||(m+=this.finderPenaltyCountPatterns(N)*at.PENALTY_N3),T=this.modules[x][L],D=1);m+=this.finderPenaltyTerminateAndCount(T,D,N)*at.PENALTY_N3}for(let x=0;x<this.size;x++){let T=!1,D=0,N=[0,0,0,0,0,0,0];for(let L=0;L<this.size;L++)this.modules[L][x]==T?(D++,D==5?m+=at.PENALTY_N1:D>5&&m++):(this.finderPenaltyAddHistory(D,N),T||(m+=this.finderPenaltyCountPatterns(N)*at.PENALTY_N3),T=this.modules[L][x],D=1);m+=this.finderPenaltyTerminateAndCount(T,D,N)*at.PENALTY_N3}for(let x=0;x<this.size-1;x++)for(let T=0;T<this.size-1;T++){const D=this.modules[x][T];D==this.modules[x][T+1]&&D==this.modules[x+1][T]&&D==this.modules[x+1][T+1]&&(m+=at.PENALTY_N2)}let v=0;for(const x of this.modules)v=x.reduce((T,D)=>T+(D?1:0),v);const y=this.size*this.size,w=Math.ceil(Math.abs(v*20-y*10)/y)-1;return c(0<=w&&w<=9),m+=w*at.PENALTY_N4,c(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,v=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let y=[6];for(let w=this.size-7;y.length<m;w-=v)y.splice(1,0,w);return y}}static getNumRawDataModules(m){if(m<at.MIN_VERSION||m>at.MAX_VERSION)throw new RangeError("Version number out of range");let v=(16*m+128)*m+64;if(m>=2){const y=Math.floor(m/7)+2;v-=(25*y-10)*y-55,m>=7&&(v-=36)}return c(208<=v&&v<=29648),v}static getNumDataCodewords(m,v){return Math.floor(at.getNumRawDataModules(m)/8)-at.ECC_CODEWORDS_PER_BLOCK[v.ordinal][m]*at.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let v=[];for(let w=0;w<m-1;w++)v.push(0);v.push(1);let y=1;for(let w=0;w<m;w++){for(let x=0;x<v.length;x++)v[x]=at.reedSolomonMultiply(v[x],y),x+1<v.length&&(v[x]^=v[x+1]);y=at.reedSolomonMultiply(y,2)}return v}static reedSolomonComputeRemainder(m,v){let y=v.map(w=>0);for(const w of m){const x=w^y.shift();y.push(0),v.forEach((T,D)=>y[D]^=at.reedSolomonMultiply(T,x))}return y}static reedSolomonMultiply(m,v){if(m>>>8||v>>>8)throw new RangeError("Byte out of range");let y=0;for(let w=7;w>=0;w--)y=y<<1^(y>>>7)*285,y^=(v>>>w&1)*m;return c(y>>>8==0),y}finderPenaltyCountPatterns(m){const v=m[1];c(v<=this.size*3);const y=v>0&&m[2]==v&&m[3]==v*3&&m[4]==v&&m[5]==v;return(y&&m[0]>=v*4&&m[6]>=v?1:0)+(y&&m[6]>=v*4&&m[0]>=v?1:0)}finderPenaltyTerminateAndCount(m,v,y){return m&&(this.finderPenaltyAddHistory(v,y),v=0),v+=this.size,this.finderPenaltyAddHistory(v,y),this.finderPenaltyCountPatterns(y)}finderPenaltyAddHistory(m,v){v[0]==0&&(m+=this.size),v.pop(),v.unshift(m)}};l.MIN_VERSION=1,l.MAX_VERSION=40,l.PENALTY_N1=3,l.PENALTY_N2=3,l.PENALTY_N3=40,l.PENALTY_N4=10,l.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],l.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=l;function i(_,m,v){if(m<0||m>31||_>>>m)throw new RangeError("Value out of range");for(let y=m-1;y>=0;y--)v.push(_>>>y&1)}function u(_,m){return(_>>>m&1)!=0}function c(_){if(!_)throw new Error("Assertion error")}const h=class Mt{constructor(m,v,y){if(this.mode=m,this.numChars=v,this.bitData=y,v<0)throw new RangeError("Invalid argument");this.bitData=y.slice()}static makeBytes(m){let v=[];for(const y of m)i(y,8,v);return new Mt(Mt.Mode.BYTE,m.length,v)}static makeNumeric(m){if(!Mt.isNumeric(m))throw new RangeError("String contains non-numeric characters");let v=[];for(let y=0;y<m.length;){const w=Math.min(m.length-y,3);i(parseInt(m.substring(y,y+w),10),w*3+1,v),y+=w}return new Mt(Mt.Mode.NUMERIC,m.length,v)}static makeAlphanumeric(m){if(!Mt.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let v=[],y;for(y=0;y+2<=m.length;y+=2){let w=Mt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y))*45;w+=Mt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y+1)),i(w,11,v)}return y<m.length&&i(Mt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y)),6,v),new Mt(Mt.Mode.ALPHANUMERIC,m.length,v)}static makeSegments(m){return m==""?[]:Mt.isNumeric(m)?[Mt.makeNumeric(m)]:Mt.isAlphanumeric(m)?[Mt.makeAlphanumeric(m)]:[Mt.makeBytes(Mt.toUtf8ByteArray(m))]}static makeEci(m){let v=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)i(m,8,v);else if(m<16384)i(2,2,v),i(m,14,v);else if(m<1e6)i(6,3,v),i(m,21,v);else throw new RangeError("ECI assignment value out of range");return new Mt(Mt.Mode.ECI,0,v)}static isNumeric(m){return Mt.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return Mt.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,v){let y=0;for(const w of m){const x=w.mode.numCharCountBits(v);if(w.numChars>=1<<x)return 1/0;y+=4+x+w.bitData.length}return y}static toUtf8ByteArray(m){m=encodeURI(m);let v=[];for(let y=0;y<m.length;y++)m.charAt(y)!="%"?v.push(m.charCodeAt(y)):(v.push(parseInt(m.substring(y+1,y+3),16)),y+=2);return v}};h.NUMERIC_REGEX=/^[0-9]*$/,h.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,h.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let g=h;r.QrSegment=h})(Di||(Di={}));(r=>{(l=>{const i=class{constructor(c,h){this.ordinal=c,this.formatBits=h}};i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),l.Ecc=i})(r.QrCode||(r.QrCode={}))})(Di||(Di={}));(r=>{(l=>{const i=class{constructor(c,h){this.modeBits=c,this.numBitsCharCount=h}numCharCountBits(c){return this.numBitsCharCount[Math.floor((c+7)/17)]}};i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),l.Mode=i})(r.QrSegment||(r.QrSegment={}))})(Di||(Di={}));var Cl=Di;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var OS={L:Cl.QrCode.Ecc.LOW,M:Cl.QrCode.Ecc.MEDIUM,Q:Cl.QrCode.Ecc.QUARTILE,H:Cl.QrCode.Ecc.HIGH},Ug=128,Ng="L",kg="#FFFFFF",zg="#000000",Bg=!1,qg=1,TS=4,CS=0,RS=.1;function Lg(r,l=0){const i=[];return r.forEach(function(u,c){let h=null;u.forEach(function(g,_){if(!g&&h!==null){i.push(`M${h+l} ${c+l}h${_-h}v1H${h+l}z`),h=null;return}if(_===u.length-1){if(!g)return;h===null?i.push(`M${_+l},${c+l} h1v1H${_+l}z`):i.push(`M${h+l},${c+l} h${_+1-h}v1H${h+l}z`);return}g&&h===null&&(h=_)})}),i.join("")}function Hg(r,l){return r.slice().map((i,u)=>u<l.y||u>=l.y+l.h?i:i.map((c,h)=>h<l.x||h>=l.x+l.w?c:!1))}function DS(r,l,i,u){if(u==null)return null;const c=r.length+i*2,h=Math.floor(l*RS),g=c/l,_=(u.width||h)*g,m=(u.height||h)*g,v=u.x==null?r.length/2-_/2:u.x*g,y=u.y==null?r.length/2-m/2:u.y*g,w=u.opacity==null?1:u.opacity;let x=null;if(u.excavate){let D=Math.floor(v),N=Math.floor(y),L=Math.ceil(_+v-D),ae=Math.ceil(m+y-N);x={x:D,y:N,w:L,h:ae}}const T=u.crossOrigin;return{x:v,y,h:m,w:_,excavation:x,opacity:w,crossOrigin:T}}function MS(r,l){return l!=null?Math.max(Math.floor(l),0):r?TS:CS}function Kg({value:r,level:l,minVersion:i,includeMargin:u,marginSize:c,imageSettings:h,size:g,boostLevel:_}){let m=Vt.useMemo(()=>{const D=(Array.isArray(r)?r:[r]).reduce((N,L)=>(N.push(...Cl.QrSegment.makeSegments(L)),N),[]);return Cl.QrCode.encodeSegments(D,OS[l],i,void 0,void 0,_)},[r,l,i,_]);const{cells:v,margin:y,numCells:w,calculatedImageSettings:x}=Vt.useMemo(()=>{let T=m.getModules();const D=MS(u,c),N=T.length+D*2,L=DS(T,g,D,h);return{cells:T,margin:D,numCells:N,calculatedImageSettings:L}},[m,g,h,u,c]);return{qrcode:m,margin:y,cells:v,numCells:w,calculatedImageSettings:x}}var jS=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),US=Vt.forwardRef(function(l,i){const u=l,{value:c,size:h=Ug,level:g=Ng,bgColor:_=kg,fgColor:m=zg,includeMargin:v=Bg,minVersion:y=qg,boostLevel:w,marginSize:x,imageSettings:T}=u,N=Bd(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:L}=N,ae=Bd(N,["style"]),ie=T?.src,K=Vt.useRef(null),fe=Vt.useRef(null),be=Vt.useCallback(me=>{K.current=me,typeof i=="function"?i(me):i&&(i.current=me)},[i]),[de,xe]=Vt.useState(!1),{margin:Ue,cells:ke,numCells:Ce,calculatedImageSettings:we}=Kg({value:c,level:g,minVersion:y,boostLevel:w,includeMargin:v,marginSize:x,imageSettings:T,size:h});Vt.useEffect(()=>{if(K.current!=null){const me=K.current,Ee=me.getContext("2d");if(!Ee)return;let I=ke;const ye=fe.current,Re=we!=null&&ye!==null&&ye.complete&&ye.naturalHeight!==0&&ye.naturalWidth!==0;Re&&we.excavation!=null&&(I=Hg(ke,we.excavation));const he=window.devicePixelRatio||1;me.height=me.width=h*he;const R=h/Ce*he;Ee.scale(R,R),Ee.fillStyle=_,Ee.fillRect(0,0,Ce,Ce),Ee.fillStyle=m,jS?Ee.fill(new Path2D(Lg(I,Ue))):ke.forEach(function(J,ne){J.forEach(function(oe,Te){oe&&Ee.fillRect(Te+Ue,ne+Ue,1,1)})}),we&&(Ee.globalAlpha=we.opacity),Re&&Ee.drawImage(ye,we.x+Ue,we.y+Ue,we.w,we.h)}}),Vt.useEffect(()=>{xe(!1)},[ie]);const Me=zd({height:h,width:h},L);let Se=null;return ie!=null&&(Se=Vt.createElement("img",{src:ie,key:ie,style:{display:"none"},onLoad:()=>{xe(!0)},ref:fe,crossOrigin:we?.crossOrigin})),Vt.createElement(Vt.Fragment,null,Vt.createElement("canvas",zd({style:Me,height:h,width:h,ref:be,role:"img"},ae)),Se)});US.displayName="QRCodeCanvas";var Yg=Vt.forwardRef(function(l,i){const u=l,{value:c,size:h=Ug,level:g=Ng,bgColor:_=kg,fgColor:m=zg,includeMargin:v=Bg,minVersion:y=qg,boostLevel:w,title:x,marginSize:T,imageSettings:D}=u,N=Bd(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:L,cells:ae,numCells:ie,calculatedImageSettings:K}=Kg({value:c,level:g,minVersion:y,boostLevel:w,includeMargin:v,marginSize:T,imageSettings:D,size:h});let fe=ae,be=null;D!=null&&K!=null&&(K.excavation!=null&&(fe=Hg(ae,K.excavation)),be=Vt.createElement("image",{href:D.src,height:K.h,width:K.w,x:K.x+L,y:K.y+L,preserveAspectRatio:"none",opacity:K.opacity,crossOrigin:K.crossOrigin}));const de=Lg(fe,L);return Vt.createElement("svg",zd({height:h,width:h,viewBox:`0 0 ${ie} ${ie}`,ref:i,role:"img"},N),!!x&&Vt.createElement("title",null,x),Vt.createElement("path",{fill:_,d:`M0,0 h${ie}v${ie}H0z`,shapeRendering:"crispEdges"}),Vt.createElement("path",{fill:m,d:de,shapeRendering:"crispEdges"}),be)});Yg.displayName="QRCodeSVG";function NS(){const[r,l]=Ne.useState([]),[i,u]=Ne.useState("");Ne.useEffect(()=>{async function g(){await it.open();const _=await it.songs.toArray();l(_)}g()},[]);const c=r.find(g=>g.id===i),h=c?JSON.stringify(c):"";return re.jsxs("div",{children:[re.jsx("h2",{children:"Share Song"}),re.jsxs("select",{value:i,onChange:g=>u(g.target.value),children:[re.jsx("option",{value:"",children:"Select a song"}),r.map(g=>re.jsx("option",{value:g.id,children:g.name},g.id))]}),h&&re.jsx("div",{children:re.jsx(Yg,{value:h,size:200})})]})}function kS(){const r=Ne.useRef(null),[l,i]=Ne.useState("");return Ne.useEffect(()=>{let u,c=!0;async function h(){try{if(u=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),r.current&&(r.current.srcObject=u,await r.current.play()),"BarcodeDetector"in window){const g=new window.BarcodeDetector({formats:["qr_code"]});async function _(){if(!(!c||!r.current)){try{const m=await g.detect(r.current);if(m.length){const v=m[0].rawValue;if(v){c=!1;try{const y=JSON.parse(v);await it.open(),await it.songs.put(y),i(`Added song: ${y.name}`)}catch{i("Invalid QR code")}u.getTracks().forEach(y=>y.stop());return}}}catch{}requestAnimationFrame(_)}}requestAnimationFrame(_)}else i("Barcode detector not supported")}catch{i("Camera unavailable")}}return h(),()=>{c=!1,u&&u.getTracks().forEach(g=>g.stop())}},[]),re.jsxs("div",{children:[re.jsx("h2",{children:"Scan Song"}),re.jsx("video",{ref:r,className:"qr-video"}),l&&re.jsx("p",{children:l})]})}function zS(){const[r,l]=Ne.useState(!1);return Ne.useEffect(()=>{const i=document.querySelectorAll(".dont.print");r?i.forEach(u=>{u.classList.add("hidden")}):i.forEach(u=>{u.classList.remove("hidden")})},[r]),re.jsxs(re.Fragment,{children:[re.jsxs("button",{className:"print mode button",type:"button",onClick:()=>l(!r),children:[lr.DEVICE.PRINTER,""]}),re.jsxs(bb,{name:"live",initial:"idle",children:[re.jsx(wb,{}),re.jsxs("div",{className:"main container",children:[re.jsx(Jn,{name:"idle",children:re.jsx(Eb,{})}),re.jsx(Jn,{name:"songs",children:re.jsx(vS,{})}),re.jsx(Jn,{name:"song-add",children:re.jsx(pS,{})}),re.jsx(Jn,{name:"song-edit",children:re.jsx(mS,{})}),re.jsx(Jn,{name:"song-view",children:re.jsx(xS,{})}),re.jsx(Jn,{name:"sets",children:re.jsx(gS,{})}),re.jsx(Jn,{name:"set-add",children:re.jsx(bS,{})}),re.jsx(Jn,{name:"set-edit",children:re.jsx(_S,{})}),re.jsx(Jn,{name:"set-view",children:re.jsx(SS,{})}),re.jsx(Jn,{name:"share",children:re.jsx(NS,{})}),re.jsx(Jn,{name:"share-scan",children:re.jsx(kS,{})}),re.jsx(Jn,{name:"settings",children:re.jsx(ES,{})})]}),re.jsx(Sb,{})]})]})}yb.createRoot(document.getElementById("root")).render(re.jsx(Ne.StrictMode,{children:re.jsx(zS,{})}));gb({immediate:!0});
