(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function i(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(f){if(f.ep)return;f.ep=!0;const h=i(f);fetch(f.href,h)}})();var Ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Qf={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Bg(){if(qv)return Jl;qv=1;var a=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function i(l,f,h){var m=null;if(h!==void 0&&(m=""+h),f.key!==void 0&&(m=""+f.key),"key"in f){h={};for(var g in f)g!=="key"&&(h[g]=f[g])}else h=f;return f=h.ref,{$$typeof:a,type:l,key:m,ref:f!==void 0?f:null,props:h}}return Jl.Fragment=u,Jl.jsx=i,Jl.jsxs=i,Jl}var Hv;function qg(){return Hv||(Hv=1,Qf.exports=Bg()),Qf.exports}var be=qg(),Xf={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function Hg(){if(Kv)return Ie;Kv=1;var a=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),O=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,I={};function ne(D,J,te){this.props=D,this.context=J,this.refs=I,this.updater=te||j}ne.prototype.isReactComponent={},ne.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},ne.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function se(){}se.prototype=ne.prototype;function pe(D,J,te){this.props=D,this.context=J,this.refs=I,this.updater=te||j}var ee=pe.prototype=new se;ee.constructor=pe,q(ee,ne.prototype),ee.isPureReactComponent=!0;var me=Array.isArray,xe={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function we(D,J,te,ue,Oe,qe){return te=qe.ref,{$$typeof:a,type:D,key:J,ref:te!==void 0?te:null,props:qe}}function Be(D,J){return we(D.type,J,void 0,void 0,void 0,D.props)}function Ne(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function De(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return J[te]})}var je=/\/+/g;function Ce(D,J){return typeof D=="object"&&D!==null&&D.key!=null?De(""+D.key):J.toString(36)}function ge(){}function _e(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ge,ge):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Ae(D,J,te,ue,Oe){var qe=typeof D;(qe==="undefined"||qe==="boolean")&&(D=null);var He=!1;if(D===null)He=!0;else switch(qe){case"bigint":case"string":case"number":He=!0;break;case"object":switch(D.$$typeof){case a:case u:He=!0;break;case v:return He=D._init,Ae(He(D._payload),J,te,ue,Oe)}}if(He)return Oe=Oe(D),He=ue===""?"."+Ce(D,0):ue,me(Oe)?(te="",He!=null&&(te=He.replace(je,"$&/")+"/"),Ae(Oe,J,te,"",function(ze){return ze})):Oe!=null&&(Ne(Oe)&&(Oe=Be(Oe,te+(Oe.key==null||D&&D.key===Oe.key?"":(""+Oe.key).replace(je,"$&/")+"/")+He)),J.push(Oe)),1;He=0;var Qt=ue===""?".":ue+":";if(me(D))for(var bt=0;bt<D.length;bt++)ue=D[bt],qe=Qt+Ce(ue,bt),He+=Ae(ue,J,te,qe,Oe);else if(bt=A(D),typeof bt=="function")for(D=bt.call(D),bt=0;!(ue=D.next()).done;)ue=ue.value,qe=Qt+Ce(ue,bt++),He+=Ae(ue,J,te,qe,Oe);else if(qe==="object"){if(typeof D.then=="function")return Ae(_e(D),J,te,ue,Oe);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return He}function Q(D,J,te){if(D==null)return D;var ue=[],Oe=0;return Ae(D,ue,"","",function(qe){return J.call(te,qe,Oe++)}),ue}function fe(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var Re=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ce(){}return Ie.Children={map:Q,forEach:function(D,J,te){Q(D,function(){J.apply(this,arguments)},te)},count:function(D){var J=0;return Q(D,function(){J++}),J},toArray:function(D){return Q(D,function(J){return J})||[]},only:function(D){if(!Ne(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ie.Component=ne,Ie.Fragment=i,Ie.Profiler=f,Ie.PureComponent=pe,Ie.StrictMode=l,Ie.Suspense=S,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xe,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(D){return xe.H.useMemoCache(D)}},Ie.cache=function(D){return function(){return D.apply(null,arguments)}},Ie.cloneElement=function(D,J,te){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ue=q({},D.props),Oe=D.key,qe=void 0;if(J!=null)for(He in J.ref!==void 0&&(qe=void 0),J.key!==void 0&&(Oe=""+J.key),J)!oe.call(J,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&J.ref===void 0||(ue[He]=J[He]);var He=arguments.length-2;if(He===1)ue.children=te;else if(1<He){for(var Qt=Array(He),bt=0;bt<He;bt++)Qt[bt]=arguments[bt+2];ue.children=Qt}return we(D.type,Oe,void 0,void 0,qe,ue)},Ie.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Ie.createElement=function(D,J,te){var ue,Oe={},qe=null;if(J!=null)for(ue in J.key!==void 0&&(qe=""+J.key),J)oe.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Oe[ue]=J[ue]);var He=arguments.length-2;if(He===1)Oe.children=te;else if(1<He){for(var Qt=Array(He),bt=0;bt<He;bt++)Qt[bt]=arguments[bt+2];Oe.children=Qt}if(D&&D.defaultProps)for(ue in He=D.defaultProps,He)Oe[ue]===void 0&&(Oe[ue]=He[ue]);return we(D,qe,void 0,void 0,null,Oe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:g,render:D}},Ie.isValidElement=Ne,Ie.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:fe}},Ie.memo=function(D,J){return{$$typeof:b,type:D,compare:J===void 0?null:J}},Ie.startTransition=function(D){var J=xe.T,te={};xe.T=te;try{var ue=D(),Oe=xe.S;Oe!==null&&Oe(te,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ce,Re)}catch(qe){Re(qe)}finally{xe.T=J}},Ie.unstable_useCacheRefresh=function(){return xe.H.useCacheRefresh()},Ie.use=function(D){return xe.H.use(D)},Ie.useActionState=function(D,J,te){return xe.H.useActionState(D,J,te)},Ie.useCallback=function(D,J){return xe.H.useCallback(D,J)},Ie.useContext=function(D){return xe.H.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D,J){return xe.H.useDeferredValue(D,J)},Ie.useEffect=function(D,J,te){var ue=xe.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(D,J)},Ie.useId=function(){return xe.H.useId()},Ie.useImperativeHandle=function(D,J,te){return xe.H.useImperativeHandle(D,J,te)},Ie.useInsertionEffect=function(D,J){return xe.H.useInsertionEffect(D,J)},Ie.useLayoutEffect=function(D,J){return xe.H.useLayoutEffect(D,J)},Ie.useMemo=function(D,J){return xe.H.useMemo(D,J)},Ie.useOptimistic=function(D,J){return xe.H.useOptimistic(D,J)},Ie.useReducer=function(D,J,te){return xe.H.useReducer(D,J,te)},Ie.useRef=function(D){return xe.H.useRef(D)},Ie.useState=function(D){return xe.H.useState(D)},Ie.useSyncExternalStore=function(D,J,te){return xe.H.useSyncExternalStore(D,J,te)},Ie.useTransition=function(){return xe.H.useTransition()},Ie.version="19.1.0",Ie}var Lv;function Dd(){return Lv||(Lv=1,Xf.exports=Hg()),Xf.exports}var $e=Dd(),Zf={exports:{}},$l={},Jf={exports:{}},$f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function Kg(){return Yv||(Yv=1,function(a){function u(Q,fe){var Re=Q.length;Q.push(fe);e:for(;0<Re;){var ce=Re-1>>>1,D=Q[ce];if(0<f(D,fe))Q[ce]=fe,Q[Re]=D,Re=ce;else break e}}function i(Q){return Q.length===0?null:Q[0]}function l(Q){if(Q.length===0)return null;var fe=Q[0],Re=Q.pop();if(Re!==fe){Q[0]=Re;e:for(var ce=0,D=Q.length,J=D>>>1;ce<J;){var te=2*(ce+1)-1,ue=Q[te],Oe=te+1,qe=Q[Oe];if(0>f(ue,Re))Oe<D&&0>f(qe,ue)?(Q[ce]=qe,Q[Oe]=Re,ce=Oe):(Q[ce]=ue,Q[te]=Re,ce=te);else if(Oe<D&&0>f(qe,Re))Q[ce]=qe,Q[Oe]=Re,ce=Oe;else break e}}return fe}function f(Q,fe){var Re=Q.sortIndex-fe.sortIndex;return Re!==0?Re:Q.id-fe.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var m=Date,g=m.now();a.unstable_now=function(){return m.now()-g}}var S=[],b=[],v=1,O=null,A=3,j=!1,q=!1,I=!1,ne=!1,se=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function me(Q){for(var fe=i(b);fe!==null;){if(fe.callback===null)l(b);else if(fe.startTime<=Q)l(b),fe.sortIndex=fe.expirationTime,u(S,fe);else break;fe=i(b)}}function xe(Q){if(I=!1,me(Q),!q)if(i(S)!==null)q=!0,oe||(oe=!0,Ce());else{var fe=i(b);fe!==null&&Ae(xe,fe.startTime-Q)}}var oe=!1,we=-1,Be=5,Ne=-1;function De(){return ne?!0:!(a.unstable_now()-Ne<Be)}function je(){if(ne=!1,oe){var Q=a.unstable_now();Ne=Q;var fe=!0;try{e:{q=!1,I&&(I=!1,pe(we),we=-1),j=!0;var Re=A;try{t:{for(me(Q),O=i(S);O!==null&&!(O.expirationTime>Q&&De());){var ce=O.callback;if(typeof ce=="function"){O.callback=null,A=O.priorityLevel;var D=ce(O.expirationTime<=Q);if(Q=a.unstable_now(),typeof D=="function"){O.callback=D,me(Q),fe=!0;break t}O===i(S)&&l(S),me(Q)}else l(S);O=i(S)}if(O!==null)fe=!0;else{var J=i(b);J!==null&&Ae(xe,J.startTime-Q),fe=!1}}break e}finally{O=null,A=Re,j=!1}fe=void 0}}finally{fe?Ce():oe=!1}}}var Ce;if(typeof ee=="function")Ce=function(){ee(je)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,_e=ge.port2;ge.port1.onmessage=je,Ce=function(){_e.postMessage(null)}}else Ce=function(){se(je,0)};function Ae(Q,fe){we=se(function(){Q(a.unstable_now())},fe)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var fe=3;break;default:fe=A}var Re=A;A=fe;try{return Q()}finally{A=Re}},a.unstable_requestPaint=function(){ne=!0},a.unstable_runWithPriority=function(Q,fe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Re=A;A=Q;try{return fe()}finally{A=Re}},a.unstable_scheduleCallback=function(Q,fe,Re){var ce=a.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?ce+Re:ce):Re=ce,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Re+D,Q={id:v++,callback:fe,priorityLevel:Q,startTime:Re,expirationTime:D,sortIndex:-1},Re>ce?(Q.sortIndex=Re,u(b,Q),i(S)===null&&Q===i(b)&&(I?(pe(we),we=-1):I=!0,Ae(xe,Re-ce))):(Q.sortIndex=D,u(S,Q),q||j||(q=!0,oe||(oe=!0,Ce()))),Q},a.unstable_shouldYield=De,a.unstable_wrapCallback=function(Q){var fe=A;return function(){var Re=A;A=fe;try{return Q.apply(this,arguments)}finally{A=Re}}}}($f)),$f}var Gv;function Lg(){return Gv||(Gv=1,Jf.exports=Kg()),Jf.exports}var If={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function Yg(){if(Vv)return cn;Vv=1;var a=Dd();function u(S){var b="https://react.dev/errors/"+S;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)b+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+S+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(u(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},f=Symbol.for("react.portal");function h(S,b,v){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:O==null?null:""+O,children:S,containerInfo:b,implementation:v}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(S,b){if(S==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,cn.createPortal=function(S,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(u(299));return h(S,b,null,v)},cn.flushSync=function(S){var b=m.T,v=l.p;try{if(m.T=null,l.p=2,S)return S()}finally{m.T=b,l.p=v,l.d.f()}},cn.preconnect=function(S,b){typeof S=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,l.d.C(S,b))},cn.prefetchDNS=function(S){typeof S=="string"&&l.d.D(S)},cn.preinit=function(S,b){if(typeof S=="string"&&b&&typeof b.as=="string"){var v=b.as,O=g(v,b.crossOrigin),A=typeof b.integrity=="string"?b.integrity:void 0,j=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;v==="style"?l.d.S(S,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:O,integrity:A,fetchPriority:j}):v==="script"&&l.d.X(S,{crossOrigin:O,integrity:A,fetchPriority:j,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},cn.preinitModule=function(S,b){if(typeof S=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var v=g(b.as,b.crossOrigin);l.d.M(S,{crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&l.d.M(S)},cn.preload=function(S,b){if(typeof S=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var v=b.as,O=g(v,b.crossOrigin);l.d.L(S,v,{crossOrigin:O,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},cn.preloadModule=function(S,b){if(typeof S=="string")if(b){var v=g(b.as,b.crossOrigin);l.d.m(S,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else l.d.m(S)},cn.requestFormReset=function(S){l.d.r(S)},cn.unstable_batchedUpdates=function(S,b){return S(b)},cn.useFormState=function(S,b,v){return m.H.useFormState(S,b,v)},cn.useFormStatus=function(){return m.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var Qv;function Gg(){if(Qv)return If.exports;Qv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(u){console.error(u)}}return a(),If.exports=Yg(),If.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function Vg(){if(Xv)return $l;Xv=1;var a=Lg(),u=Dd(),i=Gg();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(l(188))}function S(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var c=n.return;if(c===null)break;var d=c.alternate;if(d===null){if(r=c.return,r!==null){n=r;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===n)return g(c),e;if(d===r)return g(c),t;d=d.sibling}throw Error(l(188))}if(n.return!==r.return)n=c,r=d;else{for(var _=!1,x=c.child;x;){if(x===n){_=!0,n=c,r=d;break}if(x===r){_=!0,r=c,n=d;break}x=x.sibling}if(!_){for(x=d.child;x;){if(x===n){_=!0,n=d,r=c;break}if(x===r){_=!0,r=d,n=c;break}x=x.sibling}if(!_)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,O=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),pe=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),De=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case ne:return"Profiler";case I:return"StrictMode";case xe:return"Suspense";case oe:return"SuspenseList";case Ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case ee:return(e.displayName||"Context")+".Provider";case pe:return(e._context.displayName||"Context")+".Consumer";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case we:return t=e.displayName||null,t!==null?t:_e(e.type)||"Memo";case Be:t=e._payload,e=e._init;try{return _e(e(t))}catch{}}return null}var Ae=Array.isArray,Q=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},ce=[],D=-1;function J(e){return{current:e}}function te(e){0>D||(e.current=ce[D],ce[D]=null,D--)}function ue(e,t){D++,ce[D]=e.current,e.current=t}var Oe=J(null),qe=J(null),He=J(null),Qt=J(null);function bt(e,t){switch(ue(He,t),ue(qe,e),ue(Oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dv(t),e=hv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(Oe),ue(Oe,e)}function ze(){te(Oe),te(qe),te(He)}function Ai(e){e.memoizedState!==null&&ue(Qt,e);var t=Oe.current,n=hv(t,e.type);t!==n&&(ue(qe,e),ue(Oe,n))}function Er(e){qe.current===e&&(te(Oe),te(qe)),Qt.current===e&&(te(Qt),Gl._currentValue=Re)}var ut=Object.prototype.hasOwnProperty,xr=a.unstable_scheduleCallback,Bu=a.unstable_cancelCallback,Or=a.unstable_shouldYield,ns=a.unstable_requestPaint,Mn=a.unstable_now,rs=a.unstable_getCurrentPriorityLevel,so=a.unstable_ImmediatePriority,Ti=a.unstable_UserBlockingPriority,sn=a.unstable_NormalPriority,fo=a.unstable_LowPriority,oa=a.unstable_IdlePriority,ho=a.log,Wa=a.unstable_setDisableYieldValue,_n=null,jt=null;function kn(e){if(typeof ho=="function"&&Wa(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(_n,e)}catch{}}var Ht=Math.clz32?Math.clz32:Ar,qu=Math.log,Di=Math.LN2;function Ar(e){return e>>>=0,e===0?32:31-(qu(e)/Di|0)|0}var Tr=256,ca=4194304;function rn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var c=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var x=r&134217727;return x!==0?(r=x&~d,r!==0?c=rn(r):(_&=x,_!==0?c=rn(_):n||(n=x&~e,n!==0&&(c=rn(n))))):(x=r&~d,x!==0?c=rn(x):_!==0?c=rn(_):n||(n=r&~e,n!==0&&(c=rn(n)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:c}function Zn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Dr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fa(){var e=Tr;return Tr<<=1,(Tr&4194048)===0&&(Tr=256),e}function Te(){var e=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),e}function ei(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hu(e,t,n,r,c,d){var _=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,C=e.expirationTimes,X=e.hiddenUpdates;for(n=_&~n;0<n;){var ae=31-Ht(n),le=1<<ae;x[ae]=0,C[ae]=-1;var $=X[ae];if($!==null)for(X[ae]=null,ae=0;ae<$.length;ae++){var P=$[ae];P!==null&&(P.lane&=-536870913)}n&=~le}r!==0&&Ku(e,r,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~t))}function Ku(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ht(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function ji(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ht(n),c=1<<r;c&t|e[r]&t&&(e[r]|=t),n&=~c}}function Lu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jr(){var e=fe.p;return e!==0?e:(e=window.event,e===void 0?32:Uv(e.type))}function fa(e,t){var n=fe.p;try{return fe.p=e,t()}finally{fe.p=n}}var Nn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Nn,We="__reactProps$"+Nn,_t="__reactContainer$"+Nn,Gu="__reactEvents$"+Nn,Ri="__reactListeners$"+Nn,Ci="__reactHandles$"+Nn,ti="__reactResources$"+Nn,ni="__reactMarker$"+Nn;function zn(e){delete e[Rt],delete e[We],delete e[Gu],delete e[Ri],delete e[Ci]}function Sn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_t]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mv(e);e!==null;){if(n=e[Rt])return n;e=mv(e)}return t}e=n,n=e.parentNode}return null}function fn(e){if(e=e[Rt]||e[_t]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function tr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function da(e){var t=e[ti];return t||(t=e[ti]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function vt(e){e[ni]=!0}var Vu=new Set,nr={};function rr(e,t){ar(e,t),ar(e+"Capture",t)}function ar(e,t){for(nr[e]=t,e=0;e<t.length;e++)Vu.add(t[e])}var xt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ir={},Bn={};function yo(e){return ut.call(Bn,e)?!0:ut.call(ir,e)?!1:xt.test(e)?Bn[e]=!0:(ir[e]=!0,!1)}function Jn(e,t,n){if(yo(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Rr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function wn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var ri,ur;function Cr(e){if(ri===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ri=t&&t[1]||"",ur=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ri+e+ur}var ha=!1;function Ui(e,t){if(!e||ha)return"";ha=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(P){var $=P}Reflect.construct(e,[],le)}else{try{le.call()}catch(P){$=P}e.call(le.prototype)}}else{try{throw Error()}catch(P){$=P}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(P){if(P&&$&&typeof P.stack=="string")return[P.stack,$.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),_=d[0],x=d[1];if(_&&x){var C=_.split(`
`),X=x.split(`
`);for(c=r=0;r<C.length&&!C[r].includes("DetermineComponentFrameRoot");)r++;for(;c<X.length&&!X[c].includes("DetermineComponentFrameRoot");)c++;if(r===C.length||c===X.length)for(r=C.length-1,c=X.length-1;1<=r&&0<=c&&C[r]!==X[c];)c--;for(;1<=r&&0<=c;r--,c--)if(C[r]!==X[c]){if(r!==1||c!==1)do if(r--,c--,0>c||C[r]!==X[c]){var ae=`
`+C[r].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=r&&0<=c);break}}}finally{ha=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Cr(n):""}function tt(e){switch(e.tag){case 26:case 27:case 5:return Cr(e.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 15:return Ui(e.type,!1);case 11:return Ui(e.type.render,!1);case 1:return Ui(e.type,!0);case 31:return Cr("Activity");default:return""}}function Qu(e){try{var t="";do t+=tt(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pt(e){var t=Xu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(_){r=""+_,d.call(this,_)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lr(e){e._valueTracker||(e._valueTracker=pt(e))}function ya(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $n(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zu=/[\n"\\]/g;function an(e){return e.replace(Zu,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function va(e,t,n,r,c,d,_,x){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+dn(t)):e.value!==""+dn(t)&&(e.value=""+dn(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?pa(e,_,dn(t)):n!=null?pa(e,_,dn(n)):r!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+dn(x):e.removeAttribute("name")}function Ju(e,t,n,r,c,d,_,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;n=n!=null?""+dn(n):"",t=t!=null?""+dn(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=x?e.checked:!!r,e.defaultChecked=!!r,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function pa(e,t,n){t==="number"&&$n(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ur(e,t,n,r){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function ma(e,t,n){if(t!=null&&(t=""+dn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+dn(n):""}function $u(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(l(92));if(Ae(r)){if(1<r.length)throw Error(l(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=dn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var at=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mi(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||at.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function vo(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&n[c]!==r&&Mi(e,c,r)}else for(var d in t)t.hasOwnProperty(d)&&Mi(e,d,t[d])}function Iu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ga=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(e){return ga.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var qn=null;function ki(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kr=null,St=null;function En(e){var t=fn(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(va(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+an(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var c=r[We]||null;if(!c)throw Error(l(90));va(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&ya(r)}break e;case"textarea":ma(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ur(e,!!n.multiple,t,!1)}}}var Nr=!1;function _a(e,t,n){if(Nr)return e(t,n);Nr=!0;try{var r=e(t);return r}finally{if(Nr=!1,(kr!==null||St!==null)&&(rc(),kr&&(t=kr,e=St,St=kr=null,En(t),e)))for(t=0;t<e.length;t++)En(e[t])}}function zr(e,t){var n=e.stateNode;if(n===null)return null;var r=n[We]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pu=!1;if(Xt)try{var un={};Object.defineProperty(un,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Pu=!1}var Hn=null,Ni=null,Sa=null;function wa(){if(Sa)return Sa;var e,t=Ni,n=t.length,r,c="value"in Hn?Hn.value:Hn.textContent,d=c.length;for(e=0;e<n&&t[e]===c[e];e++);var _=n-e;for(r=1;r<=_&&t[n-r]===c[d-r];r++);return Sa=c.slice(e,1<r?1-r:void 0)}function Ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function po(){return!1}function kt(e){function t(n,r,c,d,_){this._reactName=n,this._targetInst=c,this.type=r,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:po,this.isPropagationStopped=po,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=kt(Br),or=v({},Br,{view:0,detail:0}),Bi=kt(or),ii,Wu,ui,qi=v({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(ii=e.screenX-ui.screenX,Wu=e.screenY-ui.screenY):Wu=ii=0,ui=e),ii)},movementY:function(e){return"movementY"in e?e.movementY:Wu}}),Hi=kt(qi),Fu=v({},qi,{dataTransfer:0}),mo=kt(Fu),Ki=v({},or,{relatedTarget:0}),xa=kt(Ki),Li=v({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),bo=kt(Li),as=v({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yi=kt(as),el=v({},Br,{data:0}),Gi=kt(el),tl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function li(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zt[e])?!!t[e]:!1}function qr(){return li}var go=v({},or,{key:function(e){if(e.key){var t=tl[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vi=kt(go),_o=v({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=kt(_o),Qi=v({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),al=kt(Qi),Hr=v({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),il=kt(Hr),ul=v({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xi=kt(ul),ll=v({},Br,{newState:0,oldState:0}),So=kt(ll),is=[9,13,27,32],oi=Xt&&"CompositionEvent"in window,cr=null;Xt&&"documentMode"in document&&(cr=document.documentMode);var us=Xt&&"TextEvent"in window&&!cr,Zi=Xt&&(!oi||cr&&8<cr&&11>=cr),Ji=" ",wo=!1;function ol(e,t){switch(e){case"keyup":return is.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kr=!1;function xo(e,t){switch(e){case"compositionend":return Eo(t);case"keypress":return t.which!==32?null:(wo=!0,Ji);case"textInput":return e=t.data,e===Ji&&wo?null:e;default:return null}}function ls(e,t){if(Kr)return e==="compositionend"||!oi&&ol(e,t)?(e=wa(),Sa=Ni=Hn=null,Kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zi&&t.locale!=="ko"?null:t.data;default:return null}}var Oo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $i(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Oo[e.type]:t==="textarea"}function cl(e,t,n,r){kr?St?St.push(r):St=[r]:kr=r,t=cc(t,"onChange"),0<t.length&&(n=new zi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Oa=null,ci=null;function os(e){lv(e,0)}function Ii(e){var t=tr(e);if(ya(t))return e}function si(e,t){if(e==="change")return t}var Kn=!1;if(Xt){var wt;if(Xt){var Aa="oninput"in document;if(!Aa){var yn=document.createElement("div");yn.setAttribute("oninput","return;"),Aa=typeof yn.oninput=="function"}wt=Aa}else wt=!1;Kn=wt&&(!document.documentMode||9<document.documentMode)}function Ao(){Oa&&(Oa.detachEvent("onpropertychange",Pi),ci=Oa=null)}function Pi(e){if(e.propertyName==="value"&&Ii(ci)){var t=[];cl(t,ci,e,ki(e)),_a(os,t)}}function To(e,t,n){e==="focusin"?(Ao(),Oa=t,ci=n,Oa.attachEvent("onpropertychange",Pi)):e==="focusout"&&Ao()}function Lr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ii(ci)}function sl(e,t){if(e==="click")return Ii(t)}function Ta(e,t){if(e==="input"||e==="change")return Ii(t)}function sr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:sr;function o(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var c=n[r];if(!ut.call(t,c)||!ln(e[c],t[c]))return!1}return!0}function s(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y(e,t){var n=s(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s(n)}}function p(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?p(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$n(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$n(e.document)}return t}function E(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var T=Xt&&"documentMode"in document&&11>=document.documentMode,R=null,k=null,z=null,K=!1;function U(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;K||R==null||R!==$n(r)||(r=R,"selectionStart"in r&&E(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),z&&o(z,r)||(z=r,r=cc(k,"onSelect"),0<r.length&&(t=new zi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=R)))}function Y(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var M={animationend:Y("Animation","AnimationEnd"),animationiteration:Y("Animation","AnimationIteration"),animationstart:Y("Animation","AnimationStart"),transitionrun:Y("Transition","TransitionRun"),transitionstart:Y("Transition","TransitionStart"),transitioncancel:Y("Transition","TransitionCancel"),transitionend:Y("Transition","TransitionEnd")},H={},G={};Xt&&(G=document.createElement("div").style,"AnimationEvent"in window||(delete M.animationend.animation,delete M.animationiteration.animation,delete M.animationstart.animation),"TransitionEvent"in window||delete M.transitionend.transition);function B(e){if(H[e])return H[e];if(!M[e])return e;var t=M[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in G)return H[e]=t[n];return e}var Z=B("animationend"),W=B("animationiteration"),F=B("animationstart"),re=B("transitionrun"),ye=B("transitionstart"),Se=B("transitioncancel"),de=B("transitionend"),ve=new Map,Ee="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ee.push("scrollEnd");function he(e,t){ve.set(e,t),rr(t,[e])}var Ue=new WeakMap;function Ye(e,t){if(typeof e=="object"&&e!==null){var n=Ue.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Qu(t)},Ue.set(e,t),t)}return{value:e,source:t,stack:Qu(t)}}var Ge=[],Je=0,Wt=0;function Xe(){for(var e=Je,t=Wt=Je=0;t<e;){var n=Ge[t];Ge[t++]=null;var r=Ge[t];Ge[t++]=null;var c=Ge[t];Ge[t++]=null;var d=Ge[t];if(Ge[t++]=null,r!==null&&c!==null){var _=r.pending;_===null?c.next=c:(c.next=_.next,_.next=c),r.pending=c}d!==0&&Jt(n,c,d)}}function Ct(e,t,n,r){Ge[Je++]=e,Ge[Je++]=t,Ge[Je++]=n,Ge[Je++]=r,Wt|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Nt(e,t,n,r){return Ct(e,t,n,r),Ln(e)}function In(e,t){return Ct(e,null,null,t),Ln(e)}function Jt(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var c=!1,d=e.return;d!==null;)d.childLanes|=n,r=d.alternate,r!==null&&(r.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-Ht(n),e=d.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=n|536870912),d):null}function Ln(e){if(50<Nl)throw Nl=0,vf=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var fr={};function _b(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,r){return new _b(e,t,n,r)}function cs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yr(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Xd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Do(e,t,n,r,c,d){var _=0;if(r=e,typeof e=="function")cs(e)&&(_=1);else if(typeof e=="string")_=wg(e,n,Oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ne:return e=xn(31,n,t,c),e.elementType=Ne,e.lanes=d,e;case q:return fi(n.children,c,d,t);case I:_=8,c|=24;break;case ne:return e=xn(12,n,t,c|2),e.elementType=ne,e.lanes=d,e;case xe:return e=xn(13,n,t,c),e.elementType=xe,e.lanes=d,e;case oe:return e=xn(19,n,t,c),e.elementType=oe,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:case ee:_=10;break e;case pe:_=9;break e;case me:_=11;break e;case we:_=14;break e;case Be:_=16,r=null;break e}_=29,n=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=xn(_,n,t,c),t.elementType=e,t.type=r,t.lanes=d,t}function fi(e,t,n,r){return e=xn(7,e,r,t),e.lanes=n,e}function ss(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function fs(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wi=[],Fi=0,jo=null,Ro=0,Yn=[],Gn=0,di=null,Gr=1,Vr="";function hi(e,t){Wi[Fi++]=Ro,Wi[Fi++]=jo,jo=e,Ro=t}function Zd(e,t,n){Yn[Gn++]=Gr,Yn[Gn++]=Vr,Yn[Gn++]=di,di=e;var r=Gr;e=Vr;var c=32-Ht(r)-1;r&=~(1<<c),n+=1;var d=32-Ht(t)+c;if(30<d){var _=c-c%5;d=(r&(1<<_)-1).toString(32),r>>=_,c-=_,Gr=1<<32-Ht(t)+c|n<<c|r,Vr=d+e}else Gr=1<<d|n<<c|r,Vr=e}function ds(e){e.return!==null&&(hi(e,1),Zd(e,1,0))}function hs(e){for(;e===jo;)jo=Wi[--Fi],Wi[Fi]=null,Ro=Wi[--Fi],Wi[Fi]=null;for(;e===di;)di=Yn[--Gn],Yn[Gn]=null,Vr=Yn[--Gn],Yn[Gn]=null,Gr=Yn[--Gn],Yn[Gn]=null}var vn=null,Tt=null,ot=!1,yi=null,dr=!1,ys=Error(l(519));function vi(e){var t=Error(l(418,""));throw hl(Ye(t,e)),ys}function Jd(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Rt]=e,t[We]=r,n){case"dialog":rt("cancel",t),rt("close",t);break;case"iframe":case"object":case"embed":rt("load",t);break;case"video":case"audio":for(n=0;n<Bl.length;n++)rt(Bl[n],t);break;case"source":rt("error",t);break;case"img":case"image":case"link":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"input":rt("invalid",t),Ju(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),lr(t);break;case"select":rt("invalid",t);break;case"textarea":rt("invalid",t),$u(t,r.value,r.defaultValue,r.children),lr(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||fv(t.textContent,n)?(r.popover!=null&&(rt("beforetoggle",t),rt("toggle",t)),r.onScroll!=null&&rt("scroll",t),r.onScrollEnd!=null&&rt("scrollend",t),r.onClick!=null&&(t.onclick=sc),t=!0):t=!1,t||vi(e)}function $d(e){for(vn=e.return;vn;)switch(vn.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:vn=vn.return}}function fl(e){if(e!==vn)return!1;if(!ot)return $d(e),ot=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Cf(e.type,e.memoizedProps)),n=!n),n&&Tt&&vi(e),$d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Tt=Wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Tt=null}}else t===27?(t=Tt,Ga(e.type)?(e=Nf,Nf=null,Tt=e):Tt=t):Tt=vn?Wn(e.stateNode.nextSibling):null;return!0}function dl(){Tt=vn=null,ot=!1}function Id(){var e=yi;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),yi=null),e}function hl(e){yi===null?yi=[e]:yi.push(e)}var vs=J(null),pi=null,Qr=null;function Da(e,t,n){ue(vs,t._currentValue),t._currentValue=n}function Xr(e){e._currentValue=vs.current,te(vs)}function ps(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ms(e,t,n,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var _=c.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=c;for(var C=0;C<t.length;C++)if(x.context===t[C]){d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),ps(d.return,n,e),r||(_=null);break e}d=x.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(l(341));_.lanes|=n,d=_.alternate,d!==null&&(d.lanes|=n),ps(_,n,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function yl(e,t,n,r){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(l(387));if(_=_.memoizedProps,_!==null){var x=c.type;ln(c.pendingProps.value,_.value)||(e!==null?e.push(x):e=[x])}}else if(c===Qt.current){if(_=c.alternate,_===null)throw Error(l(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Gl):e=[Gl])}c=c.return}e!==null&&ms(t,e,n,r),t.flags|=262144}function Co(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mi(e){pi=e,Qr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function on(e){return Pd(pi,e)}function Uo(e,t){return pi===null&&mi(e),Pd(e,t)}function Pd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Qr===null){if(e===null)throw Error(l(308));Qr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qr=Qr.next=t;return n}var Sb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},wb=a.unstable_scheduleCallback,Eb=a.unstable_NormalPriority,Kt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bs(){return{controller:new Sb,data:new Map,refCount:0}}function vl(e){e.refCount--,e.refCount===0&&wb(Eb,function(){e.controller.abort()})}var pl=null,gs=0,eu=0,tu=null;function xb(e,t){if(pl===null){var n=pl=[];gs=0,eu=wf(),tu={status:"pending",value:void 0,then:function(r){n.push(r)}}}return gs++,t.then(Wd,Wd),t}function Wd(){if(--gs===0&&pl!==null){tu!==null&&(tu.status="fulfilled");var e=pl;pl=null,eu=0,tu=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ob(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),r}var Fd=Q.S;Q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&xb(e,t),Fd!==null&&Fd(e,t)};var bi=J(null);function _s(){var e=bi.current;return e!==null?e:gt.pooledCache}function Mo(e,t){t===null?ue(bi,bi.current):ue(bi,t.pool)}function eh(){var e=_s();return e===null?null:{parent:Kt._currentValue,pool:e}}var ml=Error(l(460)),th=Error(l(474)),ko=Error(l(542)),Ss={then:function(){}};function nh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function No(){}function rh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(No,No),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ih(e),e;default:if(typeof t.status=="string")t.then(No,No);else{if(e=gt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ih(e),e}throw bl=t,ml}}var bl=null;function ah(){if(bl===null)throw Error(l(459));var e=bl;return bl=null,e}function ih(e){if(e===ml||e===ko)throw Error(l(483))}var ja=!1;function ws(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Es(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ct&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=Ln(e),Jt(e,null,n),t}return Ct(e,r,t,n),Ln(e)}function gl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ji(e,n)}}function xs(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var c=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var _={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?c=d=_:d=d.next=_,n=n.next}while(n!==null);d===null?c=d=t:d=d.next=t}else c=d=t;n={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Os=!1;function _l(){if(Os){var e=tu;if(e!==null)throw e}}function Sl(e,t,n,r){Os=!1;var c=e.updateQueue;ja=!1;var d=c.firstBaseUpdate,_=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var C=x,X=C.next;C.next=null,_===null?d=X:_.next=X,_=C;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,x=ae.lastBaseUpdate,x!==_&&(x===null?ae.firstBaseUpdate=X:x.next=X,ae.lastBaseUpdate=C))}if(d!==null){var le=c.baseState;_=0,ae=X=C=null,x=d;do{var $=x.lane&-536870913,P=$!==x.lane;if(P?(it&$)===$:(r&$)===$){$!==0&&$===eu&&(Os=!0),ae!==null&&(ae=ae.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ze=e,Ve=x;$=t;var ht=n;switch(Ve.tag){case 1:if(Ze=Ve.payload,typeof Ze=="function"){le=Ze.call(ht,le,$);break e}le=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Ve.payload,$=typeof Ze=="function"?Ze.call(ht,le,$):Ze,$==null)break e;le=v({},le,$);break e;case 2:ja=!0}}$=x.callback,$!==null&&(e.flags|=64,P&&(e.flags|=8192),P=c.callbacks,P===null?c.callbacks=[$]:P.push($))}else P={lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ae===null?(X=ae=P,C=le):ae=ae.next=P,_|=$;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;P=x,x=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);ae===null&&(C=le),c.baseState=C,c.firstBaseUpdate=X,c.lastBaseUpdate=ae,d===null&&(c.shared.lanes=0),Ha|=_,e.lanes=_,e.memoizedState=le}}function uh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function lh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)uh(n[e],t)}var nu=J(null),zo=J(0);function oh(e,t){e=Fr,ue(zo,e),ue(nu,t),Fr=e|t.baseLanes}function As(){ue(zo,Fr),ue(nu,nu.current)}function Ts(){Fr=zo.current,te(nu),te(zo)}var Ua=0,Fe=null,ft=null,zt=null,Bo=!1,ru=!1,gi=!1,qo=0,wl=0,au=null,Ab=0;function Ut(){throw Error(l(321))}function Ds(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function js(e,t,n,r,c,d){return Ua=d,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?Qh:Xh,gi=!1,d=n(r,c),gi=!1,ru&&(d=sh(t,n,r,c)),ch(e),d}function ch(e){Q.H=Vo;var t=ft!==null&&ft.next!==null;if(Ua=0,zt=ft=Fe=null,Bo=!1,wl=0,au=null,t)throw Error(l(300));e===null||$t||(e=e.dependencies,e!==null&&Co(e)&&($t=!0))}function sh(e,t,n,r){Fe=e;var c=0;do{if(ru&&(au=null),wl=0,ru=!1,25<=c)throw Error(l(301));if(c+=1,zt=ft=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Mb,d=t(n,r)}while(ru);return d}function Tb(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?El(t):t,e=e.useState()[0],(ft!==null?ft.memoizedState:null)!==e&&(Fe.flags|=1024),t}function Rs(){var e=qo!==0;return qo=0,e}function Cs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Us(e){if(Bo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bo=!1}Ua=0,zt=ft=Fe=null,ru=!1,wl=qo=0,au=null}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Fe.memoizedState=zt=e:zt=zt.next=e,zt}function Bt(){if(ft===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=zt===null?Fe.memoizedState:zt.next;if(t!==null)zt=t,ft=e;else{if(e===null)throw Fe.alternate===null?Error(l(467)):Error(l(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},zt===null?Fe.memoizedState=zt=e:zt=zt.next=e}return zt}function Ms(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(e){var t=wl;return wl+=1,au===null&&(au=[]),e=rh(au,e,t),t=Fe,(zt===null?t.memoizedState:zt.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?Qh:Xh),e}function Ho(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return El(e);if(e.$$typeof===ee)return on(e)}throw Error(l(438,String(e)))}function ks(e){var t=null,n=Fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Fe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ms(),Fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=De;return t.index++,n}function Zr(e,t){return typeof t=="function"?t(e):t}function Ko(e){var t=Bt();return Ns(t,ft,e)}function Ns(e,t,n){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=n;var c=e.baseQueue,d=r.pending;if(d!==null){if(c!==null){var _=c.next;c.next=d.next,d.next=_}t.baseQueue=c=d,r.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var x=_=null,C=null,X=t,ae=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(it&le)===le:(Ua&le)===le){var $=X.revertLane;if($===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===eu&&(ae=!0);else if((Ua&$)===$){X=X.next,$===eu&&(ae=!0);continue}else le={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},C===null?(x=C=le,_=d):C=C.next=le,Fe.lanes|=$,Ha|=$;le=X.action,gi&&n(d,le),d=X.hasEagerState?X.eagerState:n(d,le)}else $={lane:le,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},C===null?(x=C=$,_=d):C=C.next=$,Fe.lanes|=le,Ha|=le;X=X.next}while(X!==null&&X!==t);if(C===null?_=d:C.next=x,!ln(d,e.memoizedState)&&($t=!0,ae&&(n=tu,n!==null)))throw n;e.memoizedState=d,e.baseState=_,e.baseQueue=C,r.lastRenderedState=d}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function zs(e){var t=Bt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,c=n.pending,d=t.memoizedState;if(c!==null){n.pending=null;var _=c=c.next;do d=e(d,_.action),_=_.next;while(_!==c);ln(d,t.memoizedState)||($t=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,r]}function fh(e,t,n){var r=Fe,c=Bt(),d=ot;if(d){if(n===void 0)throw Error(l(407));n=n()}else n=t();var _=!ln((ft||c).memoizedState,n);_&&(c.memoizedState=n,$t=!0),c=c.queue;var x=yh.bind(null,r,c,e);if(xl(2048,8,x,[e]),c.getSnapshot!==t||_||zt!==null&&zt.memoizedState.tag&1){if(r.flags|=2048,iu(9,Lo(),hh.bind(null,r,c,n,t),null),gt===null)throw Error(l(349));d||(Ua&124)!==0||dh(r,t,n)}return n}function dh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t=Ms(),Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hh(e,t,n,r){t.value=n,t.getSnapshot=r,vh(t)&&ph(e)}function yh(e,t,n){return n(function(){vh(t)&&ph(e)})}function vh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function ph(e){var t=In(e,2);t!==null&&jn(t,e,2)}function Bs(e){var t=mn();if(typeof e=="function"){var n=e;if(e=n(),gi){kn(!0);try{n()}finally{kn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},t}function mh(e,t,n,r){return e.baseState=n,Ns(e,ft,typeof r=="function"?r:Zr)}function Db(e,t,n,r,c){if(Go(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?n(!0):d.isTransition=!1,r(d),n=t.pending,n===null?(d.next=t.pending=d,bh(t,d)):(d.next=n.next,t.pending=n.next=d)}}function bh(e,t){var n=t.action,r=t.payload,c=e.state;if(t.isTransition){var d=Q.T,_={};Q.T=_;try{var x=n(c,r),C=Q.S;C!==null&&C(_,x),gh(e,t,x)}catch(X){qs(e,t,X)}finally{Q.T=d}}else try{d=n(c,r),gh(e,t,d)}catch(X){qs(e,t,X)}}function gh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){_h(e,t,r)},function(r){return qs(e,t,r)}):_h(e,t,n)}function _h(e,t,n){t.status="fulfilled",t.value=n,Sh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,bh(e,n)))}function qs(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Sh(t),t=t.next;while(t!==r)}e.action=null}function Sh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function wh(e,t){return t}function Eh(e,t){if(ot){var n=gt.formState;if(n!==null){e:{var r=Fe;if(ot){if(Tt){t:{for(var c=Tt,d=dr;c.nodeType!==8;){if(!d){c=null;break t}if(c=Wn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Tt=Wn(c.nextSibling),r=c.data==="F!";break e}}vi(r)}r=!1}r&&(t=n[0])}}return n=mn(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wh,lastRenderedState:t},n.queue=r,n=Yh.bind(null,Fe,r),r.dispatch=n,r=Bs(!1),d=Gs.bind(null,Fe,!1,r.queue),r=mn(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,n=Db.bind(null,Fe,c,d,n),c.dispatch=n,r.memoizedState=e,[t,n,!1]}function xh(e){var t=Bt();return Oh(t,ft,e)}function Oh(e,t,n){if(t=Ns(e,t,wh)[0],e=Ko(Zr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=El(t)}catch(_){throw _===ml?ko:_}else r=t;t=Bt();var c=t.queue,d=c.dispatch;return n!==t.memoizedState&&(Fe.flags|=2048,iu(9,Lo(),jb.bind(null,c,n),null)),[r,d,e]}function jb(e,t){e.action=t}function Ah(e){var t=Bt(),n=ft;if(n!==null)return Oh(t,n,e);Bt(),t=t.memoizedState,n=Bt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function iu(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Fe.updateQueue,t===null&&(t=Ms(),Fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return{destroy:void 0,resource:void 0}}function Th(){return Bt().memoizedState}function Yo(e,t,n,r){var c=mn();r=r===void 0?null:r,Fe.flags|=e,c.memoizedState=iu(1|t,Lo(),n,r)}function xl(e,t,n,r){var c=Bt();r=r===void 0?null:r;var d=c.memoizedState.inst;ft!==null&&r!==null&&Ds(r,ft.memoizedState.deps)?c.memoizedState=iu(t,d,n,r):(Fe.flags|=e,c.memoizedState=iu(1|t,d,n,r))}function Dh(e,t){Yo(8390656,8,e,t)}function jh(e,t){xl(2048,8,e,t)}function Rh(e,t){return xl(4,2,e,t)}function Ch(e,t){return xl(4,4,e,t)}function Uh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mh(e,t,n){n=n!=null?n.concat([e]):null,xl(4,4,Uh.bind(null,t,e),n)}function Hs(){}function kh(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Ds(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nh(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Ds(t,r[1]))return r[0];if(r=e(),gi){kn(!0);try{e()}finally{kn(!1)}}return n.memoizedState=[r,t],r}function Ks(e,t,n){return n===void 0||(Ua&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=qy(),Fe.lanes|=e,Ha|=e,n)}function zh(e,t,n,r){return ln(n,t)?n:nu.current!==null?(e=Ks(e,n,r),ln(e,t)||($t=!0),e):(Ua&42)===0?($t=!0,e.memoizedState=n):(e=qy(),Fe.lanes|=e,Ha|=e,t)}function Bh(e,t,n,r,c){var d=fe.p;fe.p=d!==0&&8>d?d:8;var _=Q.T,x={};Q.T=x,Gs(e,!1,t,n);try{var C=c(),X=Q.S;if(X!==null&&X(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var ae=Ob(C,r);Ol(e,t,ae,Dn(e))}else Ol(e,t,r,Dn(e))}catch(le){Ol(e,t,{then:function(){},status:"rejected",reason:le},Dn())}finally{fe.p=d,Q.T=_}}function Rb(){}function Ls(e,t,n,r){if(e.tag!==5)throw Error(l(476));var c=qh(e).queue;Bh(e,c,t,Re,n===null?Rb:function(){return Hh(e),n(r)})}function qh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:Re},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hh(e){var t=qh(e).next.queue;Ol(e,t,{},Dn())}function Ys(){return on(Gl)}function Kh(){return Bt().memoizedState}function Lh(){return Bt().memoizedState}function Cb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Dn();e=Ra(n);var r=Ca(t,e,n);r!==null&&(jn(r,t,n),gl(r,t,n)),t={cache:bs()},e.payload=t;return}t=t.return}}function Ub(e,t,n){var r=Dn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Go(e)?Gh(t,n):(n=Nt(e,t,n,r),n!==null&&(jn(n,e,r),Vh(n,t,r)))}function Yh(e,t,n){var r=Dn();Ol(e,t,n,r)}function Ol(e,t,n,r){var c={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Go(e))Gh(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var _=t.lastRenderedState,x=d(_,n);if(c.hasEagerState=!0,c.eagerState=x,ln(x,_))return Ct(e,t,c,0),gt===null&&Xe(),!1}catch{}finally{}if(n=Nt(e,t,c,r),n!==null)return jn(n,e,r),Vh(n,t,r),!0}return!1}function Gs(e,t,n,r){if(r={lane:2,revertLane:wf(),action:r,hasEagerState:!1,eagerState:null,next:null},Go(e)){if(t)throw Error(l(479))}else t=Nt(e,n,r,2),t!==null&&jn(t,e,2)}function Go(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function Gh(e,t){ru=Bo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vh(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ji(e,n)}}var Vo={readContext:on,use:Ho,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},Qh={readContext:on,use:Ho,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:Dh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Yo(4194308,4,Uh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yo(4194308,4,e,t)},useInsertionEffect:function(e,t){Yo(4,2,e,t)},useMemo:function(e,t){var n=mn();t=t===void 0?null:t;var r=e();if(gi){kn(!0);try{e()}finally{kn(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=mn();if(n!==void 0){var c=n(t);if(gi){kn(!0);try{n(t)}finally{kn(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=Ub.bind(null,Fe,e),[r.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:function(e){e=Bs(e);var t=e.queue,n=Yh.bind(null,Fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Hs,useDeferredValue:function(e,t){var n=mn();return Ks(n,e,t)},useTransition:function(){var e=Bs(!1);return e=Bh.bind(null,Fe,e.queue,!0,!1),mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Fe,c=mn();if(ot){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),gt===null)throw Error(l(349));(it&124)!==0||dh(r,t,n)}c.memoizedState=n;var d={value:n,getSnapshot:t};return c.queue=d,Dh(yh.bind(null,r,d,e),[e]),r.flags|=2048,iu(9,Lo(),hh.bind(null,r,d,n,t),null),n},useId:function(){var e=mn(),t=gt.identifierPrefix;if(ot){var n=Vr,r=Gr;n=(r&~(1<<32-Ht(r)-1)).toString(32)+n,t=""+t+"R"+n,n=qo++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Ab++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ys,useFormState:Eh,useActionState:Eh,useOptimistic:function(e){var t=mn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Gs.bind(null,Fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:ks,useCacheRefresh:function(){return mn().memoizedState=Cb.bind(null,Fe)}},Xh={readContext:on,use:Ho,useCallback:kh,useContext:on,useEffect:jh,useImperativeHandle:Mh,useInsertionEffect:Rh,useLayoutEffect:Ch,useMemo:Nh,useReducer:Ko,useRef:Th,useState:function(){return Ko(Zr)},useDebugValue:Hs,useDeferredValue:function(e,t){var n=Bt();return zh(n,ft.memoizedState,e,t)},useTransition:function(){var e=Ko(Zr)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:El(e),t]},useSyncExternalStore:fh,useId:Kh,useHostTransitionStatus:Ys,useFormState:xh,useActionState:xh,useOptimistic:function(e,t){var n=Bt();return mh(n,ft,e,t)},useMemoCache:ks,useCacheRefresh:Lh},Mb={readContext:on,use:Ho,useCallback:kh,useContext:on,useEffect:jh,useImperativeHandle:Mh,useInsertionEffect:Rh,useLayoutEffect:Ch,useMemo:Nh,useReducer:zs,useRef:Th,useState:function(){return zs(Zr)},useDebugValue:Hs,useDeferredValue:function(e,t){var n=Bt();return ft===null?Ks(n,e,t):zh(n,ft.memoizedState,e,t)},useTransition:function(){var e=zs(Zr)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:El(e),t]},useSyncExternalStore:fh,useId:Kh,useHostTransitionStatus:Ys,useFormState:Ah,useActionState:Ah,useOptimistic:function(e,t){var n=Bt();return ft!==null?mh(n,ft,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ks,useCacheRefresh:Lh},uu=null,Al=0;function Qo(e){var t=Al;return Al+=1,uu===null&&(uu=[]),rh(uu,e,t)}function Tl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xo(e,t){throw t.$$typeof===O?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zh(e){var t=e._init;return t(e._payload)}function Jh(e){function t(L,N){if(e){var V=L.deletions;V===null?(L.deletions=[N],L.flags|=16):V.push(N)}}function n(L,N){if(!e)return null;for(;N!==null;)t(L,N),N=N.sibling;return null}function r(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function c(L,N){return L=Yr(L,N),L.index=0,L.sibling=null,L}function d(L,N,V){return L.index=V,e?(V=L.alternate,V!==null?(V=V.index,V<N?(L.flags|=67108866,N):V):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function x(L,N,V,ie){return N===null||N.tag!==6?(N=ss(V,L.mode,ie),N.return=L,N):(N=c(N,V),N.return=L,N)}function C(L,N,V,ie){var Me=V.type;return Me===q?ae(L,N,V.props.children,ie,V.key):N!==null&&(N.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Be&&Zh(Me)===N.type)?(N=c(N,V.props),Tl(N,V),N.return=L,N):(N=Do(V.type,V.key,V.props,null,L.mode,ie),Tl(N,V),N.return=L,N)}function X(L,N,V,ie){return N===null||N.tag!==4||N.stateNode.containerInfo!==V.containerInfo||N.stateNode.implementation!==V.implementation?(N=fs(V,L.mode,ie),N.return=L,N):(N=c(N,V.children||[]),N.return=L,N)}function ae(L,N,V,ie,Me){return N===null||N.tag!==7?(N=fi(V,L.mode,ie,Me),N.return=L,N):(N=c(N,V),N.return=L,N)}function le(L,N,V){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ss(""+N,L.mode,V),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return V=Do(N.type,N.key,N.props,null,L.mode,V),Tl(V,N),V.return=L,V;case j:return N=fs(N,L.mode,V),N.return=L,N;case Be:var ie=N._init;return N=ie(N._payload),le(L,N,V)}if(Ae(N)||Ce(N))return N=fi(N,L.mode,V,null),N.return=L,N;if(typeof N.then=="function")return le(L,Qo(N),V);if(N.$$typeof===ee)return le(L,Uo(L,N),V);Xo(L,N)}return null}function $(L,N,V,ie){var Me=N!==null?N.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Me!==null?null:x(L,N,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return V.key===Me?C(L,N,V,ie):null;case j:return V.key===Me?X(L,N,V,ie):null;case Be:return Me=V._init,V=Me(V._payload),$(L,N,V,ie)}if(Ae(V)||Ce(V))return Me!==null?null:ae(L,N,V,ie,null);if(typeof V.then=="function")return $(L,N,Qo(V),ie);if(V.$$typeof===ee)return $(L,N,Uo(L,V),ie);Xo(L,V)}return null}function P(L,N,V,ie,Me){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return L=L.get(V)||null,x(N,L,""+ie,Me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return L=L.get(ie.key===null?V:ie.key)||null,C(N,L,ie,Me);case j:return L=L.get(ie.key===null?V:ie.key)||null,X(N,L,ie,Me);case Be:var et=ie._init;return ie=et(ie._payload),P(L,N,V,ie,Me)}if(Ae(ie)||Ce(ie))return L=L.get(V)||null,ae(N,L,ie,Me,null);if(typeof ie.then=="function")return P(L,N,V,Qo(ie),Me);if(ie.$$typeof===ee)return P(L,N,V,Uo(N,ie),Me);Xo(N,ie)}return null}function Ze(L,N,V,ie){for(var Me=null,et=null,Ke=N,Qe=N=0,Pt=null;Ke!==null&&Qe<V.length;Qe++){Ke.index>Qe?(Pt=Ke,Ke=null):Pt=Ke.sibling;var lt=$(L,Ke,V[Qe],ie);if(lt===null){Ke===null&&(Ke=Pt);break}e&&Ke&&lt.alternate===null&&t(L,Ke),N=d(lt,N,Qe),et===null?Me=lt:et.sibling=lt,et=lt,Ke=Pt}if(Qe===V.length)return n(L,Ke),ot&&hi(L,Qe),Me;if(Ke===null){for(;Qe<V.length;Qe++)Ke=le(L,V[Qe],ie),Ke!==null&&(N=d(Ke,N,Qe),et===null?Me=Ke:et.sibling=Ke,et=Ke);return ot&&hi(L,Qe),Me}for(Ke=r(Ke);Qe<V.length;Qe++)Pt=P(Ke,L,Qe,V[Qe],ie),Pt!==null&&(e&&Pt.alternate!==null&&Ke.delete(Pt.key===null?Qe:Pt.key),N=d(Pt,N,Qe),et===null?Me=Pt:et.sibling=Pt,et=Pt);return e&&Ke.forEach(function(Ja){return t(L,Ja)}),ot&&hi(L,Qe),Me}function Ve(L,N,V,ie){if(V==null)throw Error(l(151));for(var Me=null,et=null,Ke=N,Qe=N=0,Pt=null,lt=V.next();Ke!==null&&!lt.done;Qe++,lt=V.next()){Ke.index>Qe?(Pt=Ke,Ke=null):Pt=Ke.sibling;var Ja=$(L,Ke,lt.value,ie);if(Ja===null){Ke===null&&(Ke=Pt);break}e&&Ke&&Ja.alternate===null&&t(L,Ke),N=d(Ja,N,Qe),et===null?Me=Ja:et.sibling=Ja,et=Ja,Ke=Pt}if(lt.done)return n(L,Ke),ot&&hi(L,Qe),Me;if(Ke===null){for(;!lt.done;Qe++,lt=V.next())lt=le(L,lt.value,ie),lt!==null&&(N=d(lt,N,Qe),et===null?Me=lt:et.sibling=lt,et=lt);return ot&&hi(L,Qe),Me}for(Ke=r(Ke);!lt.done;Qe++,lt=V.next())lt=P(Ke,L,Qe,lt.value,ie),lt!==null&&(e&&lt.alternate!==null&&Ke.delete(lt.key===null?Qe:lt.key),N=d(lt,N,Qe),et===null?Me=lt:et.sibling=lt,et=lt);return e&&Ke.forEach(function(kg){return t(L,kg)}),ot&&hi(L,Qe),Me}function ht(L,N,V,ie){if(typeof V=="object"&&V!==null&&V.type===q&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case A:e:{for(var Me=V.key;N!==null;){if(N.key===Me){if(Me=V.type,Me===q){if(N.tag===7){n(L,N.sibling),ie=c(N,V.props.children),ie.return=L,L=ie;break e}}else if(N.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Be&&Zh(Me)===N.type){n(L,N.sibling),ie=c(N,V.props),Tl(ie,V),ie.return=L,L=ie;break e}n(L,N);break}else t(L,N);N=N.sibling}V.type===q?(ie=fi(V.props.children,L.mode,ie,V.key),ie.return=L,L=ie):(ie=Do(V.type,V.key,V.props,null,L.mode,ie),Tl(ie,V),ie.return=L,L=ie)}return _(L);case j:e:{for(Me=V.key;N!==null;){if(N.key===Me)if(N.tag===4&&N.stateNode.containerInfo===V.containerInfo&&N.stateNode.implementation===V.implementation){n(L,N.sibling),ie=c(N,V.children||[]),ie.return=L,L=ie;break e}else{n(L,N);break}else t(L,N);N=N.sibling}ie=fs(V,L.mode,ie),ie.return=L,L=ie}return _(L);case Be:return Me=V._init,V=Me(V._payload),ht(L,N,V,ie)}if(Ae(V))return Ze(L,N,V,ie);if(Ce(V)){if(Me=Ce(V),typeof Me!="function")throw Error(l(150));return V=Me.call(V),Ve(L,N,V,ie)}if(typeof V.then=="function")return ht(L,N,Qo(V),ie);if(V.$$typeof===ee)return ht(L,N,Uo(L,V),ie);Xo(L,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,N!==null&&N.tag===6?(n(L,N.sibling),ie=c(N,V),ie.return=L,L=ie):(n(L,N),ie=ss(V,L.mode,ie),ie.return=L,L=ie),_(L)):n(L,N)}return function(L,N,V,ie){try{Al=0;var Me=ht(L,N,V,ie);return uu=null,Me}catch(Ke){if(Ke===ml||Ke===ko)throw Ke;var et=xn(29,Ke,null,L.mode);return et.lanes=ie,et.return=L,et}finally{}}}var lu=Jh(!0),$h=Jh(!1),Vn=J(null),hr=null;function Ma(e){var t=e.alternate;ue(Lt,Lt.current&1),ue(Vn,e),hr===null&&(t===null||nu.current!==null||t.memoizedState!==null)&&(hr=e)}function Ih(e){if(e.tag===22){if(ue(Lt,Lt.current),ue(Vn,e),hr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(hr=e)}}else ka()}function ka(){ue(Lt,Lt.current),ue(Vn,Vn.current)}function Jr(e){te(Vn),hr===e&&(hr=null),te(Lt)}var Lt=J(0);function Zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||kf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Vs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dn(),c=Ra(r);c.payload=t,n!=null&&(c.callback=n),t=Ca(e,c,r),t!==null&&(jn(t,e,r),gl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dn(),c=Ra(r);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Ca(e,c,r),t!==null&&(jn(t,e,r),gl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dn(),r=Ra(n);r.tag=2,t!=null&&(r.callback=t),t=Ca(e,r,n),t!==null&&(jn(t,e,n),gl(t,e,n))}};function Ph(e,t,n,r,c,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,_):t.prototype&&t.prototype.isPureReactComponent?!o(n,r)||!o(c,d):!0}function Wh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qs.enqueueReplaceState(t,t.state,null)}function _i(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}var Jo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Fh(e){Jo(e)}function ey(e){console.error(e)}function ty(e){Jo(e)}function $o(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function ny(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Xs(e,t,n){return n=Ra(n),n.tag=3,n.payload={element:null},n.callback=function(){$o(e,t)},n}function ry(e){return e=Ra(e),e.tag=3,e}function ay(e,t,n,r){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;e.payload=function(){return c(d)},e.callback=function(){ny(t,n,r)}}var _=n.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ny(t,n,r),typeof c!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})})}function kb(e,t,n,r,c){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&yl(t,n,c,!0),n=Vn.current,n!==null){switch(n.tag){case 13:return hr===null?mf():n.alternate===null&&Dt===0&&(Dt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,r===Ss?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),gf(e,r,c)),!1;case 22:return n.flags|=65536,r===Ss?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),gf(e,r,c)),!1}throw Error(l(435,n.tag))}return gf(e,r,c),mf(),!1}if(ot)return t=Vn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==ys&&(e=Error(l(422),{cause:r}),hl(Ye(e,n)))):(r!==ys&&(t=Error(l(423),{cause:r}),hl(Ye(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Ye(r,n),c=Xs(e.stateNode,r,c),xs(e,c),Dt!==4&&(Dt=2)),!1;var d=Error(l(520),{cause:r});if(d=Ye(d,n),kl===null?kl=[d]:kl.push(d),Dt!==4&&(Dt=2),t===null)return!0;r=Ye(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Xs(n.stateNode,r,e),xs(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ka===null||!Ka.has(d))))return n.flags|=65536,c&=-c,n.lanes|=c,c=ry(c),ay(c,e,n,r),xs(n,c),!1}n=n.return}while(n!==null);return!1}var iy=Error(l(461)),$t=!1;function Ft(e,t,n,r){t.child=e===null?$h(t,null,n,r):lu(t,e.child,n,r)}function uy(e,t,n,r,c){n=n.render;var d=t.ref;if("ref"in r){var _={};for(var x in r)x!=="ref"&&(_[x]=r[x])}else _=r;return mi(t),r=js(e,t,n,_,d,c),x=Rs(),e!==null&&!$t?(Cs(e,t,c),$r(e,t,c)):(ot&&x&&ds(t),t.flags|=1,Ft(e,t,r,c),t.child)}function ly(e,t,n,r,c){if(e===null){var d=n.type;return typeof d=="function"&&!cs(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,oy(e,t,d,r,c)):(e=Do(n.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!ef(e,c)){var _=d.memoizedProps;if(n=n.compare,n=n!==null?n:o,n(_,r)&&e.ref===t.ref)return $r(e,t,c)}return t.flags|=1,e=Yr(d,r),e.ref=t.ref,e.return=t,t.child=e}function oy(e,t,n,r,c){if(e!==null){var d=e.memoizedProps;if(o(d,r)&&e.ref===t.ref)if($t=!1,t.pendingProps=r=d,ef(e,c))(e.flags&131072)!==0&&($t=!0);else return t.lanes=e.lanes,$r(e,t,c)}return Zs(e,t,n,r,c)}function cy(e,t,n){var r=t.pendingProps,c=r.children,d=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=d!==null?d.baseLanes|n:n,e!==null){for(c=t.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;t.childLanes=d&~r}else t.childLanes=0,t.child=null;return sy(e,t,r,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mo(t,d!==null?d.cachePool:null),d!==null?oh(t,d):As(),Ih(t);else return t.lanes=t.childLanes=536870912,sy(e,t,d!==null?d.baseLanes|n:n,n)}else d!==null?(Mo(t,d.cachePool),oh(t,d),ka(),t.memoizedState=null):(e!==null&&Mo(t,null),As(),ka());return Ft(e,t,c,n),t.child}function sy(e,t,n,r){var c=_s();return c=c===null?null:{parent:Kt._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&Mo(t,null),As(),Ih(t),e!==null&&yl(e,t,r,!0),null}function Io(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Zs(e,t,n,r,c){return mi(t),n=js(e,t,n,r,void 0,c),r=Rs(),e!==null&&!$t?(Cs(e,t,c),$r(e,t,c)):(ot&&r&&ds(t),t.flags|=1,Ft(e,t,n,c),t.child)}function fy(e,t,n,r,c,d){return mi(t),t.updateQueue=null,n=sh(t,r,n,c),ch(e),r=Rs(),e!==null&&!$t?(Cs(e,t,d),$r(e,t,d)):(ot&&r&&ds(t),t.flags|=1,Ft(e,t,n,d),t.child)}function dy(e,t,n,r,c){if(mi(t),t.stateNode===null){var d=fr,_=n.contextType;typeof _=="object"&&_!==null&&(d=on(_)),d=new n(r,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qs,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=r,d.state=t.memoizedState,d.refs={},ws(t),_=n.contextType,d.context=typeof _=="object"&&_!==null?on(_):fr,d.state=t.memoizedState,_=n.getDerivedStateFromProps,typeof _=="function"&&(Vs(t,n,_,r),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Qs.enqueueReplaceState(d,d.state,null),Sl(t,r,d,c),_l(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){d=t.stateNode;var x=t.memoizedProps,C=_i(n,x);d.props=C;var X=d.context,ae=n.contextType;_=fr,typeof ae=="object"&&ae!==null&&(_=on(ae));var le=n.getDerivedStateFromProps;ae=typeof le=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,ae||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||X!==_)&&Wh(t,d,r,_),ja=!1;var $=t.memoizedState;d.state=$,Sl(t,r,d,c),_l(),X=t.memoizedState,x||$!==X||ja?(typeof le=="function"&&(Vs(t,n,le,r),X=t.memoizedState),(C=ja||Ph(t,n,C,r,$,X,_))?(ae||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=X),d.props=r,d.state=X,d.context=_,r=C):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,Es(e,t),_=t.memoizedProps,ae=_i(n,_),d.props=ae,le=t.pendingProps,$=d.context,X=n.contextType,C=fr,typeof X=="object"&&X!==null&&(C=on(X)),x=n.getDerivedStateFromProps,(X=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==le||$!==C)&&Wh(t,d,r,C),ja=!1,$=t.memoizedState,d.state=$,Sl(t,r,d,c),_l();var P=t.memoizedState;_!==le||$!==P||ja||e!==null&&e.dependencies!==null&&Co(e.dependencies)?(typeof x=="function"&&(Vs(t,n,x,r),P=t.memoizedState),(ae=ja||Ph(t,n,ae,r,$,P,C)||e!==null&&e.dependencies!==null&&Co(e.dependencies))?(X||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,P,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,P,C)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),d.props=r,d.state=P,d.context=C,r=ae):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),r=!1)}return d=r,Io(e,t),r=(t.flags&128)!==0,d||r?(d=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&r?(t.child=lu(t,e.child,null,c),t.child=lu(t,null,n,c)):Ft(e,t,n,c),t.memoizedState=d.state,e=t.child):e=$r(e,t,c),e}function hy(e,t,n,r){return dl(),t.flags|=256,Ft(e,t,n,r),t.child}var Js={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $s(e){return{baseLanes:e,cachePool:eh()}}function Is(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Qn),e}function yy(e,t,n){var r=t.pendingProps,c=!1,d=(t.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),_&&(c=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(ot){if(c?Ma(t):ka(),ot){var x=Tt,C;if(C=x){e:{for(C=x,x=dr;C.nodeType!==8;){if(!x){x=null;break e}if(C=Wn(C.nextSibling),C===null){x=null;break e}}x=C}x!==null?(t.memoizedState={dehydrated:x,treeContext:di!==null?{id:Gr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},C=xn(18,null,null,0),C.stateNode=x,C.return=t,t.child=C,vn=t,Tt=null,C=!0):C=!1}C||vi(t)}if(x=t.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return kf(x)?t.lanes=32:t.lanes=536870912,null;Jr(t)}return x=r.children,r=r.fallback,c?(ka(),c=t.mode,x=Po({mode:"hidden",children:x},c),r=fi(r,c,n,null),x.return=t,r.return=t,x.sibling=r,t.child=x,c=t.child,c.memoizedState=$s(n),c.childLanes=Is(e,_,n),t.memoizedState=Js,r):(Ma(t),Ps(t,x))}if(C=e.memoizedState,C!==null&&(x=C.dehydrated,x!==null)){if(d)t.flags&256?(Ma(t),t.flags&=-257,t=Ws(e,t,n)):t.memoizedState!==null?(ka(),t.child=e.child,t.flags|=128,t=null):(ka(),c=r.fallback,x=t.mode,r=Po({mode:"visible",children:r.children},x),c=fi(c,x,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,lu(t,e.child,null,n),r=t.child,r.memoizedState=$s(n),r.childLanes=Is(e,_,n),t.memoizedState=Js,t=c);else if(Ma(t),kf(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var X=_.dgst;_=X,r=Error(l(419)),r.stack="",r.digest=_,hl({value:r,source:null,stack:null}),t=Ws(e,t,n)}else if($t||yl(e,t,n,!1),_=(n&e.childLanes)!==0,$t||_){if(_=gt,_!==null&&(r=n&-n,r=(r&42)!==0?1:Lu(r),r=(r&(_.suspendedLanes|n))!==0?0:r,r!==0&&r!==C.retryLane))throw C.retryLane=r,In(e,r),jn(_,e,r),iy;x.data==="$?"||mf(),t=Ws(e,t,n)}else x.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Tt=Wn(x.nextSibling),vn=t,ot=!0,yi=null,dr=!1,e!==null&&(Yn[Gn++]=Gr,Yn[Gn++]=Vr,Yn[Gn++]=di,Gr=e.id,Vr=e.overflow,di=t),t=Ps(t,r.children),t.flags|=4096);return t}return c?(ka(),c=r.fallback,x=t.mode,C=e.child,X=C.sibling,r=Yr(C,{mode:"hidden",children:r.children}),r.subtreeFlags=C.subtreeFlags&65011712,X!==null?c=Yr(X,c):(c=fi(c,x,n,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,r=c,c=t.child,x=e.child.memoizedState,x===null?x=$s(n):(C=x.cachePool,C!==null?(X=Kt._currentValue,C=C.parent!==X?{parent:X,pool:X}:C):C=eh(),x={baseLanes:x.baseLanes|n,cachePool:C}),c.memoizedState=x,c.childLanes=Is(e,_,n),t.memoizedState=Js,r):(Ma(t),n=e.child,e=n.sibling,n=Yr(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=n,t.memoizedState=null,n)}function Ps(e,t){return t=Po({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Po(e,t){return e=xn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ws(e,t,n){return lu(t,e.child,null,n),e=Ps(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ps(e.return,t,n)}function Fs(e,t,n,r,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=n,d.tailMode=c)}function py(e,t,n){var r=t.pendingProps,c=r.revealOrder,d=r.tail;if(Ft(e,t,r.children,n),r=Lt.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,n,t);else if(e.tag===19)vy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(ue(Lt,r),c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Zo(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Fs(t,!1,c,n,d);break;case"backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Zo(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Fs(t,!0,n,null,d);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $r(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ha|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(yl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=Yr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ef(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Co(e)))}function Nb(e,t,n){switch(t.tag){case 3:bt(t,t.stateNode.containerInfo),Da(t,Kt,e.memoizedState.cache),dl();break;case 27:case 5:Ai(t);break;case 4:bt(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ma(t),t.flags|=128,null):(n&t.child.childLanes)!==0?yy(e,t,n):(Ma(t),e=$r(e,t,n),e!==null?e.sibling:null);Ma(t);break;case 19:var c=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(yl(e,t,n,!1),r=(n&t.childLanes)!==0),c){if(r)return py(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ue(Lt,Lt.current),r)break;return null;case 22:case 23:return t.lanes=0,cy(e,t,n);case 24:Da(t,Kt,e.memoizedState.cache)}return $r(e,t,n)}function my(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$t=!0;else{if(!ef(e,n)&&(t.flags&128)===0)return $t=!1,Nb(e,t,n);$t=(e.flags&131072)!==0}else $t=!1,ot&&(t.flags&1048576)!==0&&Zd(t,Ro,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,c=r._init;if(r=c(r._payload),t.type=r,typeof r=="function")cs(r)?(e=_i(r,e),t.tag=1,t=dy(null,t,r,e,n)):(t.tag=0,t=Zs(null,t,r,e,n));else{if(r!=null){if(c=r.$$typeof,c===me){t.tag=11,t=uy(null,t,r,e,n);break e}else if(c===we){t.tag=14,t=ly(null,t,r,e,n);break e}}throw t=_e(r)||r,Error(l(306,t,""))}}return t;case 0:return Zs(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,c=_i(r,t.pendingProps),dy(e,t,r,c,n);case 3:e:{if(bt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var d=t.memoizedState;c=d.element,Es(e,t),Sl(t,r,null,n);var _=t.memoizedState;if(r=_.cache,Da(t,Kt,r),r!==d.cache&&ms(t,[Kt],n,!0),_l(),r=_.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=hy(e,t,r,n);break e}else if(r!==c){c=Ye(Error(l(424)),t),hl(c),t=hy(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Tt=Wn(e.firstChild),vn=t,ot=!0,yi=null,dr=!0,n=$h(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(dl(),r===c){t=$r(e,t,n);break e}Ft(e,t,r,n)}t=t.child}return t;case 26:return Io(e,t),e===null?(n=Sv(t.type,null,t.pendingProps,null))?t.memoizedState=n:ot||(n=t.type,e=t.pendingProps,r=fc(He.current).createElement(n),r[Rt]=t,r[We]=e,tn(r,n,e),vt(r),t.stateNode=r):t.memoizedState=Sv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ai(t),e===null&&ot&&(r=t.stateNode=bv(t.type,t.pendingProps,He.current),vn=t,dr=!0,c=Tt,Ga(t.type)?(Nf=c,Tt=Wn(r.firstChild)):Tt=c),Ft(e,t,t.pendingProps.children,n),Io(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ot&&((c=r=Tt)&&(r=cg(r,t.type,t.pendingProps,dr),r!==null?(t.stateNode=r,vn=t,Tt=Wn(r.firstChild),dr=!1,c=!0):c=!1),c||vi(t)),Ai(t),c=t.type,d=t.pendingProps,_=e!==null?e.memoizedProps:null,r=d.children,Cf(c,d)?r=null:_!==null&&Cf(c,_)&&(t.flags|=32),t.memoizedState!==null&&(c=js(e,t,Tb,null,null,n),Gl._currentValue=c),Io(e,t),Ft(e,t,r,n),t.child;case 6:return e===null&&ot&&((e=n=Tt)&&(n=sg(n,t.pendingProps,dr),n!==null?(t.stateNode=n,vn=t,Tt=null,e=!0):e=!1),e||vi(t)),null;case 13:return yy(e,t,n);case 4:return bt(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=lu(t,null,r,n):Ft(e,t,r,n),t.child;case 11:return uy(e,t,t.type,t.pendingProps,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Da(t,t.type,r.value),Ft(e,t,r.children,n),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,mi(t),c=on(c),r=r(c),t.flags|=1,Ft(e,t,r,n),t.child;case 14:return ly(e,t,t.type,t.pendingProps,n);case 15:return oy(e,t,t.type,t.pendingProps,n);case 19:return py(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=Po(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Yr(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return cy(e,t,n);case 24:return mi(t),r=on(Kt),e===null?(c=_s(),c===null&&(c=gt,d=bs(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=n),c=d),t.memoizedState={parent:r,cache:c},ws(t),Da(t,Kt,c)):((e.lanes&n)!==0&&(Es(e,t),Sl(t,null,null,n),_l()),c=e.memoizedState,d=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Da(t,Kt,r)):(r=d.cache,Da(t,Kt,r),r!==c.cache&&ms(t,[Kt],n,!0))),Ft(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ir(e){e.flags|=4}function by(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Av(t)){if(t=Vn.current,t!==null&&((it&4194048)===it?hr!==null:(it&62914560)!==it&&(it&536870912)===0||t!==hr))throw bl=Ss,th;e.flags|=8192}}function Wo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Te():536870912,e.lanes|=t,fu|=t)}function Dl(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zb(e,t,n){var r=t.pendingProps;switch(hs(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return Ot(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Xr(Kt),ze(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fl(t)?Ir(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Id())),Ot(t),null;case 26:return n=t.memoizedState,e===null?(Ir(t),n!==null?(Ot(t),by(t,n)):(Ot(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ir(t),Ot(t),by(t,n)):(Ot(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ir(t),Ot(t),t.flags&=-16777217),null;case 27:Er(t),n=He.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ir(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ot(t),null}e=Oe.current,fl(t)?Jd(t):(e=bv(c,r,n),t.stateNode=e,Ir(t))}return Ot(t),null;case 5:if(Er(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ir(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ot(t),null}if(e=Oe.current,fl(t))Jd(t);else{switch(c=fc(He.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?c.createElement(n,{is:r.is}):c.createElement(n)}}e[Rt]=t,e[We]=r;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(tn(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ir(t)}}return Ot(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ir(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=He.current,fl(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,c=vn,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[Rt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||fv(e.nodeValue,n)),e||vi(t)}else e=fc(e).createTextNode(r),e[Rt]=t,t.stateNode=e}return Ot(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=fl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[Rt]=t}else dl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ot(t),c=!1}else c=Id(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Jr(t),t):(Jr(t),null)}if(Jr(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var d=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wo(t,t.updateQueue),Ot(t),null;case 4:return ze(),e===null&&Af(t.stateNode.containerInfo),Ot(t),null;case 10:return Xr(t.type),Ot(t),null;case 19:if(te(Lt),c=t.memoizedState,c===null)return Ot(t),null;if(r=(t.flags&128)!==0,d=c.rendering,d===null)if(r)Dl(c,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Zo(e),d!==null){for(t.flags|=128,Dl(c,!1),e=d.updateQueue,t.updateQueue=e,Wo(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Xd(n,e),n=n.sibling;return ue(Lt,Lt.current&1|2),t.child}e=e.sibling}c.tail!==null&&Mn()>tc&&(t.flags|=128,r=!0,Dl(c,!1),t.lanes=4194304)}else{if(!r)if(e=Zo(d),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Wo(t,e),Dl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!ot)return Ot(t),null}else 2*Mn()-c.renderingStartTime>tc&&n!==536870912&&(t.flags|=128,r=!0,Dl(c,!1),t.lanes=4194304);c.isBackwards?(d.sibling=t.child,t.child=d):(e=c.last,e!==null?e.sibling=d:t.child=d,c.last=d)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Mn(),t.sibling=null,e=Lt.current,ue(Lt,r?e&1|2:e&1),t):(Ot(t),null);case 22:case 23:return Jr(t),Ts(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),n=t.updateQueue,n!==null&&Wo(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&te(bi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Xr(Kt),Ot(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Bb(e,t){switch(hs(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(Kt),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Er(t),null;case 13:if(Jr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));dl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(Lt),null;case 4:return ze(),null;case 10:return Xr(t.type),null;case 22:case 23:return Jr(t),Ts(),e!==null&&te(bi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Xr(Kt),null;case 25:return null;default:return null}}function gy(e,t){switch(hs(t),t.tag){case 3:Xr(Kt),ze();break;case 26:case 27:case 5:Er(t);break;case 4:ze();break;case 13:Jr(t);break;case 19:te(Lt);break;case 10:Xr(t.type);break;case 22:case 23:Jr(t),Ts(),e!==null&&te(bi);break;case 24:Xr(Kt)}}function jl(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){r=void 0;var d=n.create,_=n.inst;r=d(),_.destroy=r}n=n.next}while(n!==c)}}catch(x){mt(t,t.return,x)}}function Na(e,t,n){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&e)===e){var _=r.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,c=t;var C=n,X=x;try{X()}catch(ae){mt(c,C,ae)}}}r=r.next}while(r!==d)}}catch(ae){mt(t,t.return,ae)}}function _y(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{lh(t,n)}catch(r){mt(e,e.return,r)}}}function Sy(e,t,n){n.props=_i(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){mt(e,t,r)}}function Rl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(c){mt(e,t,c)}}function yr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(c){mt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){mt(e,t,c)}else n.current=null}function wy(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(c){mt(e,e.return,c)}}function tf(e,t,n){try{var r=e.stateNode;ag(r,e.type,n,t),r[We]=t}catch(c){mt(e,e.return,c)}}function Ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ga(e.type)||e.tag===4}function nf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sc));else if(r!==4&&(r===27&&Ga(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(rf(e,t,n),e=e.sibling;e!==null;)rf(e,t,n),e=e.sibling}function Fo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Ga(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Fo(e,t,n),e=e.sibling;e!==null;)Fo(e,t,n),e=e.sibling}function xy(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);tn(t,r,n),t[Rt]=e,t[We]=n}catch(d){mt(e,e.return,d)}}var Pr=!1,Mt=!1,af=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,It=null;function qb(e,t){if(e=e.containerInfo,jf=mc,e=w(e),E(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var c=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var _=0,x=-1,C=-1,X=0,ae=0,le=e,$=null;t:for(;;){for(var P;le!==n||c!==0&&le.nodeType!==3||(x=_+c),le!==d||r!==0&&le.nodeType!==3||(C=_+r),le.nodeType===3&&(_+=le.nodeValue.length),(P=le.firstChild)!==null;)$=le,le=P;for(;;){if(le===e)break t;if($===n&&++X===c&&(x=_),$===d&&++ae===r&&(C=_),(P=le.nextSibling)!==null)break;le=$,$=le.parentNode}le=P}n=x===-1||C===-1?null:{start:x,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rf={focusedElem:e,selectionRange:n},mc=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){switch(t=It,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,c=d.memoizedProps,d=d.memoizedState,r=n.stateNode;try{var Ze=_i(n.type,c,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(Ze,d),r.__reactInternalSnapshotBeforeUpdate=e}catch(Ve){mt(n,n.return,Ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Mf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}}function Ay(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:za(e,n),r&4&&jl(5,n);break;case 1:if(za(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(_){mt(n,n.return,_)}else{var c=_i(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){mt(n,n.return,_)}}r&64&&_y(n),r&512&&Rl(n,n.return);break;case 3:if(za(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{lh(e,t)}catch(_){mt(n,n.return,_)}}break;case 27:t===null&&r&4&&xy(n);case 26:case 5:za(e,n),t===null&&r&4&&wy(n),r&512&&Rl(n,n.return);break;case 12:za(e,n);break;case 13:za(e,n),r&4&&jy(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Zb.bind(null,n),fg(e,n))));break;case 22:if(r=n.memoizedState!==null||Pr,!r){t=t!==null&&t.memoizedState!==null||Mt,c=Pr;var d=Mt;Pr=r,(Mt=t)&&!d?Ba(e,n,(n.subtreeFlags&8772)!==0):za(e,n),Pr=c,Mt=d}break;case 30:break;default:za(e,n)}}function Ty(e){var t=e.alternate;t!==null&&(e.alternate=null,Ty(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zn(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,bn=!1;function Wr(e,t,n){for(n=n.child;n!==null;)Dy(e,t,n),n=n.sibling}function Dy(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(_n,n)}catch{}switch(n.tag){case 26:Mt||yr(n,t),Wr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mt||yr(n,t);var r=Et,c=bn;Ga(n.type)&&(Et=n.stateNode,bn=!1),Wr(e,t,n),Hl(n.stateNode),Et=r,bn=c;break;case 5:Mt||yr(n,t);case 6:if(r=Et,c=bn,Et=null,Wr(e,t,n),Et=r,bn=c,Et!==null)if(bn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(n.stateNode)}catch(d){mt(n,t,d)}else try{Et.removeChild(n.stateNode)}catch(d){mt(n,t,d)}break;case 18:Et!==null&&(bn?(e=Et,pv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Zl(e)):pv(Et,n.stateNode));break;case 4:r=Et,c=bn,Et=n.stateNode.containerInfo,bn=!0,Wr(e,t,n),Et=r,bn=c;break;case 0:case 11:case 14:case 15:Mt||Na(2,n,t),Mt||Na(4,n,t),Wr(e,t,n);break;case 1:Mt||(yr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Sy(n,t,r)),Wr(e,t,n);break;case 21:Wr(e,t,n);break;case 22:Mt=(r=Mt)||n.memoizedState!==null,Wr(e,t,n),Mt=r;break;default:Wr(e,t,n)}}function jy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zl(e)}catch(n){mt(t,t.return,n)}}function Hb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Oy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Oy),t;default:throw Error(l(435,e.tag))}}function uf(e,t){var n=Hb(e);t.forEach(function(r){var c=Jb.bind(null,e,r);n.has(r)||(n.add(r),r.then(c,c))})}function On(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var c=n[r],d=e,_=t,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(Ga(x.type)){Et=x.stateNode,bn=!1;break e}break;case 5:Et=x.stateNode,bn=!1;break e;case 3:case 4:Et=x.stateNode.containerInfo,bn=!0;break e}x=x.return}if(Et===null)throw Error(l(160));Dy(d,_,c),Et=null,bn=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ry(t,e),t=t.sibling}var Pn=null;function Ry(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(t,e),An(e),r&4&&(Na(3,e,e.return),jl(3,e),Na(5,e,e.return));break;case 1:On(t,e),An(e),r&512&&(Mt||n===null||yr(n,n.return)),r&64&&Pr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var c=Pn;if(On(t,e),An(e),r&512&&(Mt||n===null||yr(n,n.return)),r&4){var d=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":d=c.getElementsByTagName("title")[0],(!d||d[ni]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(r),c.head.insertBefore(d,c.querySelector("head > title"))),tn(d,r,n),d[Rt]=e,vt(d),r=d;break e;case"link":var _=xv("link","href",c).get(r+(n.href||""));if(_){for(var x=0;x<_.length;x++)if(d=_[x],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){_.splice(x,1);break t}}d=c.createElement(r),tn(d,r,n),c.head.appendChild(d);break;case"meta":if(_=xv("meta","content",c).get(r+(n.content||""))){for(x=0;x<_.length;x++)if(d=_[x],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){_.splice(x,1);break t}}d=c.createElement(r),tn(d,r,n),c.head.appendChild(d);break;default:throw Error(l(468,r))}d[Rt]=e,vt(d),r=d}e.stateNode=r}else Ov(c,e.type,e.stateNode);else e.stateNode=Ev(c,r,e.memoizedProps);else d!==r?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,r===null?Ov(c,e.type,e.stateNode):Ev(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&tf(e,e.memoizedProps,n.memoizedProps)}break;case 27:On(t,e),An(e),r&512&&(Mt||n===null||yr(n,n.return)),n!==null&&r&4&&tf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(On(t,e),An(e),r&512&&(Mt||n===null||yr(n,n.return)),e.flags&32){c=e.stateNode;try{ba(c,"")}catch(P){mt(e,e.return,P)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,tf(e,c,n!==null?n.memoizedProps:c)),r&1024&&(af=!0);break;case 6:if(On(t,e),An(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(P){mt(e,e.return,P)}}break;case 3:if(yc=null,c=Pn,Pn=dc(t.containerInfo),On(t,e),Pn=c,An(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zl(t.containerInfo)}catch(P){mt(e,e.return,P)}af&&(af=!1,Cy(e));break;case 4:r=Pn,Pn=dc(e.stateNode.containerInfo),On(t,e),An(e),Pn=r;break;case 12:On(t,e),An(e);break;case 13:On(t,e),An(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(df=Mn()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,uf(e,r)));break;case 22:c=e.memoizedState!==null;var C=n!==null&&n.memoizedState!==null,X=Pr,ae=Mt;if(Pr=X||c,Mt=ae||C,On(t,e),Mt=ae,Pr=X,An(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||C||Pr||Mt||Si(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){C=n=t;try{if(d=C.stateNode,c)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=C.stateNode;var le=C.memoizedProps.style,$=le!=null&&le.hasOwnProperty("display")?le.display:null;x.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(P){mt(C,C.return,P)}}}else if(t.tag===6){if(n===null){C=t;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(P){mt(C,C.return,P)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,uf(e,n))));break;case 19:On(t,e),An(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,uf(e,r)));break;case 30:break;case 21:break;default:On(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Ey(r)){n=r;break}r=r.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var c=n.stateNode,d=nf(e);Fo(e,d,c);break;case 5:var _=n.stateNode;n.flags&32&&(ba(_,""),n.flags&=-33);var x=nf(e);Fo(e,x,_);break;case 3:case 4:var C=n.stateNode.containerInfo,X=nf(e);rf(e,X,C);break;default:throw Error(l(161))}}catch(ae){mt(e,e.return,ae)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function za(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ay(e,t.alternate,t),t=t.sibling}function Si(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Na(4,t,t.return),Si(t);break;case 1:yr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Sy(t,t.return,n),Si(t);break;case 27:Hl(t.stateNode);case 26:case 5:yr(t,t.return),Si(t);break;case 22:t.memoizedState===null&&Si(t);break;case 30:Si(t);break;default:Si(t)}e=e.sibling}}function Ba(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,d=t,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ba(c,d,n),jl(4,d);break;case 1:if(Ba(c,d,n),r=d,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(X){mt(r,r.return,X)}if(r=d,c=r.updateQueue,c!==null){var x=r.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)uh(C[c],x)}catch(X){mt(r,r.return,X)}}n&&_&64&&_y(d),Rl(d,d.return);break;case 27:xy(d);case 26:case 5:Ba(c,d,n),n&&r===null&&_&4&&wy(d),Rl(d,d.return);break;case 12:Ba(c,d,n);break;case 13:Ba(c,d,n),n&&_&4&&jy(c,d);break;case 22:d.memoizedState===null&&Ba(c,d,n),Rl(d,d.return);break;case 30:break;default:Ba(c,d,n)}t=t.sibling}}function lf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&vl(n))}function of(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vl(e))}function vr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uy(e,t,n,r),t=t.sibling}function Uy(e,t,n,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:vr(e,t,n,r),c&2048&&jl(9,t);break;case 1:vr(e,t,n,r);break;case 3:vr(e,t,n,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vl(e)));break;case 12:if(c&2048){vr(e,t,n,r),e=t.stateNode;try{var d=t.memoizedProps,_=d.id,x=d.onPostCommit;typeof x=="function"&&x(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){mt(t,t.return,C)}}else vr(e,t,n,r);break;case 13:vr(e,t,n,r);break;case 23:break;case 22:d=t.stateNode,_=t.alternate,t.memoizedState!==null?d._visibility&2?vr(e,t,n,r):Cl(e,t):d._visibility&2?vr(e,t,n,r):(d._visibility|=2,ou(e,t,n,r,(t.subtreeFlags&10256)!==0)),c&2048&&lf(_,t);break;case 24:vr(e,t,n,r),c&2048&&of(t.alternate,t);break;default:vr(e,t,n,r)}}function ou(e,t,n,r,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,_=t,x=n,C=r,X=_.flags;switch(_.tag){case 0:case 11:case 15:ou(d,_,x,C,c),jl(8,_);break;case 23:break;case 22:var ae=_.stateNode;_.memoizedState!==null?ae._visibility&2?ou(d,_,x,C,c):Cl(d,_):(ae._visibility|=2,ou(d,_,x,C,c)),c&&X&2048&&lf(_.alternate,_);break;case 24:ou(d,_,x,C,c),c&&X&2048&&of(_.alternate,_);break;default:ou(d,_,x,C,c)}t=t.sibling}}function Cl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,c=r.flags;switch(r.tag){case 22:Cl(n,r),c&2048&&lf(r.alternate,r);break;case 24:Cl(n,r),c&2048&&of(r.alternate,r);break;default:Cl(n,r)}t=t.sibling}}var Ul=8192;function cu(e){if(e.subtreeFlags&Ul)for(e=e.child;e!==null;)My(e),e=e.sibling}function My(e){switch(e.tag){case 26:cu(e),e.flags&Ul&&e.memoizedState!==null&&xg(Pn,e.memoizedState,e.memoizedProps);break;case 5:cu(e);break;case 3:case 4:var t=Pn;Pn=dc(e.stateNode.containerInfo),cu(e),Pn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ul,Ul=16777216,cu(e),Ul=t):cu(e));break;default:cu(e)}}function ky(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ml(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];It=r,zy(r,e)}ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ny(e),e=e.sibling}function Ny(e){switch(e.tag){case 0:case 11:case 15:Ml(e),e.flags&2048&&Na(9,e,e.return);break;case 3:Ml(e);break;case 12:Ml(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ec(e)):Ml(e);break;default:Ml(e)}}function ec(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];It=r,zy(r,e)}ky(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Na(8,t,t.return),ec(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function zy(e,t){for(;It!==null;){var n=It;switch(n.tag){case 0:case 11:case 15:Na(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:vl(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,It=r;else e:for(n=e;It!==null;){r=It;var c=r.sibling,d=r.return;if(Ty(r),r===n){It=null;break e}if(c!==null){c.return=d,It=c;break e}It=d}}}var Kb={getCacheForType:function(e){var t=on(Kt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Lb=typeof WeakMap=="function"?WeakMap:Map,ct=0,gt=null,nt=null,it=0,st=0,Tn=null,qa=!1,su=!1,cf=!1,Fr=0,Dt=0,Ha=0,wi=0,sf=0,Qn=0,fu=0,kl=null,gn=null,ff=!1,df=0,tc=1/0,nc=null,Ka=null,en=0,La=null,du=null,hu=0,hf=0,yf=null,By=null,Nl=0,vf=null;function Dn(){if((ct&2)!==0&&it!==0)return it&-it;if(Q.T!==null){var e=eu;return e!==0?e:wf()}return jr()}function qy(){Qn===0&&(Qn=(it&536870912)===0||ot?Fa():536870912);var e=Vn.current;return e!==null&&(e.flags|=32),Qn}function jn(e,t,n){(e===gt&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(yu(e,0),Ya(e,it,Qn,!1)),sa(e,n),((ct&2)===0||e!==gt)&&(e===gt&&((ct&2)===0&&(wi|=n),Dt===4&&Ya(e,it,Qn,!1)),pr(e))}function Hy(e,t,n){if((ct&6)!==0)throw Error(l(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Zn(e,t),c=r?Vb(e,t):bf(e,t,!0),d=r;do{if(c===0){su&&!r&&Ya(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!Yb(n)){c=bf(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var x=e;c=kl;var C=x.current.memoizedState.isDehydrated;if(C&&(yu(x,_).flags|=256),_=bf(x,_,!1),_!==2){if(cf&&!C){x.errorRecoveryDisabledLanes|=d,wi|=d,c=4;break e}d=gn,gn=c,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}c=_}if(d=!1,c!==2)continue}}if(c===1){yu(e,0),Ya(e,t,0,!0);break}e:{switch(r=e,d=c,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ya(r,t,Qn,!qa);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=df+300-Mn(),10<c)){if(Ya(r,t,Qn,!qa),ke(r,0,!0)!==0)break e;r.timeoutHandle=yv(Ky.bind(null,r,n,gn,nc,ff,t,Qn,wi,fu,qa,d,2,-0,0),c);break e}Ky(r,n,gn,nc,ff,t,Qn,wi,fu,qa,d,0,-0,0)}}break}while(!0);pr(e)}function Ky(e,t,n,r,c,d,_,x,C,X,ae,le,$,P){if(e.timeoutHandle=-1,le=t.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:Eg},My(t),le=Og(),le!==null)){e.cancelPendingCommit=le(Zy.bind(null,e,t,d,n,r,c,_,x,C,ae,1,$,P)),Ya(e,d,_,!X);return}Zy(e,t,d,n,r,c,_,x,C)}function Yb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var c=n[r],d=c.getSnapshot;c=c.value;try{if(!ln(d(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t,n,r){t&=~sf,t&=~wi,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var d=31-Ht(c),_=1<<d;r[d]=-1,c&=~_}n!==0&&Ku(e,n,t)}function rc(){return(ct&6)===0?(zl(0),!1):!0}function pf(){if(nt!==null){if(st===0)var e=nt.return;else e=nt,Qr=pi=null,Us(e),uu=null,Al=0,e=nt;for(;e!==null;)gy(e.alternate,e),e=e.return;nt=null}}function yu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,ug(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),pf(),gt=e,nt=n=Yr(e.current,null),it=t,st=0,Tn=null,qa=!1,su=Zn(e,t),cf=!1,fu=Qn=sf=wi=Ha=Dt=0,gn=kl=null,ff=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-Ht(r),d=1<<c;t|=e[c],r&=~d}return Fr=t,Xe(),n}function Ly(e,t){Fe=null,Q.H=Vo,t===ml||t===ko?(t=ah(),st=3):t===th?(t=ah(),st=4):st=t===iy?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Tn=t,nt===null&&(Dt=1,$o(e,Ye(t,e.current)))}function Yy(){var e=Q.H;return Q.H=Vo,e===null?Vo:e}function Gy(){var e=Q.A;return Q.A=Kb,e}function mf(){Dt=4,qa||(it&4194048)!==it&&Vn.current!==null||(su=!0),(Ha&134217727)===0&&(wi&134217727)===0||gt===null||Ya(gt,it,Qn,!1)}function bf(e,t,n){var r=ct;ct|=2;var c=Yy(),d=Gy();(gt!==e||it!==t)&&(nc=null,yu(e,t)),t=!1;var _=Dt;e:do try{if(st!==0&&nt!==null){var x=nt,C=Tn;switch(st){case 8:pf(),_=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(t=!0);var X=st;if(st=0,Tn=null,vu(e,x,C,X),n&&su){_=0;break e}break;default:X=st,st=0,Tn=null,vu(e,x,C,X)}}Gb(),_=Dt;break}catch(ae){Ly(e,ae)}while(!0);return t&&e.shellSuspendCounter++,Qr=pi=null,ct=r,Q.H=c,Q.A=d,nt===null&&(gt=null,it=0,Xe()),_}function Gb(){for(;nt!==null;)Vy(nt)}function Vb(e,t){var n=ct;ct|=2;var r=Yy(),c=Gy();gt!==e||it!==t?(nc=null,tc=Mn()+500,yu(e,t)):su=Zn(e,t);e:do try{if(st!==0&&nt!==null){t=nt;var d=Tn;t:switch(st){case 1:st=0,Tn=null,vu(e,t,d,1);break;case 2:case 9:if(nh(d)){st=0,Tn=null,Qy(t);break}t=function(){st!==2&&st!==9||gt!==e||(st=7),pr(e)},d.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:nh(d)?(st=0,Tn=null,Qy(t)):(st=0,Tn=null,vu(e,t,d,7));break;case 5:var _=null;switch(nt.tag){case 26:_=nt.memoizedState;case 5:case 27:var x=nt;if(!_||Av(_)){st=0,Tn=null;var C=x.sibling;if(C!==null)nt=C;else{var X=x.return;X!==null?(nt=X,ac(X)):nt=null}break t}}st=0,Tn=null,vu(e,t,d,5);break;case 6:st=0,Tn=null,vu(e,t,d,6);break;case 8:pf(),Dt=6;break e;default:throw Error(l(462))}}Qb();break}catch(ae){Ly(e,ae)}while(!0);return Qr=pi=null,Q.H=r,Q.A=c,ct=n,nt!==null?0:(gt=null,it=0,Xe(),Dt)}function Qb(){for(;nt!==null&&!Or();)Vy(nt)}function Vy(e){var t=my(e.alternate,e,Fr);e.memoizedProps=e.pendingProps,t===null?ac(e):nt=t}function Qy(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=fy(n,t,t.pendingProps,t.type,void 0,it);break;case 11:t=fy(n,t,t.pendingProps,t.type.render,t.ref,it);break;case 5:Us(t);default:gy(n,t),t=nt=Xd(t,Fr),t=my(n,t,Fr)}e.memoizedProps=e.pendingProps,t===null?ac(e):nt=t}function vu(e,t,n,r){Qr=pi=null,Us(t),uu=null,Al=0;var c=t.return;try{if(kb(e,c,t,n,it)){Dt=1,$o(e,Ye(n,e.current)),nt=null;return}}catch(d){if(c!==null)throw nt=c,d;Dt=1,$o(e,Ye(n,e.current)),nt=null;return}t.flags&32768?(ot||r===1?e=!0:su||(it&536870912)!==0?e=!1:(qa=e=!0,(r===2||r===9||r===3||r===6)&&(r=Vn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Xy(t,e)):ac(t)}function ac(e){var t=e;do{if((t.flags&32768)!==0){Xy(t,qa);return}e=t.return;var n=zb(t.alternate,t,Fr);if(n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);Dt===0&&(Dt=5)}function Xy(e,t){do{var n=Bb(e.alternate,e);if(n!==null){n.flags&=32767,nt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=n}while(e!==null);Dt=6,nt=null}function Zy(e,t,n,r,c,d,_,x,C){e.cancelPendingCommit=null;do ic();while(en!==0);if((ct&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=Wt,Hu(e,n,d,_,x,C),e===gt&&(nt=gt=null,it=0),du=t,La=e,hu=n,hf=d,yf=c,By=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$b(sn,function(){return Wy(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null,c=fe.p,fe.p=2,_=ct,ct|=4;try{qb(e,t,n)}finally{ct=_,fe.p=c,Q.T=r}}en=1,Jy(),$y(),Iy()}}function Jy(){if(en===1){en=0;var e=La,t=du,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Q.T,Q.T=null;var r=fe.p;fe.p=2;var c=ct;ct|=4;try{Ry(t,e);var d=Rf,_=w(e.containerInfo),x=d.focusedElem,C=d.selectionRange;if(_!==x&&x&&x.ownerDocument&&p(x.ownerDocument.documentElement,x)){if(C!==null&&E(x)){var X=C.start,ae=C.end;if(ae===void 0&&(ae=X),"selectionStart"in x)x.selectionStart=X,x.selectionEnd=Math.min(ae,x.value.length);else{var le=x.ownerDocument||document,$=le&&le.defaultView||window;if($.getSelection){var P=$.getSelection(),Ze=x.textContent.length,Ve=Math.min(C.start,Ze),ht=C.end===void 0?Ve:Math.min(C.end,Ze);!P.extend&&Ve>ht&&(_=ht,ht=Ve,Ve=_);var L=y(x,Ve),N=y(x,ht);if(L&&N&&(P.rangeCount!==1||P.anchorNode!==L.node||P.anchorOffset!==L.offset||P.focusNode!==N.node||P.focusOffset!==N.offset)){var V=le.createRange();V.setStart(L.node,L.offset),P.removeAllRanges(),Ve>ht?(P.addRange(V),P.extend(N.node,N.offset)):(V.setEnd(N.node,N.offset),P.addRange(V))}}}}for(le=[],P=x;P=P.parentNode;)P.nodeType===1&&le.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<le.length;x++){var ie=le[x];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}mc=!!jf,Rf=jf=null}finally{ct=c,fe.p=r,Q.T=n}}e.current=t,en=2}}function $y(){if(en===2){en=0;var e=La,t=du,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Q.T,Q.T=null;var r=fe.p;fe.p=2;var c=ct;ct|=4;try{Ay(e,t.alternate,t)}finally{ct=c,fe.p=r,Q.T=n}}en=3}}function Iy(){if(en===4||en===3){en=0,ns();var e=La,t=du,n=hu,r=By;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?en=5:(en=0,du=La=null,Py(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ka=null),Yu(n),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=Q.T,c=fe.p,fe.p=2,Q.T=null;try{for(var d=e.onRecoverableError,_=0;_<r.length;_++){var x=r[_];d(x.value,{componentStack:x.stack})}}finally{Q.T=t,fe.p=c}}(hu&3)!==0&&ic(),pr(e),c=e.pendingLanes,(n&4194090)!==0&&(c&42)!==0?e===vf?Nl++:(Nl=0,vf=e):Nl=0,zl(0)}}function Py(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vl(t)))}function ic(e){return Jy(),$y(),Iy(),Wy()}function Wy(){if(en!==5)return!1;var e=La,t=hf;hf=0;var n=Yu(hu),r=Q.T,c=fe.p;try{fe.p=32>n?32:n,Q.T=null,n=yf,yf=null;var d=La,_=hu;if(en=0,du=La=null,hu=0,(ct&6)!==0)throw Error(l(331));var x=ct;if(ct|=4,Ny(d.current),Uy(d,d.current,_,n),ct=x,zl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(_n,d)}catch{}return!0}finally{fe.p=c,Q.T=r,Py(e,t)}}function Fy(e,t,n){t=Ye(n,t),t=Xs(e.stateNode,t,2),e=Ca(e,t,2),e!==null&&(sa(e,2),pr(e))}function mt(e,t,n){if(e.tag===3)Fy(e,e,n);else for(;t!==null;){if(t.tag===3){Fy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ka===null||!Ka.has(r))){e=Ye(n,e),n=ry(2),r=Ca(t,n,2),r!==null&&(ay(n,r,t,e),sa(r,2),pr(r));break}}t=t.return}}function gf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Lb;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(n)||(cf=!0,c.add(n),e=Xb.bind(null,e,t,n),t.then(e,e))}function Xb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gt===e&&(it&n)===n&&(Dt===4||Dt===3&&(it&62914560)===it&&300>Mn()-df?(ct&2)===0&&yu(e,0):sf|=n,fu===it&&(fu=0)),pr(e)}function ev(e,t){t===0&&(t=Te()),e=In(e,t),e!==null&&(sa(e,t),pr(e))}function Zb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ev(e,n)}function Jb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),ev(e,n)}function $b(e,t){return xr(e,t)}var uc=null,pu=null,_f=!1,lc=!1,Sf=!1,Ei=0;function pr(e){e!==pu&&e.next===null&&(pu===null?uc=pu=e:pu=pu.next=e),lc=!0,_f||(_f=!0,Pb())}function zl(e,t){if(!Sf&&lc){Sf=!0;do for(var n=!1,r=uc;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var d=0;else{var _=r.suspendedLanes,x=r.pingedLanes;d=(1<<31-Ht(42|e)+1)-1,d&=c&~(_&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,av(r,d))}else d=it,d=ke(r,r===gt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||Zn(r,d)||(n=!0,av(r,d));r=r.next}while(n);Sf=!1}}function Ib(){tv()}function tv(){lc=_f=!1;var e=0;Ei!==0&&(ig()&&(e=Ei),Ei=0);for(var t=Mn(),n=null,r=uc;r!==null;){var c=r.next,d=nv(r,t);d===0?(r.next=null,n===null?uc=c:n.next=c,c===null&&(pu=n)):(n=r,(e!==0||(d&3)!==0)&&(lc=!0)),r=c}zl(e)}function nv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Ht(d),x=1<<_,C=c[_];C===-1?((x&n)===0||(x&r)!==0)&&(c[_]=Dr(x,t)):C<=t&&(e.expiredLanes|=x),d&=~x}if(t=gt,n=it,n=ke(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(st===2||st===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Bu(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Zn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Bu(r),Yu(n)){case 2:case 8:n=Ti;break;case 32:n=sn;break;case 268435456:n=oa;break;default:n=sn}return r=rv.bind(null,e),n=xr(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Bu(r),e.callbackPriority=2,e.callbackNode=null,2}function rv(e,t){if(en!==0&&en!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ic()&&e.callbackNode!==n)return null;var r=it;return r=ke(e,e===gt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Hy(e,r,t),nv(e,Mn()),e.callbackNode!=null&&e.callbackNode===n?rv.bind(null,e):null)}function av(e,t){if(ic())return null;Hy(e,t,!0)}function Pb(){lg(function(){(ct&6)!==0?xr(so,Ib):tv()})}function wf(){return Ei===0&&(Ei=Fa()),Ei}function iv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mr(""+e)}function uv(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Wb(e,t,n,r,c){if(t==="submit"&&n&&n.stateNode===c){var d=iv((c[We]||null).action),_=r.submitter;_&&(t=(t=_[We]||null)?iv(t.formAction):_.getAttribute("formAction"),t!==null&&(d=t,_=null));var x=new zi("action","action",null,r,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ei!==0){var C=_?uv(c,_):new FormData(c);Ls(n,{pending:!0,data:C,method:c.method,action:d},null,C)}}else typeof d=="function"&&(x.preventDefault(),C=_?uv(c,_):new FormData(c),Ls(n,{pending:!0,data:C,method:c.method,action:d},d,C))},currentTarget:c}]})}}for(var Ef=0;Ef<Ee.length;Ef++){var xf=Ee[Ef],Fb=xf.toLowerCase(),eg=xf[0].toUpperCase()+xf.slice(1);he(Fb,"on"+eg)}he(Z,"onAnimationEnd"),he(W,"onAnimationIteration"),he(F,"onAnimationStart"),he("dblclick","onDoubleClick"),he("focusin","onFocus"),he("focusout","onBlur"),he(re,"onTransitionRun"),he(ye,"onTransitionStart"),he(Se,"onTransitionCancel"),he(de,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function lv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],c=r.event;r=r.listeners;e:{var d=void 0;if(t)for(var _=r.length-1;0<=_;_--){var x=r[_],C=x.instance,X=x.currentTarget;if(x=x.listener,C!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=X;try{d(c)}catch(ae){Jo(ae)}c.currentTarget=null,d=C}else for(_=0;_<r.length;_++){if(x=r[_],C=x.instance,X=x.currentTarget,x=x.listener,C!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=X;try{d(c)}catch(ae){Jo(ae)}c.currentTarget=null,d=C}}}}function rt(e,t){var n=t[Gu];n===void 0&&(n=t[Gu]=new Set);var r=e+"__bubble";n.has(r)||(ov(t,e,2,!1),n.add(r))}function Of(e,t,n){var r=0;t&&(r|=4),ov(n,e,r,t)}var oc="_reactListening"+Math.random().toString(36).slice(2);function Af(e){if(!e[oc]){e[oc]=!0,Vu.forEach(function(n){n!=="selectionchange"&&(tg.has(n)||Of(n,!1,e),Of(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oc]||(t[oc]=!0,Of("selectionchange",!1,t))}}function ov(e,t,n,r){switch(Uv(t)){case 2:var c=Dg;break;case 8:c=jg;break;default:c=Kf}n=c.bind(null,t,n,e),c=void 0,!Pu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Tf(e,t,n,r,c){var d=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var _=r.tag;if(_===3||_===4){var x=r.stateNode.containerInfo;if(x===c)break;if(_===4)for(_=r.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;x!==null;){if(_=Sn(x),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){r=d=_;continue e}x=x.parentNode}}r=r.return}_a(function(){var X=d,ae=ki(n),le=[];e:{var $=ve.get(e);if($!==void 0){var P=zi,Ze=e;switch(e){case"keypress":if(Ea(n)===0)break e;case"keydown":case"keyup":P=Vi;break;case"focusin":Ze="focus",P=xa;break;case"focusout":Ze="blur",P=xa;break;case"beforeblur":case"afterblur":P=xa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=al;break;case Z:case W:case F:P=bo;break;case de:P=il;break;case"scroll":case"scrollend":P=Bi;break;case"wheel":P=Xi;break;case"copy":case"cut":case"paste":P=Yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=rl;break;case"toggle":case"beforetoggle":P=So}var Ve=(t&4)!==0,ht=!Ve&&(e==="scroll"||e==="scrollend"),L=Ve?$!==null?$+"Capture":null:$;Ve=[];for(var N=X,V;N!==null;){var ie=N;if(V=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||V===null||L===null||(ie=zr(N,L),ie!=null&&Ve.push(ql(N,ie,V))),ht)break;N=N.return}0<Ve.length&&($=new P($,Ze,null,n,ae),le.push({event:$,listeners:Ve}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",$&&n!==qn&&(Ze=n.relatedTarget||n.fromElement)&&(Sn(Ze)||Ze[_t]))break e;if((P||$)&&($=ae.window===ae?ae:($=ae.ownerDocument)?$.defaultView||$.parentWindow:window,P?(Ze=n.relatedTarget||n.toElement,P=X,Ze=Ze?Sn(Ze):null,Ze!==null&&(ht=h(Ze),Ve=Ze.tag,Ze!==ht||Ve!==5&&Ve!==27&&Ve!==6)&&(Ze=null)):(P=null,Ze=X),P!==Ze)){if(Ve=Hi,ie="onMouseLeave",L="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Ve=rl,ie="onPointerLeave",L="onPointerEnter",N="pointer"),ht=P==null?$:tr(P),V=Ze==null?$:tr(Ze),$=new Ve(ie,N+"leave",P,n,ae),$.target=ht,$.relatedTarget=V,ie=null,Sn(ae)===X&&(Ve=new Ve(L,N+"enter",Ze,n,ae),Ve.target=V,Ve.relatedTarget=ht,ie=Ve),ht=ie,P&&Ze)t:{for(Ve=P,L=Ze,N=0,V=Ve;V;V=mu(V))N++;for(V=0,ie=L;ie;ie=mu(ie))V++;for(;0<N-V;)Ve=mu(Ve),N--;for(;0<V-N;)L=mu(L),V--;for(;N--;){if(Ve===L||L!==null&&Ve===L.alternate)break t;Ve=mu(Ve),L=mu(L)}Ve=null}else Ve=null;P!==null&&cv(le,$,P,Ve,!1),Ze!==null&&ht!==null&&cv(le,ht,Ze,Ve,!0)}}e:{if($=X?tr(X):window,P=$.nodeName&&$.nodeName.toLowerCase(),P==="select"||P==="input"&&$.type==="file")var Me=si;else if($i($))if(Kn)Me=Ta;else{Me=Lr;var et=To}else P=$.nodeName,!P||P.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?X&&Iu(X.elementType)&&(Me=si):Me=sl;if(Me&&(Me=Me(e,X))){cl(le,Me,n,ae);break e}et&&et(e,$,X),e==="focusout"&&X&&$.type==="number"&&X.memoizedProps.value!=null&&pa($,"number",$.value)}switch(et=X?tr(X):window,e){case"focusin":($i(et)||et.contentEditable==="true")&&(R=et,k=X,z=null);break;case"focusout":z=k=R=null;break;case"mousedown":K=!0;break;case"contextmenu":case"mouseup":case"dragend":K=!1,U(le,n,ae);break;case"selectionchange":if(T)break;case"keydown":case"keyup":U(le,n,ae)}var Ke;if(oi)e:{switch(e){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Kr?ol(e,n)&&(Qe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Qe="onCompositionStart");Qe&&(Zi&&n.locale!=="ko"&&(Kr||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Kr&&(Ke=wa()):(Hn=ae,Ni="value"in Hn?Hn.value:Hn.textContent,Kr=!0)),et=cc(X,Qe),0<et.length&&(Qe=new Gi(Qe,e,null,n,ae),le.push({event:Qe,listeners:et}),Ke?Qe.data=Ke:(Ke=Eo(n),Ke!==null&&(Qe.data=Ke)))),(Ke=us?xo(e,n):ls(e,n))&&(Qe=cc(X,"onBeforeInput"),0<Qe.length&&(et=new Gi("onBeforeInput","beforeinput",null,n,ae),le.push({event:et,listeners:Qe}),et.data=Ke)),Wb(le,e,X,n,ae)}lv(le,t)})}function ql(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cc(e,t){for(var n=t+"Capture",r=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=zr(e,n),c!=null&&r.unshift(ql(e,c,d)),c=zr(e,t),c!=null&&r.push(ql(e,c,d))),e.tag===3)return r;e=e.return}return[]}function mu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cv(e,t,n,r,c){for(var d=t._reactName,_=[];n!==null&&n!==r;){var x=n,C=x.alternate,X=x.stateNode;if(x=x.tag,C!==null&&C===r)break;x!==5&&x!==26&&x!==27||X===null||(C=X,c?(X=zr(n,d),X!=null&&_.unshift(ql(n,X,C))):c||(X=zr(n,d),X!=null&&_.push(ql(n,X,C)))),n=n.return}_.length!==0&&e.push({event:t,listeners:_})}var ng=/\r\n?/g,rg=/\u0000|\uFFFD/g;function sv(e){return(typeof e=="string"?e:""+e).replace(ng,`
`).replace(rg,"")}function fv(e,t){return t=sv(t),sv(e)===t}function sc(){}function dt(e,t,n,r,c,d){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||ba(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&ba(e,""+r);break;case"className":Rr(e,"class",r);break;case"tabIndex":Rr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(e,n,r);break;case"style":vo(e,r,d);break;case"data":if(t!=="object"){Rr(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Mr(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&dt(e,t,"name",c.name,c,null),dt(e,t,"formEncType",c.formEncType,c,null),dt(e,t,"formMethod",c.formMethod,c,null),dt(e,t,"formTarget",c.formTarget,c,null)):(dt(e,t,"encType",c.encType,c,null),dt(e,t,"method",c.method,c,null),dt(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Mr(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=sc);break;case"onScroll":r!=null&&rt("scroll",e);break;case"onScrollEnd":r!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(n=r.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Mr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":rt("beforetoggle",e),rt("toggle",e),Jn(e,"popover",r);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Jn(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hn.get(n)||n,Jn(e,n,r))}}function Df(e,t,n,r,c,d){switch(n){case"style":vo(e,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(n=r.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof r=="string"?ba(e,r):(typeof r=="number"||typeof r=="bigint")&&ba(e,""+r);break;case"onScroll":r!=null&&rt("scroll",e);break;case"onScrollEnd":r!=null&&rt("scrollend",e);break;case"onClick":r!=null&&(e.onclick=sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nr.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),d=e[We]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof r=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,c);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Jn(e,n,r)}}}function tn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var r=!1,c=!1,d;for(d in n)if(n.hasOwnProperty(d)){var _=n[d];if(_!=null)switch(d){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:dt(e,t,d,_,n,null)}}c&&dt(e,t,"srcSet",n.srcSet,n,null),r&&dt(e,t,"src",n.src,n,null);return;case"input":rt("invalid",e);var x=d=_=c=null,C=null,X=null;for(r in n)if(n.hasOwnProperty(r)){var ae=n[r];if(ae!=null)switch(r){case"name":c=ae;break;case"type":_=ae;break;case"checked":C=ae;break;case"defaultChecked":X=ae;break;case"value":d=ae;break;case"defaultValue":x=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(l(137,t));break;default:dt(e,t,r,ae,n,null)}}Ju(e,d,x,C,X,_,c,!1),lr(e);return;case"select":rt("invalid",e),r=_=d=null;for(c in n)if(n.hasOwnProperty(c)&&(x=n[c],x!=null))switch(c){case"value":d=x;break;case"defaultValue":_=x;break;case"multiple":r=x;default:dt(e,t,c,x,n,null)}t=d,n=_,e.multiple=!!r,t!=null?Ur(e,!!r,t,!1):n!=null&&Ur(e,!!r,n,!0);return;case"textarea":rt("invalid",e),d=c=r=null;for(_ in n)if(n.hasOwnProperty(_)&&(x=n[_],x!=null))switch(_){case"value":r=x;break;case"defaultValue":c=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:dt(e,t,_,x,n,null)}$u(e,r,c,d),lr(e);return;case"option":for(C in n)if(n.hasOwnProperty(C)&&(r=n[C],r!=null))switch(C){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:dt(e,t,C,r,n,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(r=0;r<Bl.length;r++)rt(Bl[r],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in n)if(n.hasOwnProperty(X)&&(r=n[X],r!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:dt(e,t,X,r,n,null)}return;default:if(Iu(t)){for(ae in n)n.hasOwnProperty(ae)&&(r=n[ae],r!==void 0&&Df(e,t,ae,r,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(r=n[x],r!=null&&dt(e,t,x,r,n,null))}function ag(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,_=null,x=null,C=null,X=null,ae=null;for(P in n){var le=n[P];if(n.hasOwnProperty(P)&&le!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":C=le;default:r.hasOwnProperty(P)||dt(e,t,P,null,r,le)}}for(var $ in r){var P=r[$];if(le=n[$],r.hasOwnProperty($)&&(P!=null||le!=null))switch($){case"type":d=P;break;case"name":c=P;break;case"checked":X=P;break;case"defaultChecked":ae=P;break;case"value":_=P;break;case"defaultValue":x=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,t));break;default:P!==le&&dt(e,t,$,P,r,le)}}va(e,_,x,C,X,ae,d,c);return;case"select":P=_=x=$=null;for(d in n)if(C=n[d],n.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":P=C;default:r.hasOwnProperty(d)||dt(e,t,d,null,r,C)}for(c in r)if(d=r[c],C=n[c],r.hasOwnProperty(c)&&(d!=null||C!=null))switch(c){case"value":$=d;break;case"defaultValue":x=d;break;case"multiple":_=d;default:d!==C&&dt(e,t,c,d,r,C)}t=x,n=_,r=P,$!=null?Ur(e,!!n,$,!1):!!r!=!!n&&(t!=null?Ur(e,!!n,t,!0):Ur(e,!!n,n?[]:"",!1));return;case"textarea":P=$=null;for(x in n)if(c=n[x],n.hasOwnProperty(x)&&c!=null&&!r.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:dt(e,t,x,null,r,c)}for(_ in r)if(c=r[_],d=n[_],r.hasOwnProperty(_)&&(c!=null||d!=null))switch(_){case"value":$=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==d&&dt(e,t,_,c,r,d)}ma(e,$,P);return;case"option":for(var Ze in n)if($=n[Ze],n.hasOwnProperty(Ze)&&$!=null&&!r.hasOwnProperty(Ze))switch(Ze){case"selected":e.selected=!1;break;default:dt(e,t,Ze,null,r,$)}for(C in r)if($=r[C],P=n[C],r.hasOwnProperty(C)&&$!==P&&($!=null||P!=null))switch(C){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:dt(e,t,C,$,r,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in n)$=n[Ve],n.hasOwnProperty(Ve)&&$!=null&&!r.hasOwnProperty(Ve)&&dt(e,t,Ve,null,r,$);for(X in r)if($=r[X],P=n[X],r.hasOwnProperty(X)&&$!==P&&($!=null||P!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:dt(e,t,X,$,r,P)}return;default:if(Iu(t)){for(var ht in n)$=n[ht],n.hasOwnProperty(ht)&&$!==void 0&&!r.hasOwnProperty(ht)&&Df(e,t,ht,void 0,r,$);for(ae in r)$=r[ae],P=n[ae],!r.hasOwnProperty(ae)||$===P||$===void 0&&P===void 0||Df(e,t,ae,$,r,P);return}}for(var L in n)$=n[L],n.hasOwnProperty(L)&&$!=null&&!r.hasOwnProperty(L)&&dt(e,t,L,null,r,$);for(le in r)$=r[le],P=n[le],!r.hasOwnProperty(le)||$===P||$==null&&P==null||dt(e,t,le,$,r,P)}var jf=null,Rf=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function dv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uf=null;function ig(){var e=window.event;return e&&e.type==="popstate"?e===Uf?!1:(Uf=e,!0):(Uf=null,!1)}var yv=typeof setTimeout=="function"?setTimeout:void 0,ug=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,lg=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(e){return vv.resolve(null).then(e).catch(og)}:yv;function og(e){setTimeout(function(){throw e})}function Ga(e){return e==="head"}function pv(e,t){var n=t,r=0,c=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(0<r&&8>r){n=r;var _=e.ownerDocument;if(n&1&&Hl(_.documentElement),n&2&&Hl(_.body),n&4)for(n=_.head,Hl(n),_=n.firstChild;_;){var x=_.nextSibling,C=_.nodeName;_[ni]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||n.removeChild(_),_=x}}if(c===0){e.removeChild(d),Zl(t);return}c--}else n==="$"||n==="$?"||n==="$!"?c++:r=n.charCodeAt(0)-48;else r=0;n=d}while(n);Zl(t)}function Mf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Mf(n),zn(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function cg(e,t,n,r){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[ni])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Wn(e.nextSibling),e===null)break}return null}function sg(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Wn(e.nextSibling),e===null))return null;return e}function kf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function fg(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Nf=null;function mv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function bv(e,t,n){switch(t=fc(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Hl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zn(e)}var Xn=new Map,gv=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ea=fe.d;fe.d={f:dg,r:hg,D:yg,C:vg,L:pg,m:mg,X:gg,S:bg,M:_g};function dg(){var e=ea.f(),t=rc();return e||t}function hg(e){var t=fn(e);t!==null&&t.tag===5&&t.type==="form"?Hh(t):ea.r(e)}var bu=typeof document>"u"?null:document;function _v(e,t,n){var r=bu;if(r&&typeof t=="string"&&t){var c=an(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),gv.has(c)||(gv.add(c),e={rel:e,crossOrigin:n,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),tn(t,"link",e),vt(t),r.head.appendChild(t)))}}function yg(e){ea.D(e),_v("dns-prefetch",e,null)}function vg(e,t){ea.C(e,t),_v("preconnect",e,t)}function pg(e,t,n){ea.L(e,t,n);var r=bu;if(r&&e&&t){var c='link[rel="preload"][as="'+an(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+an(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+an(n.imageSizes)+'"]')):c+='[href="'+an(e)+'"]';var d=c;switch(t){case"style":d=gu(e);break;case"script":d=_u(e)}Xn.has(d)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Xn.set(d,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(Kl(d))||t==="script"&&r.querySelector(Ll(d))||(t=r.createElement("link"),tn(t,"link",e),vt(t),r.head.appendChild(t)))}}function mg(e,t){ea.m(e,t);var n=bu;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+an(r)+'"][href="'+an(e)+'"]',d=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=_u(e)}if(!Xn.has(d)&&(e=v({rel:"modulepreload",href:e},t),Xn.set(d,e),n.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ll(d)))return}r=n.createElement("link"),tn(r,"link",e),vt(r),n.head.appendChild(r)}}}function bg(e,t,n){ea.S(e,t,n);var r=bu;if(r&&e){var c=da(r).hoistableStyles,d=gu(e);t=t||"default";var _=c.get(d);if(!_){var x={loading:0,preload:null};if(_=r.querySelector(Kl(d)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Xn.get(d))&&zf(e,n);var C=_=r.createElement("link");vt(C),tn(C,"link",e),C._p=new Promise(function(X,ae){C.onload=X,C.onerror=ae}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,hc(_,t,r)}_={type:"stylesheet",instance:_,count:1,state:x},c.set(d,_)}}}function gg(e,t){ea.X(e,t);var n=bu;if(n&&e){var r=da(n).hoistableScripts,c=_u(e),d=r.get(c);d||(d=n.querySelector(Ll(c)),d||(e=v({src:e,async:!0},t),(t=Xn.get(c))&&Bf(e,t),d=n.createElement("script"),vt(d),tn(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function _g(e,t){ea.M(e,t);var n=bu;if(n&&e){var r=da(n).hoistableScripts,c=_u(e),d=r.get(c);d||(d=n.querySelector(Ll(c)),d||(e=v({src:e,async:!0,type:"module"},t),(t=Xn.get(c))&&Bf(e,t),d=n.createElement("script"),vt(d),tn(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function Sv(e,t,n,r){var c=(c=He.current)?dc(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=gu(n.href),n=da(c).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=gu(n.href);var d=da(c).hoistableStyles,_=d.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=c.querySelector(Kl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Xn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Xn.set(e,n),d||Sg(c,e,n,_.state))),t&&r===null)throw Error(l(528,""));return _}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_u(n),n=da(c).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function gu(e){return'href="'+an(e)+'"'}function Kl(e){return'link[rel="stylesheet"]['+e+"]"}function wv(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Sg(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),tn(t,"link",n),vt(t),e.head.appendChild(t))}function _u(e){return'[src="'+an(e)+'"]'}function Ll(e){return"script[async]"+e}function Ev(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+an(n.href)+'"]');if(r)return t.instance=r,vt(r),r;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),vt(r),tn(r,"style",c),hc(r,n.precedence,e),t.instance=r;case"stylesheet":c=gu(n.href);var d=e.querySelector(Kl(c));if(d)return t.state.loading|=4,t.instance=d,vt(d),d;r=wv(n),(c=Xn.get(c))&&zf(r,c),d=(e.ownerDocument||e).createElement("link"),vt(d);var _=d;return _._p=new Promise(function(x,C){_.onload=x,_.onerror=C}),tn(d,"link",r),t.state.loading|=4,hc(d,n.precedence,e),t.instance=d;case"script":return d=_u(n.src),(c=e.querySelector(Ll(d)))?(t.instance=c,vt(c),c):(r=n,(c=Xn.get(d))&&(r=v({},n),Bf(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),vt(c),tn(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,hc(r,n.precedence,e));return t.instance}function hc(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,d=c,_=0;_<r.length;_++){var x=r[_];if(x.dataset.precedence===t)d=x;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function zf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var yc=null;function xv(e,t,n){if(yc===null){var r=new Map,c=yc=new Map;c.set(n,r)}else c=yc,r=c.get(n),r||(r=new Map,c.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var d=n[c];if(!(d[ni]||d[Rt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(t)||"";_=e+_;var x=r.get(_);x?x.push(d):r.set(_,[d])}}return r}function Ov(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function wg(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Av(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Yl=null;function Eg(){}function xg(e,t,n){if(Yl===null)throw Error(l(475));var r=Yl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=gu(n.href),d=e.querySelector(Kl(c));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=vc.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=d,vt(d);return}d=e.ownerDocument||e,n=wv(n),(c=Xn.get(c))&&zf(n,c),d=d.createElement("link"),vt(d);var _=d;_._p=new Promise(function(x,C){_.onload=x,_.onerror=C}),tn(d,"link",n),t.instance=d}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=vc.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function Og(){if(Yl===null)throw Error(l(475));var e=Yl;return e.stylesheets&&e.count===0&&qf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qf(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function vc(){if(this.count--,this.count===0){if(this.stylesheets)qf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function qf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,t.forEach(Ag,e),pc=null,vc.call(e))}function Ag(e,t){if(!(t.state.loading&4)){var n=pc.get(e);if(n)var r=n.get(null);else{n=new Map,pc.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var _=c[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(n.set(_.dataset.precedence,_),r=_)}r&&n.set(null,r)}c=t.instance,_=c.getAttribute("data-precedence"),d=n.get(_)||r,d===r&&n.set(null,c),n.set(_,c),this.count++,r=vc.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Gl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function Tg(e,t,n,r,c,d,_,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Tv(e,t,n,r,c,d,_,x,C,X,ae,le){return e=new Tg(e,t,n,_,x,C,X,le),t=1,d===!0&&(t|=24),d=xn(3,null,null,t),e.current=d,d.stateNode=e,t=bs(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:r,isDehydrated:n,cache:t},ws(d),e}function Dv(e){return e?(e=fr,e):fr}function jv(e,t,n,r,c,d){c=Dv(c),r.context===null?r.context=c:r.pendingContext=c,r=Ra(t),r.payload={element:n},d=d===void 0?null:d,d!==null&&(r.callback=d),n=Ca(e,r,t),n!==null&&(jn(n,e,t),gl(n,e,t))}function Rv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hf(e,t){Rv(e,t),(e=e.alternate)&&Rv(e,t)}function Cv(e){if(e.tag===13){var t=In(e,67108864);t!==null&&jn(t,e,67108864),Hf(e,67108864)}}var mc=!0;function Dg(e,t,n,r){var c=Q.T;Q.T=null;var d=fe.p;try{fe.p=2,Kf(e,t,n,r)}finally{fe.p=d,Q.T=c}}function jg(e,t,n,r){var c=Q.T;Q.T=null;var d=fe.p;try{fe.p=8,Kf(e,t,n,r)}finally{fe.p=d,Q.T=c}}function Kf(e,t,n,r){if(mc){var c=Lf(r);if(c===null)Tf(e,t,r,bc,n),Mv(e,r);else if(Cg(c,e,t,n,r))r.stopPropagation();else if(Mv(e,r),t&4&&-1<Rg.indexOf(e)){for(;c!==null;){var d=fn(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=rn(d.pendingLanes);if(_!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var C=1<<31-Ht(_);x.entanglements[1]|=C,_&=~C}pr(d),(ct&6)===0&&(tc=Mn()+500,zl(0))}}break;case 13:x=In(d,2),x!==null&&jn(x,d,2),rc(),Hf(d,2)}if(d=Lf(r),d===null&&Tf(e,t,r,bc,n),d===c)break;c=d}c!==null&&r.stopPropagation()}else Tf(e,t,r,null,n)}}function Lf(e){return e=ki(e),Yf(e)}var bc=null;function Yf(e){if(bc=null,e=Sn(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bc=e,null}function Uv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case so:return 2;case Ti:return 8;case sn:case fo:return 32;case oa:return 268435456;default:return 32}default:return 32}}var Gf=!1,Va=null,Qa=null,Xa=null,Vl=new Map,Ql=new Map,Za=[],Rg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":Vl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(t.pointerId)}}function Xl(e,t,n,r,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:d,targetContainers:[c]},t!==null&&(t=fn(t),t!==null&&Cv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Cg(e,t,n,r,c){switch(t){case"focusin":return Va=Xl(Va,e,t,n,r,c),!0;case"dragenter":return Qa=Xl(Qa,e,t,n,r,c),!0;case"mouseover":return Xa=Xl(Xa,e,t,n,r,c),!0;case"pointerover":var d=c.pointerId;return Vl.set(d,Xl(Vl.get(d)||null,e,t,n,r,c)),!0;case"gotpointercapture":return d=c.pointerId,Ql.set(d,Xl(Ql.get(d)||null,e,t,n,r,c)),!0}return!1}function kv(e){var t=Sn(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,fa(e.priority,function(){if(n.tag===13){var r=Dn();r=Lu(r);var c=In(n,r);c!==null&&jn(c,n,r),Hf(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lf(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qn=r,n.target.dispatchEvent(r),qn=null}else return t=fn(n),t!==null&&Cv(t),e.blockedOn=n,!1;t.shift()}return!0}function Nv(e,t,n){gc(e)&&n.delete(t)}function Ug(){Gf=!1,Va!==null&&gc(Va)&&(Va=null),Qa!==null&&gc(Qa)&&(Qa=null),Xa!==null&&gc(Xa)&&(Xa=null),Vl.forEach(Nv),Ql.forEach(Nv)}function _c(e,t){e.blockedOn===t&&(e.blockedOn=null,Gf||(Gf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ug)))}var Sc=null;function zv(e){Sc!==e&&(Sc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(Yf(r||n)===null)continue;break}var d=fn(n);d!==null&&(e.splice(t,3),t-=3,Ls(d,{pending:!0,data:c,method:n.method,action:r},r,c))}}))}function Zl(e){function t(C){return _c(C,e)}Va!==null&&_c(Va,e),Qa!==null&&_c(Qa,e),Xa!==null&&_c(Xa,e),Vl.forEach(t),Ql.forEach(t);for(var n=0;n<Za.length;n++){var r=Za[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Za.length&&(n=Za[0],n.blockedOn===null);)kv(n),n.blockedOn===null&&Za.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var c=n[r],d=n[r+1],_=c[We]||null;if(typeof d=="function")_||zv(n);else if(_){var x=null;if(d&&d.hasAttribute("formAction")){if(c=d,_=d[We]||null)x=_.formAction;else if(Yf(c)!==null)continue}else x=_.action;typeof x=="function"?n[r+1]=x:(n.splice(r,3),r-=3),zv(n)}}}function Vf(e){this._internalRoot=e}wc.prototype.render=Vf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,r=Dn();jv(n,r,e,t,null,null)},wc.prototype.unmount=Vf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jv(e.current,2,null,e,null,null),rc(),t[_t]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jr();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Za.length&&t!==0&&t<Za[n].priority;n++);Za.splice(n,0,e),n===0&&kv(e)}};var Bv=u.version;if(Bv!=="19.1.0")throw Error(l(527,Bv,"19.1.0"));fe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=S(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Mg={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{_n=Ec.inject(Mg),jt=Ec}catch{}}return $l.createRoot=function(e,t){if(!f(e))throw Error(l(299));var n=!1,r="",c=Fh,d=ey,_=ty,x=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(x=t.unstable_transitionCallbacks)),t=Tv(e,1,!1,null,null,n,r,c,d,_,x,null),e[_t]=t.current,Af(e),new Vf(t)},$l.hydrateRoot=function(e,t,n){if(!f(e))throw Error(l(299));var r=!1,c="",d=Fh,_=ey,x=ty,C=null,X=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(_=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks),n.formState!==void 0&&(X=n.formState)),t=Tv(e,1,!0,t,n??null,r,c,d,_,x,C,X),t.context=Dv(null),n=t.current,r=Dn(),r=Lu(r),c=Ra(r),c.callback=null,Ca(n,c,r),n=r,t.current.lanes=n,sa(t,n),pr(t),e[_t]=t.current,Af(e),new wc(t)},$l.version="19.1.0",$l}var Zv;function Qg(){if(Zv)return Zf.exports;Zv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(u){console.error(u)}}return a(),Zf.exports=Vg(),Zf.exports}var Xg=Qg();const Zg="modulepreload",Jg=function(a){return"/livesheet/"+a},Jv={},$g=function(u,i,l){let f=Promise.resolve();if(i&&i.length>0){let b=function(v){return Promise.all(v.map(O=>Promise.resolve(O).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};var m=b;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),S=g?.nonce||g?.getAttribute("nonce");f=b(i.map(v=>{if(v=Jg(v),v in Jv)return;Jv[v]=!0;const O=v.endsWith(".css"),A=O?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${A}`))return;const j=document.createElement("link");if(j.rel=O?"stylesheet":Zg,O||(j.as="script"),j.crossOrigin="",j.href=v,S&&j.setAttribute("nonce",S),document.head.appendChild(j),O)return new Promise((q,I)=>{j.addEventListener("load",q),j.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${v}`)))})}))}function h(g){const S=new Event("vite:preloadError",{cancelable:!0});if(S.payload=g,window.dispatchEvent(S),!S.defaultPrevented)throw g}return f.then(g=>{for(const S of g||[])S.status==="rejected"&&h(S.reason);return u().catch(h)})};function Ig(a={}){const{immediate:u=!1,onNeedRefresh:i,onOfflineReady:l,onRegistered:f,onRegisteredSW:h,onRegisterError:m}=a;let g,S;const b=async(O=!0)=>{await S};async function v(){if("serviceWorker"in navigator){if(g=await $g(async()=>{const{Workbox:O}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:O}},[]).then(({Workbox:O})=>new O("/livesheet/sw.js",{scope:"/livesheet/",type:"classic"})).catch(O=>{m?.(O)}),!g)return;g.addEventListener("activated",O=>{(O.isUpdate||O.isExternal)&&window.location.reload()}),g.addEventListener("installed",O=>{O.isUpdate||l?.()}),g.register({immediate:u}).then(O=>{h?h("/livesheet/sw.js",O):f?.(O)}).catch(O=>{m?.(O)})}}return S=v(),b}const Jp=$e.createContext(void 0),Zc=()=>{const a=$e.useContext(Jp);if(!a)throw new Error("useStateMachine must be used inside <StateMachine>");return a},mr=({name:a,onEnter:u,onExit:i,transition:l,children:f})=>{const{registerState:h,unregisterState:m,currentState:g}=Zc();return $e.useEffect(()=>{const S={element:f||be.jsx(be.Fragment,{}),onEnter:u,onExit:i,transition:l};return h(a,S),()=>{m(a)}},[a,u,i,l,h,m]),g===a?be.jsx(be.Fragment,{children:f}):null},Pg=({initial:a,children:u,name:i,className:l})=>{const f=`yg-${i??"#"}`,h=$e.useCallback(()=>{const oe=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"";return new URLSearchParams(oe).get(f)},[f]),m=$e.useCallback(()=>{const oe=new URLSearchParams(window.location.hash.startsWith("#?")?window.location.hash.slice(2):""),we=Array.from(oe.entries()).map(([Be,Ne])=>{const De=Number(Ne);return[Be,!isNaN(De)&&Ne!==""?De:Ne]});return Object.fromEntries(we)},[]),[g,S]=$e.useState(()=>h()??a),b=$e.useRef(g);$e.useEffect(()=>{b.current=g},[g]);const[v,O]=$e.useState(()=>m()),[A,j]=$e.useState(0),q=$e.useRef({}),I=$e.useCallback((oe,we)=>{q.current[oe]=we,j(Be=>Be+1)},[]),ne=$e.useCallback(oe=>{delete q.current[oe],j(we=>we+1)},[]),se=$e.useCallback(oe=>{S(we=>{if(we===oe)return we;const Be=we?q.current[we]?.transition:void 0;return Be&&!Be.includes(oe)?(console.warn(`Transition from "${we}" to "${oe}" not allowed.`),we):(we&&q.current[we]?.onExit?.(),q.current[oe]?.onEnter?.(),oe)})},[]),pe=$e.useCallback(oe=>{const we=b.current;if(we===oe)return;const Be=we?q.current[we]?.transition:void 0;if(Be&&!Be.includes(oe)){console.warn(`Transition from "${we}" to "${oe}" not allowed.`);return}const Ne=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"",De=new URLSearchParams(Ne);De.set(f,oe);const je=`#?${De.toString()}`;window.history.pushState(null,"",je),window.dispatchEvent(new HashChangeEvent("hashchange"))},[f]),ee=$e.useCallback(()=>{const oe=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"",we=new URLSearchParams(oe);we.delete(f);const Be=we.toString()?`#?${we.toString()}`:"";window.history.pushState(null,"",Be),window.dispatchEvent(new HashChangeEvent("hashchange"))},[f]),me=$e.useCallback((oe,we=!1)=>{O(Be=>{const Ne=we?Object.fromEntries(Object.entries(Be).filter(([Ce])=>Ce.startsWith("yg-"))):{...Be};for(const[Ce,ge]of Object.entries(oe))ge==null?delete Ne[Ce]:Ne[Ce]=ge;const De=Object.fromEntries(Object.entries(Ne).map(([Ce,ge])=>[Ce,String(ge)])),je=new URLSearchParams(De).toString();return window.location.hash=`?${je}`,Ne})},[]);$e.useEffect(()=>{if(!a)return;if(!h()){const we=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"",Be=new URLSearchParams(we);Be.set(f,a);const Ne=`#?${Be.toString()}`;window.history.replaceState(null,"",Ne)}},[a,h,f]),$e.useEffect(()=>{const oe=()=>{const we=h();we?we!==b.current&&se(we):S(void 0),O(m())};return oe(),window.addEventListener("hashchange",oe),()=>window.removeEventListener("hashchange",oe)},[se,h,m]);const xe=$e.useMemo(()=>({currentState:g,gotoState:pe,close:ee,is:oe=>oe===g,availableTransitions:g?q.current[g]?.transition??[]:[],query:v,setQuery:me,registerState:I,unregisterState:ne,param:f}),[g,pe,ee,v,me,I,ne,f,A]);return be.jsx(Jp.Provider,{value:xe,children:g?l?be.jsx("div",{className:l,children:u}):u:null})};function ra({data:a,replace:u,to:i,children:l,className:f,...h}){const{gotoState:m,is:g,setQuery:S}=Zc(),b=[f,g(i)?"active":void 0].filter(Boolean).join(" ");return be.jsx("button",{...h,className:b,onClick:()=>{m(i),a&&S(a,u)},children:l??i})}function $v(a){if(typeof a!="string")return!1;try{return JSON.parse(a),!0}catch{return!1}}function Wg(a="user",u={},i={}){const l=m=>`${a}.${String(m)}`,f=new Map,h=new Proxy(u,{set:(m,g,S)=>{if(typeof window>"u"||typeof g!="string")return!1;const b=g,v=l(b),O=localStorage.getItem(v),A=$v(O)?JSON.parse(O):O;return localStorage.setItem(v,JSON.stringify(S)),window.dispatchEvent(new CustomEvent("store:change",{detail:{property:b,oldValue:A,newValue:S,prefix:a}})),(f.get(b)??[]).forEach(j=>j(S,A)),!0},get:(m,g)=>{if(g==="on")return(b,v)=>{f.has(b)||f.set(b,[]),f.get(b).push(v)};if(g==="off")return(b,v)=>{const O=f.get(b);if(!O)return;const A=O.indexOf(v);A>-1&&O.splice(A,1)};if(typeof g!="string")return;const S=localStorage.getItem(l(g));return $v(S)?JSON.parse(S):S}});return Object.entries(i).forEach(([m,g])=>{const S=m;(h[S]===void 0||h[S]===null)&&(h[S]=g)}),h}function $p(a="user",u={}){const[,i]=$e.useState(0),l=$e.useRef(null);return!l.current&&typeof window<"u"&&(l.current=Wg(a,{},u)),$e.useEffect(()=>{const f=()=>i(g=>g+1),h=g=>{g.detail?.prefix===a&&f()},m=g=>{g.key?.startsWith(a+".")&&f()};return window.addEventListener("store:change",h),window.addEventListener("storage",m),()=>{window.removeEventListener("store:change",h),window.removeEventListener("storage",m)}},[a]),l.current??new Proxy({},{get:()=>{},set:()=>!0})}function Fg(){const a=$p();return be.jsxs("div",{className:"controls dont print",children:[be.jsx("button",{type:"button",onClick:()=>a.showChordset=!a.showChordset,children:a?.showChordset?"Hide Chordset":"Show Chordset"}),be.jsx("button",{type:"button",onClick:()=>a.showChords=!a.showChords,children:a?.showChords?"Hide Chords":"Show Chords"}),be.jsx("button",{type:"button",onClick:()=>a.showMeta=!a.showMeta,children:a?.showMeta?"Hide Info":"Show Info"})]})}function e0(){return be.jsxs("div",{className:"navigation dont print",children:[be.jsx(ra,{to:"songs",children:"All Songs"}),be.jsx(ra,{to:"song-add",children:"Add Song"}),be.jsx(ra,{to:"sets",children:"All Sets"}),be.jsx(ra,{to:"set-add",children:"Add Set"}),be.jsx(ra,{to:"settings",children:"Settings"})]})}const Ip={DEVICE:{},PENCIL:""};function t0(){return be.jsx("p",{children:"Welcome to LiveSheet!"})}var Uc={exports:{}},n0=Uc.exports,Iv;function r0(){return Iv||(Iv=1,function(a,u){(function(i,l){a.exports=l()})(n0,function(){var i=function(o,s){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var w in p)Object.prototype.hasOwnProperty.call(p,w)&&(y[w]=p[w])})(o,s)},l=function(){return(l=Object.assign||function(o){for(var s,y=1,p=arguments.length;y<p;y++)for(var w in s=arguments[y])Object.prototype.hasOwnProperty.call(s,w)&&(o[w]=s[w]);return o}).apply(this,arguments)};function f(o,s,y){for(var p,w=0,E=s.length;w<E;w++)!p&&w in s||((p=p||Array.prototype.slice.call(s,0,w))[w]=s[w]);return o.concat(p||Array.prototype.slice.call(s))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ng,m=Object.keys,g=Array.isArray;function S(o,s){return typeof s!="object"||m(s).forEach(function(y){o[y]=s[y]}),o}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var b=Object.getPrototypeOf,v={}.hasOwnProperty;function O(o,s){return v.call(o,s)}function A(o,s){typeof s=="function"&&(s=s(b(o))),(typeof Reflect>"u"?m:Reflect.ownKeys)(s).forEach(function(y){q(o,y,s[y])})}var j=Object.defineProperty;function q(o,s,y,p){j(o,s,S(y&&O(y,"get")&&typeof y.get=="function"?{get:y.get,set:y.set,configurable:!0}:{value:y,configurable:!0,writable:!0},p))}function I(o){return{from:function(s){return o.prototype=Object.create(s.prototype),q(o.prototype,"constructor",o),{extend:A.bind(null,o.prototype)}}}}var ne=Object.getOwnPropertyDescriptor,se=[].slice;function pe(o,s,y){return se.call(o,s,y)}function ee(o,s){return s(o)}function me(o){if(!o)throw new Error("Assertion Failed")}function xe(o){h.setImmediate?setImmediate(o):setTimeout(o,0)}function oe(o,s){if(typeof s=="string"&&O(o,s))return o[s];if(!s)return o;if(typeof s!="string"){for(var y=[],p=0,w=s.length;p<w;++p){var E=oe(o,s[p]);y.push(E)}return y}var T=s.indexOf(".");if(T!==-1){var R=o[s.substr(0,T)];return R==null?void 0:oe(R,s.substr(T+1))}}function we(o,s,y){if(o&&s!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof s!="string"&&"length"in s){me(typeof y!="string"&&"length"in y);for(var p=0,w=s.length;p<w;++p)we(o,s[p],y[p])}else{var E,T,R=s.indexOf(".");R!==-1?(E=s.substr(0,R),(T=s.substr(R+1))===""?y===void 0?g(o)&&!isNaN(parseInt(E))?o.splice(E,1):delete o[E]:o[E]=y:we(R=!(R=o[E])||!O(o,E)?o[E]={}:R,T,y)):y===void 0?g(o)&&!isNaN(parseInt(s))?o.splice(s,1):delete o[s]:o[s]=y}}function Be(o){var s,y={};for(s in o)O(o,s)&&(y[s]=o[s]);return y}var Ne=[].concat;function De(o){return Ne.apply([],o)}var _n="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(De([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(s){return s+o+"Array"})}))).filter(function(o){return h[o]}),je=new Set(_n.map(function(o){return h[o]})),Ce=null;function ge(o){return Ce=new WeakMap,o=function s(y){if(!y||typeof y!="object")return y;var p=Ce.get(y);if(p)return p;if(g(y)){p=[],Ce.set(y,p);for(var w=0,E=y.length;w<E;++w)p.push(s(y[w]))}else if(je.has(y.constructor))p=y;else{var T,R=b(y);for(T in p=R===Object.prototype?{}:Object.create(R),Ce.set(y,p),y)O(y,T)&&(p[T]=s(y[T]))}return p}(o),Ce=null,o}var _e={}.toString;function Ae(o){return _e.call(o).slice(8,-1)}var Q=typeof Symbol<"u"?Symbol.iterator:"@@iterator",fe=typeof Q=="symbol"?function(o){var s;return o!=null&&(s=o[Q])&&s.apply(o)}:function(){return null};function Re(o,s){return s=o.indexOf(s),0<=s&&o.splice(s,1),0<=s}var ce={};function D(o){var s,y,p,w;if(arguments.length===1){if(g(o))return o.slice();if(this===ce&&typeof o=="string")return[o];if(w=fe(o)){for(y=[];!(p=w.next()).done;)y.push(p.value);return y}if(o==null)return[o];if(typeof(s=o.length)!="number")return[o];for(y=new Array(s);s--;)y[s]=o[s];return y}for(s=arguments.length,y=new Array(s);s--;)y[s]=arguments[s];return y}var J=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Wa=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],yn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Wa),te={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ue(o,s){this.name=o,this.message=s}function Oe(o,s){return o+". Errors: "+Object.keys(s).map(function(y){return s[y].toString()}).filter(function(y,p,w){return w.indexOf(y)===p}).join(`
`)}function qe(o,s,y,p){this.failures=s,this.failedKeys=p,this.successCount=y,this.message=Oe(o,s)}function He(o,s){this.name="BulkError",this.failures=Object.keys(s).map(function(y){return s[y]}),this.failuresByPos=s,this.message=Oe(o,this.failures)}I(ue).from(Error).extend({toString:function(){return this.name+": "+this.message}}),I(qe).from(ue),I(He).from(ue);var Qt=yn.reduce(function(o,s){return o[s]=s+"Error",o},{}),bt=ue,ze=yn.reduce(function(o,s){var y=s+"Error";function p(w,E){this.name=y,w?typeof w=="string"?(this.message="".concat(w).concat(E?`
 `+E:""),this.inner=E||null):typeof w=="object"&&(this.message="".concat(w.name," ").concat(w.message),this.inner=w):(this.message=te[s]||y,this.inner=null)}return I(p).from(bt),o[s]=p,o},{});ze.Syntax=SyntaxError,ze.Type=TypeError,ze.Range=RangeError;var Ai=Wa.reduce(function(o,s){return o[s+"Error"]=ze[s],o},{}),Er=yn.reduce(function(o,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(o[s+"Error"]=ze[s]),o},{});function ut(){}function xr(o){return o}function Bu(o,s){return o==null||o===xr?s:function(y){return s(o(y))}}function Or(o,s){return function(){o.apply(this,arguments),s.apply(this,arguments)}}function ns(o,s){return o===ut?s:function(){var y=o.apply(this,arguments);y!==void 0&&(arguments[0]=y);var p=this.onsuccess,w=this.onerror;this.onsuccess=null,this.onerror=null;var E=s.apply(this,arguments);return p&&(this.onsuccess=this.onsuccess?Or(p,this.onsuccess):p),w&&(this.onerror=this.onerror?Or(w,this.onerror):w),E!==void 0?E:y}}function Mn(o,s){return o===ut?s:function(){o.apply(this,arguments);var y=this.onsuccess,p=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?Or(y,this.onsuccess):y),p&&(this.onerror=this.onerror?Or(p,this.onerror):p)}}function rs(o,s){return o===ut?s:function(y){var p=o.apply(this,arguments);S(y,p);var w=this.onsuccess,E=this.onerror;return this.onsuccess=null,this.onerror=null,y=s.apply(this,arguments),w&&(this.onsuccess=this.onsuccess?Or(w,this.onsuccess):w),E&&(this.onerror=this.onerror?Or(E,this.onerror):E),p===void 0?y===void 0?void 0:y:S(p,y)}}function so(o,s){return o===ut?s:function(){return s.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function Ti(o,s){return o===ut?s:function(){var y=o.apply(this,arguments);if(y&&typeof y.then=="function"){for(var p=this,w=arguments.length,E=new Array(w);w--;)E[w]=arguments[w];return y.then(function(){return s.apply(p,E)})}return s.apply(this,arguments)}}Er.ModifyError=qe,Er.DexieError=ue,Er.BulkError=He;var sn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function fo(o){sn=o}var oa={},ho=100,_n=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,b(o),o];var s=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[s,b(s),o]}(),Wa=_n[0],yn=_n[1],_n=_n[2],yn=yn&&yn.then,jt=Wa&&Wa.constructor,kn=!!_n,Ht=function(o,s){Zn.push([o,s]),Di&&(queueMicrotask(Yu),Di=!1)},qu=!0,Di=!0,Ar=[],Tr=[],ca=xr,rn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ut,pgp:!1,env:{},finalize:ut},ke=rn,Zn=[],Dr=0,Fa=[];function Te(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=ke;if(typeof o!="function"){if(o!==oa)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Hu(this,this._value))}this._state=null,this._value=null,++s.ref,function y(p,w){try{w(function(E){if(p._state===null){if(E===p)throw new TypeError("A promise cannot be resolved with itself.");var T=p._lib&&jr();E&&typeof E.then=="function"?y(p,function(R,k){E instanceof Te?E._then(R,k):E.then(R,k)}):(p._state=!0,p._value=E,Ku(p)),T&&fa()}},Hu.bind(null,p))}catch(E){Hu(p,E)}}(this,o)}var ei={get:function(){var o=ke,s=ti;function y(p,w){var E=this,T=!o.global&&(o!==ke||s!==ti),R=T&&!fn(),k=new Te(function(z,K){ji(E,new sa(rr(p,o,T,R),rr(w,o,T,R),z,K,o))});return this._consoleTask&&(k._consoleTask=this._consoleTask),k}return y.prototype=oa,y},set:function(o){q(this,"then",o&&o.prototype===oa?ei:{get:function(){return o},set:ei.set})}};function sa(o,s,y,p,w){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof s=="function"?s:null,this.resolve=y,this.reject=p,this.psd=w}function Hu(o,s){var y,p;Tr.push(s),o._state===null&&(y=o._lib&&jr(),s=ca(s),o._state=!1,o._value=s,p=o,Ar.some(function(w){return w._value===p._value})||Ar.push(p),Ku(o),y&&fa())}function Ku(o){var s=o._listeners;o._listeners=[];for(var y=0,p=s.length;y<p;++y)ji(o,s[y]);var w=o._PSD;--w.ref||w.finalize(),Dr===0&&(++Dr,Ht(function(){--Dr==0&&Nn()},[]))}function ji(o,s){if(o._state!==null){var y=o._state?s.onFulfilled:s.onRejected;if(y===null)return(o._state?s.resolve:s.reject)(o._value);++s.psd.ref,++Dr,Ht(Lu,[y,o,s])}else o._listeners.push(s)}function Lu(o,s,y){try{var p,w=s._value;!s._state&&Tr.length&&(Tr=[]),p=sn&&s._consoleTask?s._consoleTask.run(function(){return o(w)}):o(w),s._state||Tr.indexOf(w)!==-1||function(E){for(var T=Ar.length;T;)if(Ar[--T]._value===E._value)return Ar.splice(T,1)}(s),y.resolve(p)}catch(E){y.reject(E)}finally{--Dr==0&&Nn(),--y.psd.ref||y.psd.finalize()}}function Yu(){nr(rn,function(){jr()&&fa()})}function jr(){var o=qu;return Di=qu=!1,o}function fa(){var o,s,y;do for(;0<Zn.length;)for(o=Zn,Zn=[],y=o.length,s=0;s<y;++s){var p=o[s];p[0].apply(null,p[1])}while(0<Zn.length);Di=qu=!0}function Nn(){var o=Ar;Ar=[],o.forEach(function(p){p._PSD.onunhandled.call(null,p._value,p)});for(var s=Fa.slice(0),y=s.length;y;)s[--y]()}function Rt(o){return new Te(oa,!1,o)}function We(o,s){var y=ke;return function(){var p=jr(),w=ke;try{return vt(y,!0),o.apply(this,arguments)}catch(E){s&&s(E)}finally{vt(w,!1),p&&fa()}}}A(Te.prototype,{then:ei,_then:function(o,s){ji(this,new sa(null,null,o,s,ke))},catch:function(o){if(arguments.length===1)return this.then(null,o);var s=o,y=arguments[1];return typeof s=="function"?this.then(null,function(p){return(p instanceof s?y:Rt)(p)}):this.then(null,function(p){return(p&&p.name===s?y:Rt)(p)})},finally:function(o){return this.then(function(s){return Te.resolve(o()).then(function(){return s})},function(s){return Te.resolve(o()).then(function(){return Rt(s)})})},timeout:function(o,s){var y=this;return o<1/0?new Te(function(p,w){var E=setTimeout(function(){return w(new ze.Timeout(s))},o);y.then(p,w).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&q(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),rn.env=Vu(),A(Te,{all:function(){var o=D.apply(null,arguments).map(tr);return new Te(function(s,y){o.length===0&&s([]);var p=o.length;o.forEach(function(w,E){return Te.resolve(w).then(function(T){o[E]=T,--p||s(o)},y)})})},resolve:function(o){return o instanceof Te?o:o&&typeof o.then=="function"?new Te(function(s,y){o.then(s,y)}):new Te(oa,!0,o)},reject:Rt,race:function(){var o=D.apply(null,arguments).map(tr);return new Te(function(s,y){o.map(function(p){return Te.resolve(p).then(s,y)})})},PSD:{get:function(){return ke},set:function(o){return ke=o}},totalEchoes:{get:function(){return ti}},newPSD:zn,usePSD:nr,scheduler:{get:function(){return Ht},set:function(o){Ht=o}},rejectionMapper:{get:function(){return ca},set:function(o){ca=o}},follow:function(o,s){return new Te(function(y,p){return zn(function(w,E){var T=ke;T.unhandleds=[],T.onunhandled=E,T.finalize=Or(function(){var R,k=this;R=function(){k.unhandleds.length===0?w():E(k.unhandleds[0])},Fa.push(function z(){R(),Fa.splice(Fa.indexOf(z),1)}),++Dr,Ht(function(){--Dr==0&&Nn()},[])},T.finalize),o()},s,y,p)})}}),jt&&(jt.allSettled&&q(Te,"allSettled",function(){var o=D.apply(null,arguments).map(tr);return new Te(function(s){o.length===0&&s([]);var y=o.length,p=new Array(y);o.forEach(function(w,E){return Te.resolve(w).then(function(T){return p[E]={status:"fulfilled",value:T}},function(T){return p[E]={status:"rejected",reason:T}}).then(function(){return--y||s(p)})})})}),jt.any&&typeof AggregateError<"u"&&q(Te,"any",function(){var o=D.apply(null,arguments).map(tr);return new Te(function(s,y){o.length===0&&y(new AggregateError([]));var p=o.length,w=new Array(p);o.forEach(function(E,T){return Te.resolve(E).then(function(R){return s(R)},function(R){w[T]=R,--p||y(new AggregateError(w))})})})}),jt.withResolvers&&(Te.withResolvers=jt.withResolvers));var _t={awaits:0,echoes:0,id:0},Gu=0,Ri=[],Ci=0,ti=0,ni=0;function zn(o,s,y,p){var w=ke,E=Object.create(w);return E.parent=w,E.ref=0,E.global=!1,E.id=++ni,rn.env,E.env=kn?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},s&&S(E,s),++w.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},p=nr(E,o,y,p),E.ref===0&&E.finalize(),p}function Sn(){return _t.id||(_t.id=++Gu),++_t.awaits,_t.echoes+=ho,_t.id}function fn(){return!!_t.awaits&&(--_t.awaits==0&&(_t.id=0),_t.echoes=_t.awaits*ho,!0)}function tr(o){return _t.echoes&&o&&o.constructor===jt?(Sn(),o.then(function(s){return fn(),s},function(s){return fn(),xt(s)})):o}function da(){var o=Ri[Ri.length-1];Ri.pop(),vt(o,!1)}function vt(o,s){var y,p=ke;(s?!_t.echoes||Ci++&&o===ke:!Ci||--Ci&&o===ke)||queueMicrotask(s?(function(w){++ti,_t.echoes&&--_t.echoes!=0||(_t.echoes=_t.awaits=_t.id=0),Ri.push(ke),vt(w,!0)}).bind(null,o):da),o!==ke&&(ke=o,p===rn&&(rn.env=Vu()),kn&&(y=rn.env.Promise,s=o.env,(p.global||o.global)&&(Object.defineProperty(h,"Promise",s.PromiseProp),y.all=s.all,y.race=s.race,y.resolve=s.resolve,y.reject=s.reject,s.allSettled&&(y.allSettled=s.allSettled),s.any&&(y.any=s.any))))}function Vu(){var o=h.Promise;return kn?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function nr(o,s,y,p,w){var E=ke;try{return vt(o,!0),s(y,p,w)}finally{vt(E,!1)}}function rr(o,s,y,p){return typeof o!="function"?o:function(){var w=ke;y&&Sn(),vt(s,!0);try{return o.apply(this,arguments)}finally{vt(w,!1),p&&queueMicrotask(fn)}}}function ar(o){Promise===jt&&_t.echoes===0?Ci===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+yn).indexOf("[native code]")===-1&&(Sn=fn=ut);var xt=Te.reject,ir="",Bn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",yo="String expected.",Jn=[],Rr="__dbnames",wn="readonly",ri="readwrite";function ur(o,s){return o?s?function(){return o.apply(this,arguments)&&s.apply(this,arguments)}:o:s}var Cr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ha(o){return typeof o!="string"||/\./.test(o)?function(s){return s}:function(s){return s[o]===void 0&&o in s&&delete(s=ge(s))[o],s}}function Ui(){throw ze.Type()}function tt(o,s){try{var y=Qu(o),p=Qu(s);if(y!==p)return y==="Array"?1:p==="Array"?-1:y==="binary"?1:p==="binary"?-1:y==="string"?1:p==="string"?-1:y==="Date"?1:p!=="Date"?NaN:-1;switch(y){case"number":case"Date":case"string":return s<o?1:o<s?-1:0;case"binary":return function(w,E){for(var T=w.length,R=E.length,k=T<R?T:R,z=0;z<k;++z)if(w[z]!==E[z])return w[z]<E[z]?-1:1;return T===R?0:T<R?-1:1}(dn(o),dn(s));case"Array":return function(w,E){for(var T=w.length,R=E.length,k=T<R?T:R,z=0;z<k;++z){var K=tt(w[z],E[z]);if(K!==0)return K}return T===R?0:T<R?-1:1}(o,s)}}catch{}return NaN}function Qu(o){var s=typeof o;return s!="object"?s:ArrayBuffer.isView(o)?"binary":(o=Ae(o),o==="ArrayBuffer"?"binary":o)}function dn(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}var Xu=(pt.prototype._trans=function(o,s,y){var p=this._tx||ke.trans,w=this.name,E=sn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function T(z,K,U){if(!U.schema[w])throw new ze.NotFound("Table "+w+" not part of transaction");return s(U.idbtrans,U)}var R=jr();try{var k=p&&p.db._novip===this.db._novip?p===ke.trans?p._promise(o,T,y):zn(function(){return p._promise(o,T,y)},{trans:p,transless:ke.transless||ke}):function z(K,U,Y,M){if(K.idbdb&&(K._state.openComplete||ke.letThrough||K._vip)){var H=K._createTransaction(U,Y,K._dbSchema);try{H.create(),K._state.PR1398_maxLoop=3}catch(G){return G.name===Qt.InvalidState&&K.isOpen()&&0<--K._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),K.close({disableAutoOpen:!1}),K.open().then(function(){return z(K,U,Y,M)})):xt(G)}return H._promise(U,function(G,B){return zn(function(){return ke.trans=H,M(G,B,H)})}).then(function(G){if(U==="readwrite")try{H.idbtrans.commit()}catch{}return U==="readonly"?G:H._completion.then(function(){return G})})}if(K._state.openComplete)return xt(new ze.DatabaseClosed(K._state.dbOpenError));if(!K._state.isBeingOpened){if(!K._state.autoOpen)return xt(new ze.DatabaseClosed);K.open().catch(ut)}return K._state.dbReadyPromise.then(function(){return z(K,U,Y,M)})}(this.db,o,[this.name],T);return E&&(k._consoleTask=E,k=k.catch(function(z){return console.trace(z),xt(z)})),k}finally{R&&fa()}},pt.prototype.get=function(o,s){var y=this;return o&&o.constructor===Object?this.where(o).first(s):o==null?xt(new ze.Type("Invalid argument to Table.get()")):this._trans("readonly",function(p){return y.core.get({trans:p,key:o}).then(function(w){return y.hook.reading.fire(w)})}).then(s)},pt.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(g(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var s=m(o);if(s.length===1)return this.where(s[0]).equals(o[s[0]]);var y=this.schema.indexes.concat(this.schema.primKey).filter(function(R){if(R.compound&&s.every(function(z){return 0<=R.keyPath.indexOf(z)})){for(var k=0;k<s.length;++k)if(s.indexOf(R.keyPath[k])===-1)return!1;return!0}return!1}).sort(function(R,k){return R.keyPath.length-k.keyPath.length})[0];if(y&&this.db._maxKey!==ir){var E=y.keyPath.slice(0,s.length);return this.where(E).equals(E.map(function(k){return o[k]}))}!y&&sn&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var p=this.schema.idxByName;function w(R,k){return tt(R,k)===0}var T=s.reduce(function(U,k){var z=U[0],K=U[1],U=p[k],Y=o[k];return[z||U,z||!U?ur(K,U&&U.multi?function(M){return M=oe(M,k),g(M)&&M.some(function(H){return w(Y,H)})}:function(M){return w(Y,oe(M,k))}):K]},[null,null]),E=T[0],T=T[1];return E?this.where(E.name).equals(o[E.keyPath]).filter(T):y?this.filter(T):this.where(s).equals("")},pt.prototype.filter=function(o){return this.toCollection().and(o)},pt.prototype.count=function(o){return this.toCollection().count(o)},pt.prototype.offset=function(o){return this.toCollection().offset(o)},pt.prototype.limit=function(o){return this.toCollection().limit(o)},pt.prototype.each=function(o){return this.toCollection().each(o)},pt.prototype.toArray=function(o){return this.toCollection().toArray(o)},pt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pt.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,g(o)?"[".concat(o.join("+"),"]"):o))},pt.prototype.reverse=function(){return this.toCollection().reverse()},pt.prototype.mapToClass=function(o){var s,y=this.db,p=this.name;function w(){return s!==null&&s.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof Ui&&(function(k,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function K(){this.constructor=k}i(k,z),k.prototype=z===null?Object.create(z):(K.prototype=z.prototype,new K)}(w,s=o),Object.defineProperty(w.prototype,"db",{get:function(){return y},enumerable:!1,configurable:!0}),w.prototype.table=function(){return p},o=w);for(var E=new Set,T=o.prototype;T;T=b(T))Object.getOwnPropertyNames(T).forEach(function(k){return E.add(k)});function R(k){if(!k)return k;var z,K=Object.create(o.prototype);for(z in k)if(!E.has(z))try{K[z]=k[z]}catch{}return K}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=R,this.hook("reading",R),o},pt.prototype.defineClass=function(){return this.mapToClass(function(o){S(this,o)})},pt.prototype.add=function(o,s){var y=this,p=this.schema.primKey,w=p.auto,E=p.keyPath,T=o;return E&&w&&(T=ha(E)(o)),this._trans("readwrite",function(R){return y.core.mutate({trans:R,type:"add",keys:s!=null?[s]:null,values:[T]})}).then(function(R){return R.numFailures?Te.reject(R.failures[0]):R.lastResult}).then(function(R){if(E)try{we(o,E,R)}catch{}return R})},pt.prototype.update=function(o,s){return typeof o!="object"||g(o)?this.where(":id").equals(o).modify(s):(o=oe(o,this.schema.primKey.keyPath),o===void 0?xt(new ze.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(s))},pt.prototype.put=function(o,s){var y=this,p=this.schema.primKey,w=p.auto,E=p.keyPath,T=o;return E&&w&&(T=ha(E)(o)),this._trans("readwrite",function(R){return y.core.mutate({trans:R,type:"put",values:[T],keys:s!=null?[s]:null})}).then(function(R){return R.numFailures?Te.reject(R.failures[0]):R.lastResult}).then(function(R){if(E)try{we(o,E,R)}catch{}return R})},pt.prototype.delete=function(o){var s=this;return this._trans("readwrite",function(y){return s.core.mutate({trans:y,type:"delete",keys:[o]})}).then(function(y){return y.numFailures?Te.reject(y.failures[0]):void 0})},pt.prototype.clear=function(){var o=this;return this._trans("readwrite",function(s){return o.core.mutate({trans:s,type:"deleteRange",range:Cr})}).then(function(s){return s.numFailures?Te.reject(s.failures[0]):void 0})},pt.prototype.bulkGet=function(o){var s=this;return this._trans("readonly",function(y){return s.core.getMany({keys:o,trans:y}).then(function(p){return p.map(function(w){return s.hook.reading.fire(w)})})})},pt.prototype.bulkAdd=function(o,s,y){var p=this,w=Array.isArray(s)?s:void 0,E=(y=y||(w?void 0:s))?y.allKeys:void 0;return this._trans("readwrite",function(T){var z=p.schema.primKey,R=z.auto,z=z.keyPath;if(z&&w)throw new ze.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(w&&w.length!==o.length)throw new ze.InvalidArgument("Arguments objects and keys must have the same length");var k=o.length,z=z&&R?o.map(ha(z)):o;return p.core.mutate({trans:T,type:"add",keys:w,values:z,wantResults:E}).then(function(H){var U=H.numFailures,Y=H.results,M=H.lastResult,H=H.failures;if(U===0)return E?Y:M;throw new He("".concat(p.name,".bulkAdd(): ").concat(U," of ").concat(k," operations failed"),H)})})},pt.prototype.bulkPut=function(o,s,y){var p=this,w=Array.isArray(s)?s:void 0,E=(y=y||(w?void 0:s))?y.allKeys:void 0;return this._trans("readwrite",function(T){var z=p.schema.primKey,R=z.auto,z=z.keyPath;if(z&&w)throw new ze.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(w&&w.length!==o.length)throw new ze.InvalidArgument("Arguments objects and keys must have the same length");var k=o.length,z=z&&R?o.map(ha(z)):o;return p.core.mutate({trans:T,type:"put",keys:w,values:z,wantResults:E}).then(function(H){var U=H.numFailures,Y=H.results,M=H.lastResult,H=H.failures;if(U===0)return E?Y:M;throw new He("".concat(p.name,".bulkPut(): ").concat(U," of ").concat(k," operations failed"),H)})})},pt.prototype.bulkUpdate=function(o){var s=this,y=this.core,p=o.map(function(T){return T.key}),w=o.map(function(T){return T.changes}),E=[];return this._trans("readwrite",function(T){return y.getMany({trans:T,keys:p,cache:"clone"}).then(function(R){var k=[],z=[];o.forEach(function(U,Y){var M=U.key,H=U.changes,G=R[Y];if(G){for(var B=0,Z=Object.keys(H);B<Z.length;B++){var W=Z[B],F=H[W];if(W===s.schema.primKey.keyPath){if(tt(F,M)!==0)throw new ze.Constraint("Cannot update primary key in bulkUpdate()")}else we(G,W,F)}E.push(Y),k.push(M),z.push(G)}});var K=k.length;return y.mutate({trans:T,type:"put",keys:k,values:z,updates:{keys:p,changeSpecs:w}}).then(function(U){var Y=U.numFailures,M=U.failures;if(Y===0)return K;for(var H=0,G=Object.keys(M);H<G.length;H++){var B,Z=G[H],W=E[Number(Z)];W!=null&&(B=M[Z],delete M[Z],M[W]=B)}throw new He("".concat(s.name,".bulkUpdate(): ").concat(Y," of ").concat(K," operations failed"),M)})})})},pt.prototype.bulkDelete=function(o){var s=this,y=o.length;return this._trans("readwrite",function(p){return s.core.mutate({trans:p,type:"delete",keys:o})}).then(function(T){var w=T.numFailures,E=T.lastResult,T=T.failures;if(w===0)return E;throw new He("".concat(s.name,".bulkDelete(): ").concat(w," of ").concat(y," operations failed"),T)})},pt);function pt(){}function lr(o){function s(T,R){if(R){for(var k=arguments.length,z=new Array(k-1);--k;)z[k-1]=arguments[k];return y[T].subscribe.apply(null,z),o}if(typeof T=="string")return y[T]}var y={};s.addEventType=E;for(var p=1,w=arguments.length;p<w;++p)E(arguments[p]);return s;function E(T,R,k){if(typeof T!="object"){var z;R=R||so;var K={subscribers:[],fire:k=k||ut,subscribe:function(U){K.subscribers.indexOf(U)===-1&&(K.subscribers.push(U),K.fire=R(K.fire,U))},unsubscribe:function(U){K.subscribers=K.subscribers.filter(function(Y){return Y!==U}),K.fire=K.subscribers.reduce(R,k)}};return y[T]=s[T]=K}m(z=T).forEach(function(U){var Y=z[U];if(g(Y))E(U,z[U][0],z[U][1]);else{if(Y!=="asap")throw new ze.InvalidArgument("Invalid event config");var M=E(U,xr,function(){for(var H=arguments.length,G=new Array(H);H--;)G[H]=arguments[H];M.subscribers.forEach(function(B){xe(function(){B.apply(null,G)})})})}})}}function ya(o,s){return I(s).from({prototype:o}),s}function $n(o,s){return!(o.filter||o.algorithm||o.or)&&(s?o.justLimit:!o.replayFilter)}function Zu(o,s){o.filter=ur(o.filter,s)}function an(o,s,y){var p=o.replayFilter;o.replayFilter=p?function(){return ur(p(),s())}:s,o.justLimit=y&&!p}function va(o,s){if(o.isPrimKey)return s.primaryKey;var y=s.getIndexByKeyPath(o.index);if(!y)throw new ze.Schema("KeyPath "+o.index+" on object store "+s.name+" is not indexed");return y}function Ju(o,s,y){var p=va(o,s.schema);return s.openCursor({trans:y,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:p,range:o.range}})}function pa(o,s,y,p){var w=o.replayFilter?ur(o.filter,o.replayFilter()):o.filter;if(o.or){var E={},T=function(R,k,z){var K,U;w&&!w(k,z,function(Y){return k.stop(Y)},function(Y){return k.fail(Y)})||((U=""+(K=k.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(K)),O(E,U)||(E[U]=!0,s(R,k,z)))};return Promise.all([o.or._iterate(T,y),Ur(Ju(o,p,y),o.algorithm,T,!o.keysOnly&&o.valueMapper)])}return Ur(Ju(o,p,y),ur(o.algorithm,w),s,!o.keysOnly&&o.valueMapper)}function Ur(o,s,y,p){var w=We(p?function(E,T,R){return y(p(E),T,R)}:y);return o.then(function(E){if(E)return E.start(function(){var T=function(){return E.continue()};s&&!s(E,function(R){return T=R},function(R){E.stop(R),T=ut},function(R){E.fail(R),T=ut})||w(E.value,E,function(R){return T=R}),T()})})}var ma=($u.prototype.execute=function(o){var s=this["@@propmod"];if(s.add!==void 0){var y=s.add;if(g(y))return f(f([],g(o)?o:[],!0),y).sort();if(typeof y=="number")return(Number(o)||0)+y;if(typeof y=="bigint")try{return BigInt(o)+y}catch{return BigInt(0)+y}throw new TypeError("Invalid term ".concat(y))}if(s.remove!==void 0){var p=s.remove;if(g(p))return g(o)?o.filter(function(w){return!p.includes(w)}).sort():[];if(typeof p=="number")return Number(o)-p;if(typeof p=="bigint")try{return BigInt(o)-p}catch{return BigInt(0)-p}throw new TypeError("Invalid subtrahend ".concat(p))}return y=(y=s.replacePrefix)===null||y===void 0?void 0:y[0],y&&typeof o=="string"&&o.startsWith(y)?s.replacePrefix[1]+o.substring(y.length):o},$u);function $u(o){this["@@propmod"]=o}var ba=(at.prototype._read=function(o,s){var y=this._ctx;return y.error?y.table._trans(null,xt.bind(null,y.error)):y.table._trans("readonly",o).then(s)},at.prototype._write=function(o){var s=this._ctx;return s.error?s.table._trans(null,xt.bind(null,s.error)):s.table._trans("readwrite",o,"locked")},at.prototype._addAlgorithm=function(o){var s=this._ctx;s.algorithm=ur(s.algorithm,o)},at.prototype._iterate=function(o,s){return pa(this._ctx,o,s,this._ctx.table.core)},at.prototype.clone=function(o){var s=Object.create(this.constructor.prototype),y=Object.create(this._ctx);return o&&S(y,o),s._ctx=y,s},at.prototype.raw=function(){return this._ctx.valueMapper=null,this},at.prototype.each=function(o){var s=this._ctx;return this._read(function(y){return pa(s,o,y,s.table.core)})},at.prototype.count=function(o){var s=this;return this._read(function(y){var p=s._ctx,w=p.table.core;if($n(p,!0))return w.count({trans:y,query:{index:va(p,w.schema),range:p.range}}).then(function(T){return Math.min(T,p.limit)});var E=0;return pa(p,function(){return++E,!1},y,w).then(function(){return E})}).then(o)},at.prototype.sortBy=function(o,s){var y=o.split(".").reverse(),p=y[0],w=y.length-1;function E(k,z){return z?E(k[y[z]],z-1):k[p]}var T=this._ctx.dir==="next"?1:-1;function R(k,z){return tt(E(k,w),E(z,w))*T}return this.toArray(function(k){return k.sort(R)}).then(s)},at.prototype.toArray=function(o){var s=this;return this._read(function(y){var p=s._ctx;if(p.dir==="next"&&$n(p,!0)&&0<p.limit){var w=p.valueMapper,E=va(p,p.table.core.schema);return p.table.core.query({trans:y,limit:p.limit,values:!0,query:{index:E,range:p.range}}).then(function(R){return R=R.result,w?R.map(w):R})}var T=[];return pa(p,function(R){return T.push(R)},y,p.table.core).then(function(){return T})},o)},at.prototype.offset=function(o){var s=this._ctx;return o<=0||(s.offset+=o,$n(s)?an(s,function(){var y=o;return function(p,w){return y===0||(y===1?--y:w(function(){p.advance(y),y=0}),!1)}}):an(s,function(){var y=o;return function(){return--y<0}})),this},at.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),an(this._ctx,function(){var s=o;return function(y,p,w){return--s<=0&&p(w),0<=s}},!0),this},at.prototype.until=function(o,s){return Zu(this._ctx,function(y,p,w){return!o(y.value)||(p(w),s)}),this},at.prototype.first=function(o){return this.limit(1).toArray(function(s){return s[0]}).then(o)},at.prototype.last=function(o){return this.reverse().first(o)},at.prototype.filter=function(o){var s;return Zu(this._ctx,function(y){return o(y.value)}),(s=this._ctx).isMatch=ur(s.isMatch,o),this},at.prototype.and=function(o){return this.filter(o)},at.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},at.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},at.prototype.desc=function(){return this.reverse()},at.prototype.eachKey=function(o){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(y,p){o(p.key,p)})},at.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},at.prototype.eachPrimaryKey=function(o){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(y,p){o(p.primaryKey,p)})},at.prototype.keys=function(o){var s=this._ctx;s.keysOnly=!s.isMatch;var y=[];return this.each(function(p,w){y.push(w.key)}).then(function(){return y}).then(o)},at.prototype.primaryKeys=function(o){var s=this._ctx;if(s.dir==="next"&&$n(s,!0)&&0<s.limit)return this._read(function(p){var w=va(s,s.table.core.schema);return s.table.core.query({trans:p,values:!1,limit:s.limit,query:{index:w,range:s.range}})}).then(function(p){return p.result}).then(o);s.keysOnly=!s.isMatch;var y=[];return this.each(function(p,w){y.push(w.primaryKey)}).then(function(){return y}).then(o)},at.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},at.prototype.firstKey=function(o){return this.limit(1).keys(function(s){return s[0]}).then(o)},at.prototype.lastKey=function(o){return this.reverse().firstKey(o)},at.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var s={};return Zu(this._ctx,function(w){var p=w.primaryKey.toString(),w=O(s,p);return s[p]=!0,!w}),this},at.prototype.modify=function(o){var s=this,y=this._ctx;return this._write(function(p){var w,E,T;T=typeof o=="function"?o:(w=m(o),E=w.length,function(B){for(var Z=!1,W=0;W<E;++W){var F=w[W],re=o[F],ye=oe(B,F);re instanceof ma?(we(B,F,re.execute(ye)),Z=!0):ye!==re&&(we(B,F,re),Z=!0)}return Z});var R=y.table.core,U=R.schema.primaryKey,k=U.outbound,z=U.extractKey,K=200,U=s.db._options.modifyChunkSize;U&&(K=typeof U=="object"?U[R.name]||U["*"]||200:U);function Y(B,F){var W=F.failures,F=F.numFailures;H+=B-F;for(var re=0,ye=m(W);re<ye.length;re++){var Se=ye[re];M.push(W[Se])}}var M=[],H=0,G=[];return s.clone().primaryKeys().then(function(B){function Z(F){var re=Math.min(K,B.length-F);return R.getMany({trans:p,keys:B.slice(F,F+re),cache:"immutable"}).then(function(ye){for(var Se=[],de=[],ve=k?[]:null,Ee=[],he=0;he<re;++he){var Ue=ye[he],Ye={value:ge(Ue),primKey:B[F+he]};T.call(Ye,Ye.value,Ye)!==!1&&(Ye.value==null?Ee.push(B[F+he]):k||tt(z(Ue),z(Ye.value))===0?(de.push(Ye.value),k&&ve.push(B[F+he])):(Ee.push(B[F+he]),Se.push(Ye.value)))}return Promise.resolve(0<Se.length&&R.mutate({trans:p,type:"add",values:Se}).then(function(Ge){for(var Je in Ge.failures)Ee.splice(parseInt(Je),1);Y(Se.length,Ge)})).then(function(){return(0<de.length||W&&typeof o=="object")&&R.mutate({trans:p,type:"put",keys:ve,values:de,criteria:W,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<F}).then(function(Ge){return Y(de.length,Ge)})}).then(function(){return(0<Ee.length||W&&o===Mi)&&R.mutate({trans:p,type:"delete",keys:Ee,criteria:W,isAdditionalChunk:0<F}).then(function(Ge){return Y(Ee.length,Ge)})}).then(function(){return B.length>F+re&&Z(F+K)})})}var W=$n(y)&&y.limit===1/0&&(typeof o!="function"||o===Mi)&&{index:y.index,range:y.range};return Z(0).then(function(){if(0<M.length)throw new qe("Error modifying one or more objects",M,H,G);return B.length})})})},at.prototype.delete=function(){var o=this._ctx,s=o.range;return $n(o)&&(o.isPrimKey||s.type===3)?this._write(function(y){var p=o.table.core.schema.primaryKey,w=s;return o.table.core.count({trans:y,query:{index:p,range:w}}).then(function(E){return o.table.core.mutate({trans:y,type:"deleteRange",range:w}).then(function(T){var R=T.failures;if(T.lastResult,T.results,T=T.numFailures,T)throw new qe("Could not delete some values",Object.keys(R).map(function(k){return R[k]}),E-T);return E-T})})}):this.modify(Mi)},at);function at(){}var Mi=function(o,s){return s.value=null};function vo(o,s){return o<s?-1:o===s?0:1}function Iu(o,s){return s<o?-1:o===s?0:1}function hn(o,s,y){return o=o instanceof kr?new o.Collection(o):o,o._ctx.error=new(y||TypeError)(s),o}function ga(o){return new o.Collection(o,function(){return ki("")}).limit(0)}function Mr(o,s,y,p){var w,E,T,R,k,z,K,U=y.length;if(!y.every(function(H){return typeof H=="string"}))return hn(o,yo);function Y(H){w=H==="next"?function(B){return B.toUpperCase()}:function(B){return B.toLowerCase()},E=H==="next"?function(B){return B.toLowerCase()}:function(B){return B.toUpperCase()},T=H==="next"?vo:Iu;var G=y.map(function(B){return{lower:E(B),upper:w(B)}}).sort(function(B,Z){return T(B.lower,Z.lower)});R=G.map(function(B){return B.upper}),k=G.map(function(B){return B.lower}),K=(z=H)==="next"?"":p}Y("next"),o=new o.Collection(o,function(){return qn(R[0],k[U-1]+p)}),o._ondirectionchange=function(H){Y(H)};var M=0;return o._addAlgorithm(function(H,G,B){var Z=H.key;if(typeof Z!="string")return!1;var W=E(Z);if(s(W,k,M))return!0;for(var F=null,re=M;re<U;++re){var ye=function(Se,de,ve,Ee,he,Ue){for(var Ye=Math.min(Se.length,Ee.length),Ge=-1,Je=0;Je<Ye;++Je){var Wt=de[Je];if(Wt!==Ee[Je])return he(Se[Je],ve[Je])<0?Se.substr(0,Je)+ve[Je]+ve.substr(Je+1):he(Se[Je],Ee[Je])<0?Se.substr(0,Je)+Ee[Je]+ve.substr(Je+1):0<=Ge?Se.substr(0,Ge)+de[Ge]+ve.substr(Ge+1):null;he(Se[Je],Wt)<0&&(Ge=Je)}return Ye<Ee.length&&Ue==="next"?Se+ve.substr(Se.length):Ye<Se.length&&Ue==="prev"?Se.substr(0,ve.length):Ge<0?null:Se.substr(0,Ge)+Ee[Ge]+ve.substr(Ge+1)}(Z,W,R[re],k[re],T,z);ye===null&&F===null?M=re+1:(F===null||0<T(F,ye))&&(F=ye)}return G(F!==null?function(){H.continue(F+K)}:B),!1}),o}function qn(o,s,y,p){return{type:2,lower:o,upper:s,lowerOpen:y,upperOpen:p}}function ki(o){return{type:1,lower:o,upper:o}}var kr=(Object.defineProperty(St.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),St.prototype.between=function(o,s,y,p){y=y!==!1,p=p===!0;try{return 0<this._cmp(o,s)||this._cmp(o,s)===0&&(y||p)&&(!y||!p)?ga(this):new this.Collection(this,function(){return qn(o,s,!y,!p)})}catch{return hn(this,Bn)}},St.prototype.equals=function(o){return o==null?hn(this,Bn):new this.Collection(this,function(){return ki(o)})},St.prototype.above=function(o){return o==null?hn(this,Bn):new this.Collection(this,function(){return qn(o,void 0,!0)})},St.prototype.aboveOrEqual=function(o){return o==null?hn(this,Bn):new this.Collection(this,function(){return qn(o,void 0,!1)})},St.prototype.below=function(o){return o==null?hn(this,Bn):new this.Collection(this,function(){return qn(void 0,o,!1,!0)})},St.prototype.belowOrEqual=function(o){return o==null?hn(this,Bn):new this.Collection(this,function(){return qn(void 0,o)})},St.prototype.startsWith=function(o){return typeof o!="string"?hn(this,yo):this.between(o,o+ir,!0,!0)},St.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):Mr(this,function(s,y){return s.indexOf(y[0])===0},[o],ir)},St.prototype.equalsIgnoreCase=function(o){return Mr(this,function(s,y){return s===y[0]},[o],"")},St.prototype.anyOfIgnoreCase=function(){var o=D.apply(ce,arguments);return o.length===0?ga(this):Mr(this,function(s,y){return y.indexOf(s)!==-1},o,"")},St.prototype.startsWithAnyOfIgnoreCase=function(){var o=D.apply(ce,arguments);return o.length===0?ga(this):Mr(this,function(s,y){return y.some(function(p){return s.indexOf(p)===0})},o,ir)},St.prototype.anyOf=function(){var o=this,s=D.apply(ce,arguments),y=this._cmp;try{s.sort(y)}catch{return hn(this,Bn)}if(s.length===0)return ga(this);var p=new this.Collection(this,function(){return qn(s[0],s[s.length-1])});p._ondirectionchange=function(E){y=E==="next"?o._ascending:o._descending,s.sort(y)};var w=0;return p._addAlgorithm(function(E,T,R){for(var k=E.key;0<y(k,s[w]);)if(++w===s.length)return T(R),!1;return y(k,s[w])===0||(T(function(){E.continue(s[w])}),!1)}),p},St.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},St.prototype.noneOf=function(){var o=D.apply(ce,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return hn(this,Bn)}var s=o.reduce(function(y,p){return y?y.concat([[y[y.length-1][1],p]]):[[-1/0,p]]},null);return s.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},St.prototype.inAnyRange=function(Z,s){var y=this,p=this._cmp,w=this._ascending,E=this._descending,T=this._min,R=this._max;if(Z.length===0)return ga(this);if(!Z.every(function(W){return W[0]!==void 0&&W[1]!==void 0&&w(W[0],W[1])<=0}))return hn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ze.InvalidArgument);var k=!s||s.includeLowers!==!1,z=s&&s.includeUppers===!0,K,U=w;function Y(W,F){return U(W[0],F[0])}try{(K=Z.reduce(function(W,F){for(var re=0,ye=W.length;re<ye;++re){var Se=W[re];if(p(F[0],Se[1])<0&&0<p(F[1],Se[0])){Se[0]=T(Se[0],F[0]),Se[1]=R(Se[1],F[1]);break}}return re===ye&&W.push(F),W},[])).sort(Y)}catch{return hn(this,Bn)}var M=0,H=z?function(W){return 0<w(W,K[M][1])}:function(W){return 0<=w(W,K[M][1])},G=k?function(W){return 0<E(W,K[M][0])}:function(W){return 0<=E(W,K[M][0])},B=H,Z=new this.Collection(this,function(){return qn(K[0][0],K[K.length-1][1],!k,!z)});return Z._ondirectionchange=function(W){U=W==="next"?(B=H,w):(B=G,E),K.sort(Y)},Z._addAlgorithm(function(W,F,re){for(var ye,Se=W.key;B(Se);)if(++M===K.length)return F(re),!1;return!H(ye=Se)&&!G(ye)||(y._cmp(Se,K[M][1])===0||y._cmp(Se,K[M][0])===0||F(function(){U===w?W.continue(K[M][0]):W.continue(K[M][1])}),!1)}),Z},St.prototype.startsWithAnyOf=function(){var o=D.apply(ce,arguments);return o.every(function(s){return typeof s=="string"})?o.length===0?ga(this):this.inAnyRange(o.map(function(s){return[s,s+ir]})):hn(this,"startsWithAnyOf() only works with strings")},St);function St(){}function En(o){return We(function(s){return Nr(s),o(s.target.error),!1})}function Nr(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var _a="storagemutated",zr="x-storagemutated-1",Xt=lr(null,_a),Pu=(un.prototype._lock=function(){return me(!ke.global),++this._reculock,this._reculock!==1||ke.global||(ke.lockOwnerFor=this),this},un.prototype._unlock=function(){if(me(!ke.global),--this._reculock==0)for(ke.global||(ke.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{nr(o[1],o[0])}catch{}}return this},un.prototype._locked=function(){return this._reculock&&ke.lockOwnerFor!==this},un.prototype.create=function(o){var s=this;if(!this.mode)return this;var y=this.db.idbdb,p=this.db._state.dbOpenError;if(me(!this.idbtrans),!o&&!y)switch(p&&p.name){case"DatabaseClosedError":throw new ze.DatabaseClosed(p);case"MissingAPIError":throw new ze.MissingAPI(p.message,p);default:throw new ze.OpenFailed(p)}if(!this.active)throw new ze.TransactionInactive;return me(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||y).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=We(function(w){Nr(w),s._reject(o.error)}),o.onabort=We(function(w){Nr(w),s.active&&s._reject(new ze.Abort(o.error)),s.active=!1,s.on("abort").fire(w)}),o.oncomplete=We(function(){s.active=!1,s._resolve(),"mutatedParts"in o&&Xt.storagemutated.fire(o.mutatedParts)}),this},un.prototype._promise=function(o,s,y){var p=this;if(o==="readwrite"&&this.mode!=="readwrite")return xt(new ze.ReadOnly("Transaction is readonly"));if(!this.active)return xt(new ze.TransactionInactive);if(this._locked())return new Te(function(E,T){p._blockedFuncs.push([function(){p._promise(o,s,y).then(E,T)},ke])});if(y)return zn(function(){var E=new Te(function(T,R){p._lock();var k=s(T,R,p);k&&k.then&&k.then(T,R)});return E.finally(function(){return p._unlock()}),E._lib=!0,E});var w=new Te(function(E,T){var R=s(E,T,p);R&&R.then&&R.then(E,T)});return w._lib=!0,w},un.prototype._root=function(){return this.parent?this.parent._root():this},un.prototype.waitFor=function(o){var s,y=this._root(),p=Te.resolve(o);y._waitingFor?y._waitingFor=y._waitingFor.then(function(){return p}):(y._waitingFor=p,y._waitingQueue=[],s=y.idbtrans.objectStore(y.storeNames[0]),function E(){for(++y._spinCount;y._waitingQueue.length;)y._waitingQueue.shift()();y._waitingFor&&(s.get(-1/0).onsuccess=E)}());var w=y._waitingFor;return new Te(function(E,T){p.then(function(R){return y._waitingQueue.push(We(E.bind(null,R)))},function(R){return y._waitingQueue.push(We(T.bind(null,R)))}).finally(function(){y._waitingFor===w&&(y._waitingFor=null)})})},un.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ze.Abort))},un.prototype.table=function(o){var s=this._memoizedTables||(this._memoizedTables={});if(O(s,o))return s[o];var y=this.schema[o];if(!y)throw new ze.NotFound("Table "+o+" not part of transaction");return y=new this.db.Table(o,y,this),y.core=this.db.core.table(o),s[o]=y},un);function un(){}function Hn(o,s,y,p,w,E,T){return{name:o,keyPath:s,unique:y,multi:p,auto:w,compound:E,src:(y&&!T?"&":"")+(p?"*":"")+(w?"++":"")+Ni(s)}}function Ni(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Sa(o,s,y){return{name:o,primKey:s,indexes:y,mappedClass:null,idxByName:(p=function(w){return[w.name,w]},y.reduce(function(w,E,T){return T=p(E,T),T&&(w[T[0]]=T[1]),w},{}))};var p}var wa=function(o){try{return o.only([[]]),wa=function(){return[[]]},[[]]}catch{return wa=function(){return ir},ir}};function Ea(o){return o==null?function(){}:typeof o=="string"?(s=o).split(".").length===1?function(y){return y[s]}:function(y){return oe(y,s)}:function(y){return oe(y,o)};var s}function ai(o){return[].slice.call(o)}var po=0;function kt(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Br(o,s,k){function p(B){if(B.type===3)return null;if(B.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var M=B.lower,H=B.upper,G=B.lowerOpen,B=B.upperOpen;return M===void 0?H===void 0?null:s.upperBound(H,!!B):H===void 0?s.lowerBound(M,!!G):s.bound(M,H,!!G,!!B)}function w(Y){var M,H=Y.name;return{name:H,schema:Y,mutate:function(G){var B=G.trans,Z=G.type,W=G.keys,F=G.values,re=G.range;return new Promise(function(ye,Se){ye=We(ye);var de=B.objectStore(H),ve=de.keyPath==null,Ee=Z==="put"||Z==="add";if(!Ee&&Z!=="delete"&&Z!=="deleteRange")throw new Error("Invalid operation type: "+Z);var he,Ue=(W||F||{length:1}).length;if(W&&F&&W.length!==F.length)throw new Error("Given keys array must have same length as given values array.");if(Ue===0)return ye({numFailures:0,failures:{},results:[],lastResult:void 0});function Ye(Jt){++Wt,Nr(Jt)}var Ge=[],Je=[],Wt=0;if(Z==="deleteRange"){if(re.type===4)return ye({numFailures:Wt,failures:Je,results:[],lastResult:void 0});re.type===3?Ge.push(he=de.clear()):Ge.push(he=de.delete(p(re)))}else{var ve=Ee?ve?[F,W]:[F,null]:[W,null],Xe=ve[0],Ct=ve[1];if(Ee)for(var Nt=0;Nt<Ue;++Nt)Ge.push(he=Ct&&Ct[Nt]!==void 0?de[Z](Xe[Nt],Ct[Nt]):de[Z](Xe[Nt])),he.onerror=Ye;else for(Nt=0;Nt<Ue;++Nt)Ge.push(he=de[Z](Xe[Nt])),he.onerror=Ye}function In(Jt){Jt=Jt.target.result,Ge.forEach(function(Ln,fr){return Ln.error!=null&&(Je[fr]=Ln.error)}),ye({numFailures:Wt,failures:Je,results:Z==="delete"?W:Ge.map(function(Ln){return Ln.result}),lastResult:Jt})}he.onerror=function(Jt){Ye(Jt),In(Jt)},he.onsuccess=In})},getMany:function(G){var B=G.trans,Z=G.keys;return new Promise(function(W,F){W=We(W);for(var re,ye=B.objectStore(H),Se=Z.length,de=new Array(Se),ve=0,Ee=0,he=function(Ge){Ge=Ge.target,de[Ge._pos]=Ge.result,++Ee===ve&&W(de)},Ue=En(F),Ye=0;Ye<Se;++Ye)Z[Ye]!=null&&((re=ye.get(Z[Ye]))._pos=Ye,re.onsuccess=he,re.onerror=Ue,++ve);ve===0&&W(de)})},get:function(G){var B=G.trans,Z=G.key;return new Promise(function(W,F){W=We(W);var re=B.objectStore(H).get(Z);re.onsuccess=function(ye){return W(ye.target.result)},re.onerror=En(F)})},query:(M=z,function(G){return new Promise(function(B,Z){B=We(B);var W,F,re,ve=G.trans,ye=G.values,Se=G.limit,he=G.query,de=Se===1/0?void 0:Se,Ee=he.index,he=he.range,ve=ve.objectStore(H),Ee=Ee.isPrimaryKey?ve:ve.index(Ee.name),he=p(he);if(Se===0)return B({result:[]});M?((de=ye?Ee.getAll(he,de):Ee.getAllKeys(he,de)).onsuccess=function(Ue){return B({result:Ue.target.result})},de.onerror=En(Z)):(W=0,F=!ye&&"openKeyCursor"in Ee?Ee.openKeyCursor(he):Ee.openCursor(he),re=[],F.onsuccess=function(Ue){var Ye=F.result;return Ye?(re.push(ye?Ye.value:Ye.primaryKey),++W===Se?B({result:re}):void Ye.continue()):B({result:re})},F.onerror=En(Z))})}),openCursor:function(G){var B=G.trans,Z=G.values,W=G.query,F=G.reverse,re=G.unique;return new Promise(function(ye,Se){ye=We(ye);var Ee=W.index,de=W.range,ve=B.objectStore(H),ve=Ee.isPrimaryKey?ve:ve.index(Ee.name),Ee=F?re?"prevunique":"prev":re?"nextunique":"next",he=!Z&&"openKeyCursor"in ve?ve.openKeyCursor(p(de),Ee):ve.openCursor(p(de),Ee);he.onerror=En(Se),he.onsuccess=We(function(Ue){var Ye,Ge,Je,Wt,Xe=he.result;Xe?(Xe.___id=++po,Xe.done=!1,Ye=Xe.continue.bind(Xe),Ge=(Ge=Xe.continuePrimaryKey)&&Ge.bind(Xe),Je=Xe.advance.bind(Xe),Wt=function(){throw new Error("Cursor not stopped")},Xe.trans=B,Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=function(){throw new Error("Cursor not started")},Xe.fail=We(Se),Xe.next=function(){var Ct=this,Nt=1;return this.start(function(){return Nt--?Ct.continue():Ct.stop()}).then(function(){return Ct})},Xe.start=function(Ct){function Nt(){if(he.result)try{Ct()}catch(Jt){Xe.fail(Jt)}else Xe.done=!0,Xe.start=function(){throw new Error("Cursor behind last entry")},Xe.stop()}var In=new Promise(function(Jt,Ln){Jt=We(Jt),he.onerror=En(Ln),Xe.fail=Ln,Xe.stop=function(fr){Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=Wt,Jt(fr)}});return he.onsuccess=We(function(Jt){he.onsuccess=Nt,Nt()}),Xe.continue=Ye,Xe.continuePrimaryKey=Ge,Xe.advance=Je,Nt(),In},ye(Xe)):ye(null)},Se)})},count:function(G){var B=G.query,Z=G.trans,W=B.index,F=B.range;return new Promise(function(re,ye){var Se=Z.objectStore(H),de=W.isPrimaryKey?Se:Se.index(W.name),Se=p(F),de=Se?de.count(Se):de.count();de.onsuccess=We(function(ve){return re(ve.target.result)}),de.onerror=En(ye)})}}}var E,T,R,K=(T=k,R=ai((E=o).objectStoreNames),{schema:{name:E.name,tables:R.map(function(Y){return T.objectStore(Y)}).map(function(Y){var M=Y.keyPath,B=Y.autoIncrement,H=g(M),G={},B={name:Y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:M==null,compound:H,keyPath:M,autoIncrement:B,unique:!0,extractKey:Ea(M)},indexes:ai(Y.indexNames).map(function(Z){return Y.index(Z)}).map(function(re){var W=re.name,F=re.unique,ye=re.multiEntry,re=re.keyPath,ye={name:W,compound:g(re),keyPath:re,unique:F,multiEntry:ye,extractKey:Ea(re)};return G[kt(re)]=ye}),getIndexByKeyPath:function(Z){return G[kt(Z)]}};return G[":id"]=B.primaryKey,M!=null&&(G[kt(M)]=B.primaryKey),B})},hasGetAll:0<R.length&&"getAll"in T.objectStore(R[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),k=K.schema,z=K.hasGetAll,K=k.tables.map(w),U={};return K.forEach(function(Y){return U[Y.name]=Y}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(Y){if(!U[Y])throw new Error("Table '".concat(Y,"' not found"));return U[Y]},MIN_KEY:-1/0,MAX_KEY:wa(s),schema:k}}function zi(o,s,y,p){var w=y.IDBKeyRange;return y.indexedDB,{dbcore:(p=Br(s,w,p),o.dbcore.reduce(function(E,T){return T=T.create,l(l({},E),T(E))},p))}}function or(o,p){var y=p.db,p=zi(o._middlewares,y,o._deps,p);o.core=p.dbcore,o.tables.forEach(function(w){var E=w.name;o.core.schema.tables.some(function(T){return T.name===E})&&(w.core=o.core.table(E),o[E]instanceof o.Table&&(o[E].core=w.core))})}function Bi(o,s,y,p){y.forEach(function(w){var E=p[w];s.forEach(function(T){var R=function k(z,K){return ne(z,K)||(z=b(z))&&k(z,K)}(T,w);(!R||"value"in R&&R.value===void 0)&&(T===o.Transaction.prototype||T instanceof o.Transaction?q(T,w,{get:function(){return this.table(w)},set:function(k){j(this,w,{value:k,writable:!0,configurable:!0,enumerable:!0})}}):T[w]=new o.Table(w,E))})})}function ii(o,s){s.forEach(function(y){for(var p in y)y[p]instanceof o.Table&&delete y[p]})}function Wu(o,s){return o._cfg.version-s._cfg.version}function ui(o,s,y,p){var w=o._dbSchema;y.objectStoreNames.contains("$meta")&&!w.$meta&&(w.$meta=Sa("$meta",bo("")[0],[]),o._storeNames.push("$meta"));var E=o._createTransaction("readwrite",o._storeNames,w);E.create(y),E._completion.catch(p);var T=E._reject.bind(E),R=ke.transless||ke;zn(function(){return ke.trans=E,ke.transless=R,s!==0?(or(o,y),z=s,((k=E).storeNames.includes("$meta")?k.table("$meta").get("version").then(function(K){return K??z}):Te.resolve(z)).then(function(K){return Y=K,M=E,H=y,G=[],K=(U=o)._versions,B=U._dbSchema=xa(0,U.idbdb,H),(K=K.filter(function(Z){return Z._cfg.version>=Y})).length!==0?(K.forEach(function(Z){G.push(function(){var W=B,F=Z._cfg.dbschema;Li(U,W,H),Li(U,F,H),B=U._dbSchema=F;var re=Hi(W,F);re.add.forEach(function(Ee){Fu(H,Ee[0],Ee[1].primKey,Ee[1].indexes)}),re.change.forEach(function(Ee){if(Ee.recreate)throw new ze.Upgrade("Not yet support for changing primary key");var he=H.objectStore(Ee.name);Ee.add.forEach(function(Ue){return Ki(he,Ue)}),Ee.change.forEach(function(Ue){he.deleteIndex(Ue.name),Ki(he,Ue)}),Ee.del.forEach(function(Ue){return he.deleteIndex(Ue)})});var ye=Z._cfg.contentUpgrade;if(ye&&Z._cfg.version>Y){or(U,H),M._memoizedTables={};var Se=Be(F);re.del.forEach(function(Ee){Se[Ee]=W[Ee]}),ii(U,[U.Transaction.prototype]),Bi(U,[U.Transaction.prototype],m(Se),Se),M.schema=Se;var de,ve=J(ye);return ve&&Sn(),re=Te.follow(function(){var Ee;(de=ye(M))&&ve&&(Ee=fn.bind(null,null),de.then(Ee,Ee))}),de&&typeof de.then=="function"?Te.resolve(de):re.then(function(){return de})}}),G.push(function(W){var F,re,ye=Z._cfg.dbschema;F=ye,re=W,[].slice.call(re.db.objectStoreNames).forEach(function(Se){return F[Se]==null&&re.db.deleteObjectStore(Se)}),ii(U,[U.Transaction.prototype]),Bi(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),M.schema=U._dbSchema}),G.push(function(W){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===Z._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(F){return F!=="$meta"})):W.objectStore("$meta").put(Z._cfg.version,"version"))})}),function Z(){return G.length?Te.resolve(G.shift()(M.idbtrans)).then(Z):Te.resolve()}().then(function(){mo(B,H)})):Te.resolve();var U,Y,M,H,G,B}).catch(T)):(m(w).forEach(function(K){Fu(y,K,w[K].primKey,w[K].indexes)}),or(o,y),void Te.follow(function(){return o.on.populate.fire(E)}).catch(T));var k,z})}function qi(o,s){mo(o._dbSchema,s),s.db.version%10!=0||s.objectStoreNames.contains("$meta")||s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var y=xa(0,o.idbdb,s);Li(o,o._dbSchema,s);for(var p=0,w=Hi(y,o._dbSchema).change;p<w.length;p++){var E=function(T){if(T.change.length||T.recreate)return console.warn("Unable to patch indexes of table ".concat(T.name," because it has changes on the type of index or primary key.")),{value:void 0};var R=s.objectStore(T.name);T.add.forEach(function(k){sn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(T.name,".").concat(k.src)),Ki(R,k)})}(w[p]);if(typeof E=="object")return E.value}}function Hi(o,s){var y,p={del:[],add:[],change:[]};for(y in o)s[y]||p.del.push(y);for(y in s){var w=o[y],E=s[y];if(w){var T={name:y,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(w.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||w.primKey.auto!==E.primKey.auto)T.recreate=!0,p.change.push(T);else{var R=w.idxByName,k=E.idxByName,z=void 0;for(z in R)k[z]||T.del.push(z);for(z in k){var K=R[z],U=k[z];K?K.src!==U.src&&T.change.push(U):T.add.push(U)}(0<T.del.length||0<T.add.length||0<T.change.length)&&p.change.push(T)}}else p.add.push([y,E])}return p}function Fu(o,s,y,p){var w=o.db.createObjectStore(s,y.keyPath?{keyPath:y.keyPath,autoIncrement:y.auto}:{autoIncrement:y.auto});return p.forEach(function(E){return Ki(w,E)}),w}function mo(o,s){m(o).forEach(function(y){s.db.objectStoreNames.contains(y)||(sn&&console.debug("Dexie: Creating missing table",y),Fu(s,y,o[y].primKey,o[y].indexes))})}function Ki(o,s){o.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function xa(o,s,y){var p={};return pe(s.objectStoreNames,0).forEach(function(w){for(var E=y.objectStore(w),T=Hn(Ni(z=E.keyPath),z||"",!0,!1,!!E.autoIncrement,z&&typeof z!="string",!0),R=[],k=0;k<E.indexNames.length;++k){var K=E.index(E.indexNames[k]),z=K.keyPath,K=Hn(K.name,z,!!K.unique,!!K.multiEntry,!1,z&&typeof z!="string",!1);R.push(K)}p[w]=Sa(w,T,R)}),p}function Li(o,s,y){for(var p=y.db.objectStoreNames,w=0;w<p.length;++w){var E=p[w],T=y.objectStore(E);o._hasGetAll="getAll"in T;for(var R=0;R<T.indexNames.length;++R){var k=T.indexNames[R],z=T.index(k).keyPath,K=typeof z=="string"?z:"["+pe(z).join("+")+"]";!s[E]||(z=s[E].idxByName[K])&&(z.name=k,delete s[E].idxByName[K],s[E].idxByName[k]=z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function bo(o){return o.split(",").map(function(s,y){var p=(s=s.trim()).replace(/([&*]|\+\+)/g,""),w=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return Hn(p,w||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),g(w),y===0)})}var as=(Yi.prototype._parseStoresSpec=function(o,s){m(o).forEach(function(y){if(o[y]!==null){var p=bo(o[y]),w=p.shift();if(w.unique=!0,w.multi)throw new ze.Schema("Primary key cannot be multi-valued");p.forEach(function(E){if(E.auto)throw new ze.Schema("Only primary key can be marked as autoIncrement (++)");if(!E.keyPath)throw new ze.Schema("Index must have a name and cannot be an empty string")}),s[y]=Sa(y,w,p)}})},Yi.prototype.stores=function(y){var s=this.db;this._cfg.storesSource=this._cfg.storesSource?S(this._cfg.storesSource,y):y;var y=s._versions,p={},w={};return y.forEach(function(E){S(p,E._cfg.storesSource),w=E._cfg.dbschema={},E._parseStoresSpec(p,w)}),s._dbSchema=w,ii(s,[s._allTables,s,s.Transaction.prototype]),Bi(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],m(w),w),s._storeNames=m(w),this},Yi.prototype.upgrade=function(o){return this._cfg.contentUpgrade=Ti(this._cfg.contentUpgrade||ut,o),this},Yi);function Yi(){}function el(o,s){var y=o._dbNamesDB;return y||(y=o._dbNamesDB=new Kn(Rr,{addons:[],indexedDB:o,IDBKeyRange:s})).version(1).stores({dbnames:"name"}),y.table("dbnames")}function Gi(o){return o&&typeof o.databases=="function"}function tl(o){return zn(function(){return ke.letThrough=!0,o()})}function nl(o){return!("from"in o)}var Zt=function(o,s){if(!this){var y=new Zt;return o&&"d"in o&&S(y,o),y}S(this,arguments.length?{d:1,from:o,to:1<arguments.length?s:o}:{d:0})};function li(o,s,y){var p=tt(s,y);if(!isNaN(p)){if(0<p)throw RangeError();if(nl(o))return S(o,{from:s,to:y,d:1});var w=o.l,p=o.r;if(tt(y,o.from)<0)return w?li(w,s,y):o.l={from:s,to:y,d:1,l:null,r:null},_o(o);if(0<tt(s,o.to))return p?li(p,s,y):o.r={from:s,to:y,d:1,l:null,r:null},_o(o);tt(s,o.from)<0&&(o.from=s,o.l=null,o.d=p?p.d+1:1),0<tt(y,o.to)&&(o.to=y,o.r=null,o.d=o.l?o.l.d+1:1),y=!o.r,w&&!o.l&&qr(o,w),p&&y&&qr(o,p)}}function qr(o,s){nl(s)||function y(p,k){var E=k.from,T=k.to,R=k.l,k=k.r;li(p,E,T),R&&y(p,R),k&&y(p,k)}(o,s)}function go(o,s){var y=Vi(s),p=y.next();if(p.done)return!1;for(var w=p.value,E=Vi(o),T=E.next(w.from),R=T.value;!p.done&&!T.done;){if(tt(R.from,w.to)<=0&&0<=tt(R.to,w.from))return!0;tt(w.from,R.from)<0?w=(p=y.next(R.from)).value:R=(T=E.next(w.from)).value}return!1}function Vi(o){var s=nl(o)?null:{s:0,n:o};return{next:function(y){for(var p=0<arguments.length;s;)switch(s.s){case 0:if(s.s=1,p)for(;s.n.l&&tt(y,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!p||tt(y,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function _o(o){var s,y,p=(((s=o.r)===null||s===void 0?void 0:s.d)||0)-(((y=o.l)===null||y===void 0?void 0:y.d)||0),w=1<p?"r":p<-1?"l":"";w&&(s=w=="r"?"l":"r",y=l({},o),p=o[w],o.from=p.from,o.to=p.to,o[w]=p[w],y[w]=p[s],(o[s]=y).d=rl(y)),o.d=rl(o)}function rl(y){var s=y.r,y=y.l;return(s?y?Math.max(s.d,y.d):s.d:y?y.d:0)+1}function Qi(o,s){return m(s).forEach(function(y){o[y]?qr(o[y],s[y]):o[y]=function p(w){var E,T,R={};for(E in w)O(w,E)&&(T=w[E],R[E]=!T||typeof T!="object"||je.has(T.constructor)?T:p(T));return R}(s[y])}),o}function al(o,s){return o.all||s.all||Object.keys(o).some(function(y){return s[y]&&go(s[y],o[y])})}A(Zt.prototype,((yn={add:function(o){return qr(this,o),this},addKey:function(o){return li(this,o,o),this},addKeys:function(o){var s=this;return o.forEach(function(y){return li(s,y,y)}),this},hasKey:function(o){var s=Vi(this).next(o).value;return s&&tt(s.from,o)<=0&&0<=tt(s.to,o)}})[Q]=function(){return Vi(this)},yn));var Hr={},il={},ul=!1;function Xi(o){Qi(il,o),ul||(ul=!0,setTimeout(function(){ul=!1,ll(il,!(il={}))},0))}function ll(o,s){s===void 0&&(s=!1);var y=new Set;if(o.all)for(var p=0,w=Object.values(Hr);p<w.length;p++)So(T=w[p],o,y,s);else for(var E in o){var T,R=/^idb\:\/\/(.*)\/(.*)\//.exec(E);R&&(E=R[1],R=R[2],(T=Hr["idb://".concat(E,"/").concat(R)])&&So(T,o,y,s))}y.forEach(function(k){return k()})}function So(o,s,y,p){for(var w=[],E=0,T=Object.entries(o.queries.query);E<T.length;E++){for(var R=T[E],k=R[0],z=[],K=0,U=R[1];K<U.length;K++){var Y=U[K];al(s,Y.obsSet)?Y.subscribers.forEach(function(B){return y.add(B)}):p&&z.push(Y)}p&&w.push([k,z])}if(p)for(var M=0,H=w;M<H.length;M++){var G=H[M],k=G[0],z=G[1];o.queries.query[k]=z}}function is(o){var s=o._state,y=o._deps.indexedDB;if(s.isBeingOpened||o.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?xt(s.dbOpenError):o});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var p=s.openCanceller,w=Math.round(10*o.verno),E=!1;function T(){if(s.openCanceller!==p)throw new ze.DatabaseClosed("db.open() was cancelled")}function R(){return new Te(function(Y,M){if(T(),!y)throw new ze.MissingAPI;var H=o.name,G=s.autoSchema||!w?y.open(H):y.open(H,w);if(!G)throw new ze.MissingAPI;G.onerror=En(M),G.onblocked=We(o._fireOnBlocked),G.onupgradeneeded=We(function(B){var Z;K=G.transaction,s.autoSchema&&!o._options.allowEmptyDB?(G.onerror=Nr,K.abort(),G.result.close(),(Z=y.deleteDatabase(H)).onsuccess=Z.onerror=We(function(){M(new ze.NoSuchDatabase("Database ".concat(H," doesnt exist")))})):(K.onerror=En(M),B=B.oldVersion>Math.pow(2,62)?0:B.oldVersion,U=B<1,o.idbdb=G.result,E&&qi(o,K),ui(o,B/10,K,M))},M),G.onsuccess=We(function(){K=null;var B,Z,W,F,re,ye=o.idbdb=G.result,Se=pe(ye.objectStoreNames);if(0<Se.length)try{var de=ye.transaction((F=Se).length===1?F[0]:F,"readonly");if(s.autoSchema)Z=ye,W=de,(B=o).verno=Z.version/10,W=B._dbSchema=xa(0,Z,W),B._storeNames=pe(Z.objectStoreNames,0),Bi(B,[B._allTables],m(W),W);else if(Li(o,o._dbSchema,de),((re=Hi(xa(0,(re=o).idbdb,de),re._dbSchema)).add.length||re.change.some(function(ve){return ve.add.length||ve.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ye.close(),w=ye.version+1,E=!0,Y(R());or(o,de)}catch{}Jn.push(o),ye.onversionchange=We(function(ve){s.vcFired=!0,o.on("versionchange").fire(ve)}),ye.onclose=We(function(ve){o.on("close").fire(ve)}),U&&(re=o._deps,de=H,ye=re.indexedDB,re=re.IDBKeyRange,Gi(ye)||de===Rr||el(ye,re).put({name:de}).catch(ut)),Y()},M)}).catch(function(Y){switch(Y?.name){case"UnknownError":if(0<s.PR1398_maxLoop)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),R();break;case"VersionError":if(0<w)return w=0,R()}return Te.reject(Y)})}var k,z=s.dbReadyResolve,K=null,U=!1;return Te.race([p,(typeof navigator>"u"?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Y){function M(){return indexedDB.databases().finally(Y)}k=setInterval(M,100),M()}).finally(function(){return clearInterval(k)}):Promise.resolve()).then(R)]).then(function(){return T(),s.onReadyBeingFired=[],Te.resolve(tl(function(){return o.on.ready.fire(o.vip)})).then(function Y(){if(0<s.onReadyBeingFired.length){var M=s.onReadyBeingFired.reduce(Ti,ut);return s.onReadyBeingFired=[],Te.resolve(tl(function(){return M(o.vip)})).then(Y)}})}).finally(function(){s.openCanceller===p&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(Y){s.dbOpenError=Y;try{K&&K.abort()}catch{}return p===s.openCanceller&&o._close(),xt(Y)}).finally(function(){s.openComplete=!0,z()}).then(function(){var Y;return U&&(Y={},o.tables.forEach(function(M){M.schema.indexes.forEach(function(H){H.name&&(Y["idb://".concat(o.name,"/").concat(M.name,"/").concat(H.name)]=new Zt(-1/0,[[[]]]))}),Y["idb://".concat(o.name,"/").concat(M.name,"/")]=Y["idb://".concat(o.name,"/").concat(M.name,"/:dels")]=new Zt(-1/0,[[[]]])}),Xt(_a).fire(Y),ll(Y,!0)),o})}function oi(o){function s(E){return o.next(E)}var y=w(s),p=w(function(E){return o.throw(E)});function w(E){return function(k){var R=E(k),k=R.value;return R.done?k:k&&typeof k.then=="function"?k.then(y,p):g(k)?Promise.all(k).then(y,p):y(k)}}return w(s)()}function cr(o,s,y){for(var p=g(o)?o.slice():[o],w=0;w<y;++w)p.push(s);return p}var us={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return l(l({},o),{table:function(s){var y=o.table(s),p=y.schema,w={},E=[];function T(U,Y,M){var H=kt(U),G=w[H]=w[H]||[],B=U==null?0:typeof U=="string"?1:U.length,Z=0<Y,Z=l(l({},M),{name:Z?"".concat(H,"(virtual-from:").concat(M.name,")"):M.name,lowLevelIndex:M,isVirtual:Z,keyTail:Y,keyLength:B,extractKey:Ea(U),unique:!Z&&M.unique});return G.push(Z),Z.isPrimaryKey||E.push(Z),1<B&&T(B===2?U[0]:U.slice(0,B-1),Y+1,M),G.sort(function(W,F){return W.keyTail-F.keyTail}),Z}s=T(p.primaryKey.keyPath,0,p.primaryKey),w[":id"]=[s];for(var R=0,k=p.indexes;R<k.length;R++){var z=k[R];T(z.keyPath,0,z)}function K(U){var Y,M=U.query.index;return M.isVirtual?l(l({},U),{query:{index:M.lowLevelIndex,range:(Y=U.query.range,M=M.keyTail,{type:Y.type===1?2:Y.type,lower:cr(Y.lower,Y.lowerOpen?o.MAX_KEY:o.MIN_KEY,M),lowerOpen:!0,upper:cr(Y.upper,Y.upperOpen?o.MIN_KEY:o.MAX_KEY,M),upperOpen:!0})}}):U}return l(l({},y),{schema:l(l({},p),{primaryKey:s,indexes:E,getIndexByKeyPath:function(U){return(U=w[kt(U)])&&U[0]}}),count:function(U){return y.count(K(U))},query:function(U){return y.query(K(U))},openCursor:function(U){var Y=U.query.index,M=Y.keyTail,H=Y.isVirtual,G=Y.keyLength;return H?y.openCursor(K(U)).then(function(Z){return Z&&B(Z)}):y.openCursor(U);function B(Z){return Object.create(Z,{continue:{value:function(W){W!=null?Z.continue(cr(W,U.reverse?o.MAX_KEY:o.MIN_KEY,M)):U.unique?Z.continue(Z.key.slice(0,G).concat(U.reverse?o.MIN_KEY:o.MAX_KEY,M)):Z.continue()}},continuePrimaryKey:{value:function(W,F){Z.continuePrimaryKey(cr(W,o.MAX_KEY,M),F)}},primaryKey:{get:function(){return Z.primaryKey}},key:{get:function(){var W=Z.key;return G===1?W[0]:W.slice(0,G)}},value:{get:function(){return Z.value}}})}}})}})}};function Zi(o,s,y,p){return y=y||{},p=p||"",m(o).forEach(function(w){var E,T,R;O(s,w)?(E=o[w],T=s[w],typeof E=="object"&&typeof T=="object"&&E&&T?(R=Ae(E))!==Ae(T)?y[p+w]=s[w]:R==="Object"?Zi(E,T,y,p+w+"."):E!==T&&(y[p+w]=s[w]):E!==T&&(y[p+w]=s[w])):y[p+w]=void 0}),m(s).forEach(function(w){O(o,w)||(y[p+w]=s[w])}),y}function Ji(o,s){return s.type==="delete"?s.keys:s.keys||s.values.map(o.extractKey)}var wo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return l(l({},o),{table:function(s){var y=o.table(s),p=y.schema.primaryKey;return l(l({},y),{mutate:function(w){var E=ke.trans,T=E.table(s).hook,R=T.deleting,k=T.creating,z=T.updating;switch(w.type){case"add":if(k.fire===ut)break;return E._promise("readwrite",function(){return K(w)},!0);case"put":if(k.fire===ut&&z.fire===ut)break;return E._promise("readwrite",function(){return K(w)},!0);case"delete":if(R.fire===ut)break;return E._promise("readwrite",function(){return K(w)},!0);case"deleteRange":if(R.fire===ut)break;return E._promise("readwrite",function(){return function U(Y,M,H){return y.query({trans:Y,values:!1,query:{index:p,range:M},limit:H}).then(function(G){var B=G.result;return K({type:"delete",keys:B,trans:Y}).then(function(Z){return 0<Z.numFailures?Promise.reject(Z.failures[0]):B.length<H?{failures:[],numFailures:0,lastResult:void 0}:U(Y,l(l({},M),{lower:B[B.length-1],lowerOpen:!0}),H)})})}(w.trans,w.range,1e4)},!0)}return y.mutate(w);function K(U){var Y,M,H,G=ke.trans,B=U.keys||Ji(p,U);if(!B)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?l(l({},U),{keys:B}):l({},U)).type!=="delete"&&(U.values=f([],U.values)),U.keys&&(U.keys=f([],U.keys)),Y=y,H=B,((M=U).type==="add"?Promise.resolve([]):Y.getMany({trans:M.trans,keys:H,cache:"immutable"})).then(function(Z){var W=B.map(function(F,re){var ye,Se,de,ve=Z[re],Ee={onerror:null,onsuccess:null};return U.type==="delete"?R.fire.call(Ee,F,ve,G):U.type==="add"||ve===void 0?(ye=k.fire.call(Ee,F,U.values[re],G),F==null&&ye!=null&&(U.keys[re]=F=ye,p.outbound||we(U.values[re],p.keyPath,F))):(ye=Zi(ve,U.values[re]),(Se=z.fire.call(Ee,ye,F,ve,G))&&(de=U.values[re],Object.keys(Se).forEach(function(he){O(de,he)?de[he]=Se[he]:we(de,he,Se[he])}))),Ee});return y.mutate(U).then(function(F){for(var re=F.failures,ye=F.results,Se=F.numFailures,F=F.lastResult,de=0;de<B.length;++de){var ve=(ye||B)[de],Ee=W[de];ve==null?Ee.onerror&&Ee.onerror(re[de]):Ee.onsuccess&&Ee.onsuccess(U.type==="put"&&Z[de]?U.values[de]:ve)}return{failures:re,results:ye,numFailures:Se,lastResult:F}}).catch(function(F){return W.forEach(function(re){return re.onerror&&re.onerror(F)}),Promise.reject(F)})})}}})}})}};function ol(o,s,y){try{if(!s||s.keys.length<o.length)return null;for(var p=[],w=0,E=0;w<s.keys.length&&E<o.length;++w)tt(s.keys[w],o[E])===0&&(p.push(y?ge(s.values[w]):s.values[w]),++E);return p.length===o.length?p:null}catch{return null}}var Eo={stack:"dbcore",level:-1,create:function(o){return{table:function(s){var y=o.table(s);return l(l({},y),{getMany:function(p){if(!p.cache)return y.getMany(p);var w=ol(p.keys,p.trans._cache,p.cache==="clone");return w?Te.resolve(w):y.getMany(p).then(function(E){return p.trans._cache={keys:p.keys,values:p.cache==="clone"?ge(E):E},E})},mutate:function(p){return p.type!=="add"&&(p.trans._cache=null),y.mutate(p)}})}}}};function Kr(o,s){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function xo(o,s){switch(o){case"query":return s.values&&!s.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ls={stack:"dbcore",level:0,name:"Observability",create:function(o){var s=o.schema.name,y=new Zt(o.MIN_KEY,o.MAX_KEY);return l(l({},o),{transaction:function(p,w,E){if(ke.subscr&&w!=="readonly")throw new ze.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ke.querier));return o.transaction(p,w,E)},table:function(p){var w=o.table(p),E=w.schema,T=E.primaryKey,U=E.indexes,R=T.extractKey,k=T.outbound,z=T.autoIncrement&&U.filter(function(M){return M.compound&&M.keyPath.includes(T.keyPath)}),K=l(l({},w),{mutate:function(M){function H(he){return he="idb://".concat(s,"/").concat(p,"/").concat(he),F[he]||(F[he]=new Zt)}var G,B,Z,W=M.trans,F=M.mutatedParts||(M.mutatedParts={}),re=H(""),ye=H(":dels"),Se=M.type,Ee=M.type==="deleteRange"?[M.range]:M.type==="delete"?[M.keys]:M.values.length<50?[Ji(T,M).filter(function(he){return he}),M.values]:[],de=Ee[0],ve=Ee[1],Ee=M.trans._cache;return g(de)?(re.addKeys(de),(Ee=Se==="delete"||de.length===ve.length?ol(de,Ee):null)||ye.addKeys(de),(Ee||ve)&&(G=H,B=Ee,Z=ve,E.indexes.forEach(function(he){var Ue=G(he.name||"");function Ye(Je){return Je!=null?he.extractKey(Je):null}function Ge(Je){return he.multiEntry&&g(Je)?Je.forEach(function(Wt){return Ue.addKey(Wt)}):Ue.addKey(Je)}(B||Z).forEach(function(Je,Ct){var Xe=B&&Ye(B[Ct]),Ct=Z&&Ye(Z[Ct]);tt(Xe,Ct)!==0&&(Xe!=null&&Ge(Xe),Ct!=null&&Ge(Ct))})}))):de?(ve={from:(ve=de.lower)!==null&&ve!==void 0?ve:o.MIN_KEY,to:(ve=de.upper)!==null&&ve!==void 0?ve:o.MAX_KEY},ye.add(ve),re.add(ve)):(re.add(y),ye.add(y),E.indexes.forEach(function(he){return H(he.name).add(y)})),w.mutate(M).then(function(he){return!de||M.type!=="add"&&M.type!=="put"||(re.addKeys(he.results),z&&z.forEach(function(Ue){for(var Ye=M.values.map(function(Xe){return Ue.extractKey(Xe)}),Ge=Ue.keyPath.findIndex(function(Xe){return Xe===T.keyPath}),Je=0,Wt=he.results.length;Je<Wt;++Je)Ye[Je][Ge]=he.results[Je];H(Ue.name).addKeys(Ye)})),W.mutatedParts=Qi(W.mutatedParts||{},F),he})}}),U=function(H){var G=H.query,H=G.index,G=G.range;return[H,new Zt((H=G.lower)!==null&&H!==void 0?H:o.MIN_KEY,(G=G.upper)!==null&&G!==void 0?G:o.MAX_KEY)]},Y={get:function(M){return[T,new Zt(M.key)]},getMany:function(M){return[T,new Zt().addKeys(M.keys)]},count:U,query:U,openCursor:U};return m(Y).forEach(function(M){K[M]=function(H){var G=ke.subscr,B=!!G,Z=Kr(ke,w)&&xo(M,H)?H.obsSet={}:G;if(B){var W=function(ve){return ve="idb://".concat(s,"/").concat(p,"/").concat(ve),Z[ve]||(Z[ve]=new Zt)},F=W(""),re=W(":dels"),G=Y[M](H),B=G[0],G=G[1];if((M==="query"&&B.isPrimaryKey&&!H.values?re:W(B.name||"")).add(G),!B.isPrimaryKey){if(M!=="count"){var ye=M==="query"&&k&&H.values&&w.query(l(l({},H),{values:!1}));return w[M].apply(this,arguments).then(function(ve){if(M==="query"){if(k&&H.values)return ye.then(function(Ye){return Ye=Ye.result,F.addKeys(Ye),ve});var Ee=H.values?ve.result.map(R):ve.result;(H.values?F:re).addKeys(Ee)}else if(M==="openCursor"){var he=ve,Ue=H.values;return he&&Object.create(he,{key:{get:function(){return re.addKey(he.primaryKey),he.key}},primaryKey:{get:function(){var Ye=he.primaryKey;return re.addKey(Ye),Ye}},value:{get:function(){return Ue&&F.addKey(he.primaryKey),he.value}}})}return ve})}re.add(y)}}return w[M].apply(this,arguments)}}),K}})}};function Oo(o,s,y){if(y.numFailures===0)return s;if(s.type==="deleteRange")return null;var p=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1;return y.numFailures===p?null:(s=l({},s),g(s.keys)&&(s.keys=s.keys.filter(function(w,E){return!(E in y.failures)})),"values"in s&&g(s.values)&&(s.values=s.values.filter(function(w,E){return!(E in y.failures)})),s)}function $i(o,s){return y=o,((p=s).lower===void 0||(p.lowerOpen?0<tt(y,p.lower):0<=tt(y,p.lower)))&&(o=o,(s=s).upper===void 0||(s.upperOpen?tt(o,s.upper)<0:tt(o,s.upper)<=0));var y,p}function cl(o,s,Y,p,w,E){if(!Y||Y.length===0)return o;var T=s.query.index,R=T.multiEntry,k=s.query.range,z=p.schema.primaryKey.extractKey,K=T.extractKey,U=(T.lowLevelIndex||T).extractKey,Y=Y.reduce(function(M,H){var G=M,B=[];if(H.type==="add"||H.type==="put")for(var Z=new Zt,W=H.values.length-1;0<=W;--W){var F,re=H.values[W],ye=z(re);Z.hasKey(ye)||(F=K(re),(R&&g(F)?F.some(function(he){return $i(he,k)}):$i(F,k))&&(Z.addKey(ye),B.push(re)))}switch(H.type){case"add":var Se=new Zt().addKeys(s.values?M.map(function(Ue){return z(Ue)}):M),G=M.concat(s.values?B.filter(function(Ue){return Ue=z(Ue),!Se.hasKey(Ue)&&(Se.addKey(Ue),!0)}):B.map(function(Ue){return z(Ue)}).filter(function(Ue){return!Se.hasKey(Ue)&&(Se.addKey(Ue),!0)}));break;case"put":var de=new Zt().addKeys(H.values.map(function(Ue){return z(Ue)}));G=M.filter(function(Ue){return!de.hasKey(s.values?z(Ue):Ue)}).concat(s.values?B:B.map(function(Ue){return z(Ue)}));break;case"delete":var ve=new Zt().addKeys(H.keys);G=M.filter(function(Ue){return!ve.hasKey(s.values?z(Ue):Ue)});break;case"deleteRange":var Ee=H.range;G=M.filter(function(Ue){return!$i(z(Ue),Ee)})}return G},o);return Y===o?o:(Y.sort(function(M,H){return tt(U(M),U(H))||tt(z(M),z(H))}),s.limit&&s.limit<1/0&&(Y.length>s.limit?Y.length=s.limit:o.length===s.limit&&Y.length<s.limit&&(w.dirty=!0)),E?Object.freeze(Y):Y)}function Oa(o,s){return tt(o.lower,s.lower)===0&&tt(o.upper,s.upper)===0&&!!o.lowerOpen==!!s.lowerOpen&&!!o.upperOpen==!!s.upperOpen}function ci(o,s){return function(y,p,w,E){if(y===void 0)return p!==void 0?-1:0;if(p===void 0)return 1;if((p=tt(y,p))===0){if(w&&E)return 0;if(w)return 1;if(E)return-1}return p}(o.lower,s.lower,o.lowerOpen,s.lowerOpen)<=0&&0<=function(y,p,w,E){if(y===void 0)return p!==void 0?1:0;if(p===void 0)return-1;if((p=tt(y,p))===0){if(w&&E)return 0;if(w)return-1;if(E)return 1}return p}(o.upper,s.upper,o.upperOpen,s.upperOpen)}function os(o,s,y,p){o.subscribers.add(y),p.addEventListener("abort",function(){var w,E;o.subscribers.delete(y),o.subscribers.size===0&&(w=o,E=s,setTimeout(function(){w.subscribers.size===0&&Re(E,w)},3e3))})}var Ii={stack:"dbcore",level:0,name:"Cache",create:function(o){var s=o.schema.name;return l(l({},o),{transaction:function(y,p,w){var E,T,R=o.transaction(y,p,w);return p==="readwrite"&&(T=(E=new AbortController).signal,w=function(k){return function(){if(E.abort(),p==="readwrite"){for(var z=new Set,K=0,U=y;K<U.length;K++){var Y=U[K],M=Hr["idb://".concat(s,"/").concat(Y)];if(M){var H=o.table(Y),G=M.optimisticOps.filter(function(Ue){return Ue.trans===R});if(R._explicit&&k&&R.mutatedParts)for(var B=0,Z=Object.values(M.queries.query);B<Z.length;B++)for(var W=0,F=(Se=Z[B]).slice();W<F.length;W++)al((de=F[W]).obsSet,R.mutatedParts)&&(Re(Se,de),de.subscribers.forEach(function(Ue){return z.add(Ue)}));else if(0<G.length){M.optimisticOps=M.optimisticOps.filter(function(Ue){return Ue.trans!==R});for(var re=0,ye=Object.values(M.queries.query);re<ye.length;re++)for(var Se,de,ve,Ee=0,he=(Se=ye[re]).slice();Ee<he.length;Ee++)(de=he[Ee]).res!=null&&R.mutatedParts&&(k&&!de.dirty?(ve=Object.isFrozen(de.res),ve=cl(de.res,de.req,G,H,de,ve),de.dirty?(Re(Se,de),de.subscribers.forEach(function(Ue){return z.add(Ue)})):ve!==de.res&&(de.res=ve,de.promise=Te.resolve({result:ve}))):(de.dirty&&Re(Se,de),de.subscribers.forEach(function(Ue){return z.add(Ue)})))}}}z.forEach(function(Ue){return Ue()})}}},R.addEventListener("abort",w(!1),{signal:T}),R.addEventListener("error",w(!1),{signal:T}),R.addEventListener("complete",w(!0),{signal:T})),R},table:function(y){var p=o.table(y),w=p.schema.primaryKey;return l(l({},p),{mutate:function(E){var T=ke.trans;if(w.outbound||T.db._options.cache==="disabled"||T.explicit||T.idbtrans.mode!=="readwrite")return p.mutate(E);var R=Hr["idb://".concat(s,"/").concat(y)];return R?(T=p.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||Ji(w,E).some(function(k){return k==null}))?(R.optimisticOps.push(E),E.mutatedParts&&Xi(E.mutatedParts),T.then(function(k){0<k.numFailures&&(Re(R.optimisticOps,E),(k=Oo(0,E,k))&&R.optimisticOps.push(k),E.mutatedParts&&Xi(E.mutatedParts))}),T.catch(function(){Re(R.optimisticOps,E),E.mutatedParts&&Xi(E.mutatedParts)})):T.then(function(k){var z=Oo(0,l(l({},E),{values:E.values.map(function(K,U){var Y;return k.failures[U]?K:(K=(Y=w.keyPath)!==null&&Y!==void 0&&Y.includes(".")?ge(K):l({},K),we(K,w.keyPath,k.results[U]),K)})}),k);R.optimisticOps.push(z),queueMicrotask(function(){return E.mutatedParts&&Xi(E.mutatedParts)})}),T):p.mutate(E)},query:function(E){if(!Kr(ke,p)||!xo("query",E))return p.query(E);var T=((z=ke.trans)===null||z===void 0?void 0:z.db._options.cache)==="immutable",U=ke,R=U.requery,k=U.signal,z=function(H,G,B,Z){var W=Hr["idb://".concat(H,"/").concat(G)];if(!W)return[];if(!(G=W.queries[B]))return[null,!1,W,null];var F=G[(Z.query?Z.query.index.name:null)||""];if(!F)return[null,!1,W,null];switch(B){case"query":var re=F.find(function(ye){return ye.req.limit===Z.limit&&ye.req.values===Z.values&&Oa(ye.req.query.range,Z.query.range)});return re?[re,!0,W,F]:[F.find(function(ye){return("limit"in ye.req?ye.req.limit:1/0)>=Z.limit&&(!Z.values||ye.req.values)&&ci(ye.req.query.range,Z.query.range)}),!1,W,F];case"count":return re=F.find(function(ye){return Oa(ye.req.query.range,Z.query.range)}),[re,!!re,W,F]}}(s,y,"query",E),K=z[0],U=z[1],Y=z[2],M=z[3];return K&&U?K.obsSet=E.obsSet:(U=p.query(E).then(function(H){var G=H.result;if(K&&(K.res=G),T){for(var B=0,Z=G.length;B<Z;++B)Object.freeze(G[B]);Object.freeze(G)}else H.result=ge(G);return H}).catch(function(H){return M&&K&&Re(M,K),Promise.reject(H)}),K={obsSet:E.obsSet,promise:U,subscribers:new Set,type:"query",req:E,dirty:!1},M?M.push(K):(M=[K],(Y=Y||(Hr["idb://".concat(s,"/").concat(y)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=M)),os(K,M,R,k),K.promise.then(function(H){return{result:cl(H.result,E,Y?.optimisticOps,p,K,T)}})}})}})}};function si(o,s){return new Proxy(o,{get:function(y,p,w){return p==="db"?s:Reflect.get(y,p,w)}})}var Kn=(wt.prototype.version=function(o){if(isNaN(o)||o<.1)throw new ze.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new ze.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var s=this._versions,y=s.filter(function(p){return p._cfg.version===o})[0];return y||(y=new this.Version(o),s.push(y),s.sort(Wu),y.stores({}),this._state.autoSchema=!1,y)},wt.prototype._whenReady=function(o){var s=this;return this.idbdb&&(this._state.openComplete||ke.letThrough||this._vip)?o():new Te(function(y,p){if(s._state.openComplete)return p(new ze.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return void p(new ze.DatabaseClosed);s.open().catch(ut)}s._state.dbReadyPromise.then(y,p)}).then(o)},wt.prototype.use=function(o){var s=o.stack,y=o.create,p=o.level,w=o.name;return w&&this.unuse({stack:s,name:w}),o=this._middlewares[s]||(this._middlewares[s]=[]),o.push({stack:s,create:y,level:p??10,name:w}),o.sort(function(E,T){return E.level-T.level}),this},wt.prototype.unuse=function(o){var s=o.stack,y=o.name,p=o.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(w){return p?w.create!==p:!!y&&w.name!==y})),this},wt.prototype.open=function(){var o=this;return nr(rn,function(){return is(o)})},wt.prototype._close=function(){var o=this._state,s=Jn.indexOf(this);if(0<=s&&Jn.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new Te(function(y){o.dbReadyResolve=y}),o.openCanceller=new Te(function(y,p){o.cancelOpen=p}))},wt.prototype.close=function(y){var s=(y===void 0?{disableAutoOpen:!0}:y).disableAutoOpen,y=this._state;s?(y.isBeingOpened&&y.cancelOpen(new ze.DatabaseClosed),this._close(),y.autoOpen=!1,y.dbOpenError=new ze.DatabaseClosed):(this._close(),y.autoOpen=this._options.autoOpen||y.isBeingOpened,y.openComplete=!1,y.dbOpenError=null)},wt.prototype.delete=function(o){var s=this;o===void 0&&(o={disableAutoOpen:!0});var y=0<arguments.length&&typeof arguments[0]!="object",p=this._state;return new Te(function(w,E){function T(){s.close(o);var R=s._deps.indexedDB.deleteDatabase(s.name);R.onsuccess=We(function(){var k,z,K;k=s._deps,z=s.name,K=k.indexedDB,k=k.IDBKeyRange,Gi(K)||z===Rr||el(K,k).delete(z).catch(ut),w()}),R.onerror=En(E),R.onblocked=s._fireOnBlocked}if(y)throw new ze.InvalidArgument("Invalid closeOptions argument to db.delete()");p.isBeingOpened?p.dbReadyPromise.then(T):T()})},wt.prototype.backendDB=function(){return this.idbdb},wt.prototype.isOpen=function(){return this.idbdb!==null},wt.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},wt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},wt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(wt.prototype,"tables",{get:function(){var o=this;return m(this._allTables).map(function(s){return o._allTables[s]})},enumerable:!1,configurable:!0}),wt.prototype.transaction=function(){var o=(function(s,y,p){var w=arguments.length;if(w<2)throw new ze.InvalidArgument("Too few arguments");for(var E=new Array(w-1);--w;)E[w-1]=arguments[w];return p=E.pop(),[s,De(E),p]}).apply(this,arguments);return this._transaction.apply(this,o)},wt.prototype._transaction=function(o,s,y){var p=this,w=ke.trans;w&&w.db===this&&o.indexOf("!")===-1||(w=null);var E,T,R=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(T=s.map(function(z){if(z=z instanceof p.Table?z.name:z,typeof z!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return z}),o=="r"||o===wn)E=wn;else{if(o!="rw"&&o!=ri)throw new ze.InvalidArgument("Invalid transaction mode: "+o);E=ri}if(w){if(w.mode===wn&&E===ri){if(!R)throw new ze.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&T.forEach(function(z){if(w&&w.storeNames.indexOf(z)===-1){if(!R)throw new ze.SubTransaction("Table "+z+" not included in parent transaction.");w=null}}),R&&w&&!w.active&&(w=null)}}catch(z){return w?w._promise(null,function(K,U){U(z)}):xt(z)}var k=(function z(K,U,Y,M,H){return Te.resolve().then(function(){var G=ke.transless||ke,B=K._createTransaction(U,Y,K._dbSchema,M);if(B.explicit=!0,G={trans:B,transless:G},M)B.idbtrans=M.idbtrans;else try{B.create(),B.idbtrans._explicit=!0,K._state.PR1398_maxLoop=3}catch(F){return F.name===Qt.InvalidState&&K.isOpen()&&0<--K._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),K.close({disableAutoOpen:!1}),K.open().then(function(){return z(K,U,Y,null,H)})):xt(F)}var Z,W=J(H);return W&&Sn(),G=Te.follow(function(){var F;(Z=H.call(B,B))&&(W?(F=fn.bind(null,null),Z.then(F,F)):typeof Z.next=="function"&&typeof Z.throw=="function"&&(Z=oi(Z)))},G),(Z&&typeof Z.then=="function"?Te.resolve(Z).then(function(F){return B.active?F:xt(new ze.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return Z})).then(function(F){return M&&B._resolve(),B._completion.then(function(){return F})}).catch(function(F){return B._reject(F),xt(F)})})}).bind(null,this,E,T,w,y);return w?w._promise(E,k,"lock"):ke.trans?nr(ke.transless,function(){return p._whenReady(k)}):this._whenReady(k)},wt.prototype.table=function(o){if(!O(this._allTables,o))throw new ze.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},wt);function wt(o,s){var y=this;this._middlewares={},this.verno=0;var p=wt.dependencies;this._options=s=l({addons:wt.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},p=s.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var w,E,T,R,k,z={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ut,dbReadyPromise:null,cancelOpen:ut,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen};z.dbReadyPromise=new Te(function(U){z.dbReadyResolve=U}),z.openCanceller=new Te(function(U,Y){z.cancelOpen=Y}),this._state=z,this.name=o,this.on=lr(this,"populate","blocked","versionchange","close",{ready:[Ti,ut]}),this.on.ready.subscribe=ee(this.on.ready.subscribe,function(U){return function(Y,M){wt.vip(function(){var H,G=y._state;G.openComplete?(G.dbOpenError||Te.resolve().then(Y),M&&U(Y)):G.onReadyBeingFired?(G.onReadyBeingFired.push(Y),M&&U(Y)):(U(Y),H=y,M||U(function B(){H.on.ready.unsubscribe(Y),H.on.ready.unsubscribe(B)}))})}}),this.Collection=(w=this,ya(ba.prototype,function(Z,B){this.db=w;var M=Cr,H=null;if(B)try{M=B()}catch(W){H=W}var G=Z._ctx,B=G.table,Z=B.hook.reading.fire;this._ctx={table:B,index:G.index,isPrimKey:!G.index||B.schema.primKey.keyPath&&G.index===B.schema.primKey.name,range:M,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:H,or:G.or,valueMapper:Z!==xr?Z:null}})),this.Table=(E=this,ya(Xu.prototype,function(U,Y,M){this.db=E,this._tx=M,this.name=U,this.schema=Y,this.hook=E._allTables[U]?E._allTables[U].hook:lr(null,{creating:[ns,ut],reading:[Bu,xr],updating:[rs,ut],deleting:[Mn,ut]})})),this.Transaction=(T=this,ya(Pu.prototype,function(U,Y,M,H,G){var B=this;this.db=T,this.mode=U,this.storeNames=Y,this.schema=M,this.chromeTransactionDurability=H,this.idbtrans=null,this.on=lr(this,"complete","error","abort"),this.parent=G||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(function(Z,W){B._resolve=Z,B._reject=W}),this._completion.then(function(){B.active=!1,B.on.complete.fire()},function(Z){var W=B.active;return B.active=!1,B.on.error.fire(Z),B.parent?B.parent._reject(Z):W&&B.idbtrans&&B.idbtrans.abort(),xt(Z)})})),this.Version=(R=this,ya(as.prototype,function(U){this.db=R,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(k=this,ya(kr.prototype,function(U,Y,M){if(this.db=k,this._ctx={table:U,index:Y===":id"?null:Y,or:M},this._cmp=this._ascending=tt,this._descending=function(H,G){return tt(G,H)},this._max=function(H,G){return 0<tt(H,G)?H:G},this._min=function(H,G){return tt(H,G)<0?H:G},this._IDBKeyRange=k._deps.IDBKeyRange,!this._IDBKeyRange)throw new ze.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(y.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(y.name,"'. Closing db now to resume the delete request.")),y.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(y.name,"') was blocked")):console.warn("Upgrade '".concat(y.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=wa(s.IDBKeyRange),this._createTransaction=function(U,Y,M,H){return new y.Transaction(U,Y,M,y._options.chromeTransactionDurability,H)},this._fireOnBlocked=function(U){y.on("blocked").fire(U),Jn.filter(function(Y){return Y.name===y.name&&Y!==y&&!Y._state.vcFired}).map(function(Y){return Y.on("versionchange").fire(U)})},this.use(Eo),this.use(Ii),this.use(ls),this.use(us),this.use(wo);var K=new Proxy(this,{get:function(U,Y,M){if(Y==="_vip")return!0;if(Y==="table")return function(G){return si(y.table(G),K)};var H=Reflect.get(U,Y,M);return H instanceof Xu?si(H,K):Y==="tables"?H.map(function(G){return si(G,K)}):Y==="_createTransaction"?function(){return si(H.apply(this,arguments),K)}:H}});this.vip=K,p.forEach(function(U){return U(y)})}var Aa,yn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ao=(Pi.prototype.subscribe=function(o,s,y){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:s,complete:y})},Pi.prototype[yn]=function(){return this},Pi);function Pi(o){this._subscribe=o}try{Aa={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{Aa={indexedDB:null,IDBKeyRange:null}}function To(o){var s,y=!1,p=new Ao(function(w){var E=J(o),T,R=!1,k={},z={},K={get closed(){return R},unsubscribe:function(){R||(R=!0,T&&T.abort(),U&&Xt.storagemutated.unsubscribe(M))}};w.start&&w.start(K);var U=!1,Y=function(){return ar(H)},M=function(G){Qi(k,G),al(z,k)&&Y()},H=function(){var G,B,Z;!R&&Aa.indexedDB&&(k={},G={},T&&T.abort(),T=new AbortController,Z=function(W){var F=jr();try{E&&Sn();var re=zn(o,W);return re=E?re.finally(fn):re}finally{F&&fa()}}(B={subscr:G,signal:T.signal,requery:Y,querier:o,trans:null}),Promise.resolve(Z).then(function(W){y=!0,s=W,R||B.signal.aborted||(k={},function(F){for(var re in F)if(O(F,re))return;return 1}(z=G)||U||(Xt(_a,M),U=!0),ar(function(){return!R&&w.next&&w.next(W)}))},function(W){y=!1,["DatabaseClosedError","AbortError"].includes(W?.name)||R||ar(function(){R||w.error&&w.error(W)})}))};return setTimeout(Y,0),K});return p.hasValue=function(){return y},p.getValue=function(){return s},p}var Lr=Kn;function sl(o){var s=sr;try{sr=!0,Xt.storagemutated.fire(o),ll(o,!0)}finally{sr=s}}A(Lr,l(l({},Er),{delete:function(o){return new Lr(o,{addons:[]}).delete()},exists:function(o){return new Lr(o,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return s=Lr.dependencies,y=s.indexedDB,s=s.IDBKeyRange,(Gi(y)?Promise.resolve(y.databases()).then(function(p){return p.map(function(w){return w.name}).filter(function(w){return w!==Rr})}):el(y,s).toCollection().primaryKeys()).then(o)}catch{return xt(new ze.MissingAPI)}var s,y},defineClass:function(){return function(o){S(this,o)}},ignoreTransaction:function(o){return ke.trans?nr(ke.transless,o):o()},vip:tl,async:function(o){return function(){try{var s=oi(o.apply(this,arguments));return s&&typeof s.then=="function"?s:Te.resolve(s)}catch(y){return xt(y)}}},spawn:function(o,s,y){try{var p=oi(o.apply(y,s||[]));return p&&typeof p.then=="function"?p:Te.resolve(p)}catch(w){return xt(w)}},currentTransaction:{get:function(){return ke.trans||null}},waitFor:function(o,s){return s=Te.resolve(typeof o=="function"?Lr.ignoreTransaction(o):o).timeout(s||6e4),ke.trans?ke.trans.waitFor(s):s},Promise:Te,debug:{get:function(){return sn},set:function(o){fo(o)}},derive:I,extend:S,props:A,override:ee,Events:lr,on:Xt,liveQuery:To,extendObservabilitySet:Qi,getByKeyPath:oe,setByKeyPath:we,delByKeyPath:function(o,s){typeof s=="string"?we(o,s,void 0):"length"in s&&[].map.call(s,function(y){we(o,y,void 0)})},shallowClone:Be,deepClone:ge,getObjectDiff:Zi,cmp:tt,asap:xe,minKey:-1/0,addons:[],connections:Jn,errnames:Qt,dependencies:Aa,cache:Hr,semVer:"4.0.11",version:"4.0.11".split(".").map(function(o){return parseInt(o)}).reduce(function(o,s,y){return o+s/Math.pow(10,2*y)})})),Lr.maxKey=wa(Lr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Xt(_a,function(o){sr||(o=new CustomEvent(zr,{detail:o}),sr=!0,dispatchEvent(o),sr=!1)}),addEventListener(zr,function(o){o=o.detail,sr||sl(o)}));var Ta,sr=!1,ln=function(){};return typeof BroadcastChannel<"u"&&((ln=function(){(Ta=new BroadcastChannel(zr)).onmessage=function(o){return o.data&&sl(o.data)}})(),typeof Ta.unref=="function"&&Ta.unref(),Xt(_a,function(o){sr||Ta.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!Kn.disableBfCache&&o.persisted){sn&&console.debug("Dexie: handling persisted pagehide"),Ta?.close();for(var s=0,y=Jn;s<y.length;s++)y[s].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!Kn.disableBfCache&&o.persisted&&(sn&&console.debug("Dexie: handling persisted pageshow"),ln(),sl({all:new Zt(-1/0,[[]])}))})),Te.rejectionMapper=function(o,s){return!o||o instanceof ue||o instanceof TypeError||o instanceof SyntaxError||!o.name||!Ai[o.name]?o:(s=new Ai[o.name](s||o.message,o),"stack"in o&&q(s,"stack",{get:function(){return this.inner.stack}}),s)},fo(sn),l(Kn,Object.freeze({__proto__:null,Dexie:Kn,liveQuery:To,Entity:Ui,cmp:tt,PropModification:ma,replacePrefix:function(o,s){return new ma({replacePrefix:[o,s]})},add:function(o){return new ma({add:o})},remove:function(o){return new ma({remove:o})},default:Kn,RangeSet:Zt,mergeRanges:qr,rangesOverlap:go}),{default:Kn}),Kn})}(Uc)),Uc.exports}var a0=r0();const ud=zg(a0),Pv=Symbol.for("Dexie"),At=globalThis[Pv]||(globalThis[Pv]=ud);if(ud.semVer!==At.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ud.semVer} and ${At.semVer}`);const{liveQuery:Eu,mergeRanges:a1,rangesOverlap:i1,RangeSet:u1,cmp:i0,Entity:l1,PropModification:Wv,replacePrefix:o1,add:c1,remove:s1}=At;var ld=function(a,u){return ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(i[f]=l[f])},ld(a,u)};function ua(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");ld(a,u);function i(){this.constructor=a}a.prototype=u===null?Object.create(u):(i.prototype=u.prototype,new i)}function u0(a,u,i,l){function f(h){return h instanceof i?h:new i(function(m){m(h)})}return new(i||(i=Promise))(function(h,m){function g(v){try{b(l.next(v))}catch(O){m(O)}}function S(v){try{b(l.throw(v))}catch(O){m(O)}}function b(v){v.done?h(v.value):f(v.value).then(g,S)}b((l=l.apply(a,u||[])).next())})}function Pp(a,u){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,f,h,m=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return m.next=g(0),m.throw=g(1),m.return=g(2),typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(b){return function(v){return S([b,v])}}function S(b){if(l)throw new TypeError("Generator is already executing.");for(;m&&(m=0,b[0]&&(i=0)),i;)try{if(l=1,f&&(h=b[0]&2?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,f=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){i.label=b[1];break}if(b[0]===6&&i.label<h[1]){i.label=h[1],h=b;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(b);break}h[2]&&i.ops.pop(),i.trys.pop();continue}b=u.call(a,i)}catch(v){b=[6,v],f=0}finally{l=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}function Du(a){var u=typeof Symbol=="function"&&Symbol.iterator,i=u&&a[u],l=0;if(i)return i.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function xi(a,u){var i=typeof Symbol=="function"&&a[Symbol.iterator];if(!i)return a;var l=i.call(a),f,h=[],m;try{for(;(u===void 0||u-- >0)&&!(f=l.next()).done;)h.push(f.value)}catch(g){m={error:g}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(m)throw m.error}}return h}function ju(a,u,i){if(i||arguments.length===2)for(var l=0,f=u.length,h;l<f;l++)(h||!(l in u))&&(h||(h=Array.prototype.slice.call(u,0,l)),h[l]=u[l]);return a.concat(h||Array.prototype.slice.call(u))}function xu(a){return this instanceof xu?(this.v=a,this):new xu(a)}function l0(a,u,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(a,u||[]),f,h=[];return f=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),f[Symbol.asyncIterator]=function(){return this},f;function m(j){return function(q){return Promise.resolve(q).then(j,O)}}function g(j,q){l[j]&&(f[j]=function(I){return new Promise(function(ne,se){h.push([j,I,ne,se])>1||S(j,I)})},q&&(f[j]=q(f[j])))}function S(j,q){try{b(l[j](q))}catch(I){A(h[0][3],I)}}function b(j){j.value instanceof xu?Promise.resolve(j.value.v).then(v,O):A(h[0][2],j)}function v(j){S("next",j)}function O(j){S("throw",j)}function A(j,q){j(q),h.shift(),h.length&&S(h[0][0],h[0][1])}}function o0(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=a[Symbol.asyncIterator],i;return u?u.call(a):(a=typeof Du=="function"?Du(a):a[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(h){i[h]=a[h]&&function(m){return new Promise(function(g,S){m=a[h](m),f(g,S,m.done,m.value)})}}function f(h,m,g,S){Promise.resolve(S).then(function(b){h({value:b,done:g})},m)}}function yt(a){return typeof a=="function"}function jd(a){var u=function(l){Error.call(l),l.stack=new Error().stack},i=a(u);return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var Pf=jd(function(a){return function(i){a(this),this.message=i?i.length+` errors occurred during unsubscription:
`+i.map(function(l,f){return f+1+") "+l.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=i}});function qc(a,u){if(a){var i=a.indexOf(u);0<=i&&a.splice(i,1)}}var ku=function(){function a(u){this.initialTeardown=u,this.closed=!1,this._parentage=null,this._finalizers=null}return a.prototype.unsubscribe=function(){var u,i,l,f,h;if(!this.closed){this.closed=!0;var m=this._parentage;if(m)if(this._parentage=null,Array.isArray(m))try{for(var g=Du(m),S=g.next();!S.done;S=g.next()){var b=S.value;b.remove(this)}}catch(I){u={error:I}}finally{try{S&&!S.done&&(i=g.return)&&i.call(g)}finally{if(u)throw u.error}}else m.remove(this);var v=this.initialTeardown;if(yt(v))try{v()}catch(I){h=I instanceof Pf?I.errors:[I]}var O=this._finalizers;if(O){this._finalizers=null;try{for(var A=Du(O),j=A.next();!j.done;j=A.next()){var q=j.value;try{Fv(q)}catch(I){h=h??[],I instanceof Pf?h=ju(ju([],xi(h)),xi(I.errors)):h.push(I)}}}catch(I){l={error:I}}finally{try{j&&!j.done&&(f=A.return)&&f.call(A)}finally{if(l)throw l.error}}}if(h)throw new Pf(h)}},a.prototype.add=function(u){var i;if(u&&u!==this)if(this.closed)Fv(u);else{if(u instanceof a){if(u.closed||u._hasParent(this))return;u._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(u)}},a.prototype._hasParent=function(u){var i=this._parentage;return i===u||Array.isArray(i)&&i.includes(u)},a.prototype._addParent=function(u){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(u),i):i?[i,u]:u},a.prototype._removeParent=function(u){var i=this._parentage;i===u?this._parentage=null:Array.isArray(i)&&qc(i,u)},a.prototype.remove=function(u){var i=this._finalizers;i&&qc(i,u),u instanceof a&&u._removeParent(this)},a.EMPTY=function(){var u=new a;return u.closed=!0,u}(),a}(),Wp=ku.EMPTY;function Fp(a){return a instanceof ku||a&&"closed"in a&&yt(a.remove)&&yt(a.add)&&yt(a.unsubscribe)}function Fv(a){yt(a)?a():a.unsubscribe()}var c0={Promise:void 0},s0={setTimeout:function(a,u){for(var i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];return setTimeout.apply(void 0,ju([a,u],xi(i)))},clearTimeout:function(a){return clearTimeout(a)},delegate:void 0};function em(a){s0.setTimeout(function(){throw a})}function ep(){}function Mc(a){a()}var Rd=function(a){ua(u,a);function u(i){var l=a.call(this)||this;return l.isStopped=!1,i?(l.destination=i,Fp(i)&&i.add(l)):l.destination=h0,l}return u.create=function(i,l,f){return new Ru(i,l,f)},u.prototype.next=function(i){this.isStopped||this._next(i)},u.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},u.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},u.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this),this.destination=null)},u.prototype._next=function(i){this.destination.next(i)},u.prototype._error=function(i){try{this.destination.error(i)}finally{this.unsubscribe()}},u.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},u}(ku),f0=function(){function a(u){this.partialObserver=u}return a.prototype.next=function(u){var i=this.partialObserver;if(i.next)try{i.next(u)}catch(l){xc(l)}},a.prototype.error=function(u){var i=this.partialObserver;if(i.error)try{i.error(u)}catch(l){xc(l)}else xc(u)},a.prototype.complete=function(){var u=this.partialObserver;if(u.complete)try{u.complete()}catch(i){xc(i)}},a}(),Ru=function(a){ua(u,a);function u(i,l,f){var h=a.call(this)||this,m;return yt(i)||!i?m={next:i??void 0,error:l??void 0,complete:f??void 0}:m=i,h.destination=new f0(m),h}return u}(Rd);function xc(a){em(a)}function d0(a){throw a}var h0={closed:!0,next:ep,error:d0,complete:ep},Cd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Jc(a){return a}function y0(a){return a.length===0?Jc:a.length===1?a[0]:function(i){return a.reduce(function(l,f){return f(l)},i)}}var Vt=function(){function a(u){u&&(this._subscribe=u)}return a.prototype.lift=function(u){var i=new a;return i.source=this,i.operator=u,i},a.prototype.subscribe=function(u,i,l){var f=this,h=p0(u)?u:new Ru(u,i,l);return Mc(function(){var m=f,g=m.operator,S=m.source;h.add(g?g.call(h,S):S?f._subscribe(h):f._trySubscribe(h))}),h},a.prototype._trySubscribe=function(u){try{return this._subscribe(u)}catch(i){u.error(i)}},a.prototype.forEach=function(u,i){var l=this;return i=tp(i),new i(function(f,h){var m=new Ru({next:function(g){try{u(g)}catch(S){h(S),m.unsubscribe()}},error:h,complete:f});l.subscribe(m)})},a.prototype._subscribe=function(u){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(u)},a.prototype[Cd]=function(){return this},a.prototype.pipe=function(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];return y0(u)(this)},a.prototype.toPromise=function(u){var i=this;return u=tp(u),new u(function(l,f){var h;i.subscribe(function(m){return h=m},function(m){return f(m)},function(){return l(h)})})},a.create=function(u){return new a(u)},a}();function tp(a){var u;return(u=a??c0.Promise)!==null&&u!==void 0?u:Promise}function v0(a){return a&&yt(a.next)&&yt(a.error)&&yt(a.complete)}function p0(a){return a&&a instanceof Rd||v0(a)&&Fp(a)}function m0(a){return yt(a?.lift)}function Nu(a){return function(u){if(m0(u))return u.lift(function(i){try{return a(i,this)}catch(l){this.error(l)}});throw new TypeError("Unable to lift unknown Observable type")}}function Cu(a,u,i,l,f){return new b0(a,u,i,l,f)}var b0=function(a){ua(u,a);function u(i,l,f,h,m,g){var S=a.call(this,i)||this;return S.onFinalize=m,S.shouldUnsubscribe=g,S._next=l?function(b){try{l(b)}catch(v){i.error(v)}}:a.prototype._next,S._error=h?function(b){try{h(b)}catch(v){i.error(v)}finally{this.unsubscribe()}}:a.prototype._error,S._complete=f?function(){try{f()}catch(b){i.error(b)}finally{this.unsubscribe()}}:a.prototype._complete,S}return u.prototype.unsubscribe=function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var l=this.closed;a.prototype.unsubscribe.call(this),!l&&((i=this.onFinalize)===null||i===void 0||i.call(this))}},u}(Rd),g0=jd(function(a){return function(){a(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),uo=function(a){ua(u,a);function u(){var i=a.call(this)||this;return i.closed=!1,i.currentObservers=null,i.observers=[],i.isStopped=!1,i.hasError=!1,i.thrownError=null,i}return u.prototype.lift=function(i){var l=new np(this,this);return l.operator=i,l},u.prototype._throwIfClosed=function(){if(this.closed)throw new g0},u.prototype.next=function(i){var l=this;Mc(function(){var f,h;if(l._throwIfClosed(),!l.isStopped){l.currentObservers||(l.currentObservers=Array.from(l.observers));try{for(var m=Du(l.currentObservers),g=m.next();!g.done;g=m.next()){var S=g.value;S.next(i)}}catch(b){f={error:b}}finally{try{g&&!g.done&&(h=m.return)&&h.call(m)}finally{if(f)throw f.error}}}})},u.prototype.error=function(i){var l=this;Mc(function(){if(l._throwIfClosed(),!l.isStopped){l.hasError=l.isStopped=!0,l.thrownError=i;for(var f=l.observers;f.length;)f.shift().error(i)}})},u.prototype.complete=function(){var i=this;Mc(function(){if(i._throwIfClosed(),!i.isStopped){i.isStopped=!0;for(var l=i.observers;l.length;)l.shift().complete()}})},u.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(u.prototype,"observed",{get:function(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0},enumerable:!1,configurable:!0}),u.prototype._trySubscribe=function(i){return this._throwIfClosed(),a.prototype._trySubscribe.call(this,i)},u.prototype._subscribe=function(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)},u.prototype._innerSubscribe=function(i){var l=this,f=this,h=f.hasError,m=f.isStopped,g=f.observers;return h||m?Wp:(this.currentObservers=null,g.push(i),new ku(function(){l.currentObservers=null,qc(g,i)}))},u.prototype._checkFinalizedStatuses=function(i){var l=this,f=l.hasError,h=l.thrownError,m=l.isStopped;f?i.error(h):m&&i.complete()},u.prototype.asObservable=function(){var i=new Vt;return i.source=this,i},u.create=function(i,l){return new np(i,l)},u}(Vt),np=function(a){ua(u,a);function u(i,l){var f=a.call(this)||this;return f.destination=i,f.source=l,f}return u.prototype.next=function(i){var l,f;(f=(l=this.destination)===null||l===void 0?void 0:l.next)===null||f===void 0||f.call(l,i)},u.prototype.error=function(i){var l,f;(f=(l=this.destination)===null||l===void 0?void 0:l.error)===null||f===void 0||f.call(l,i)},u.prototype.complete=function(){var i,l;(l=(i=this.destination)===null||i===void 0?void 0:i.complete)===null||l===void 0||l.call(i)},u.prototype._subscribe=function(i){var l,f;return(f=(l=this.source)===null||l===void 0?void 0:l.subscribe(i))!==null&&f!==void 0?f:Wp},u}(uo),Fn=function(a){ua(u,a);function u(i){var l=a.call(this)||this;return l._value=i,l}return Object.defineProperty(u.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),u.prototype._subscribe=function(i){var l=a.prototype._subscribe.call(this,i);return!l.closed&&i.next(this._value),l},u.prototype.getValue=function(){var i=this,l=i.hasError,f=i.thrownError,h=i._value;if(l)throw f;return this._throwIfClosed(),h},u.prototype.next=function(i){a.prototype.next.call(this,this._value=i)},u}(uo),_0={now:function(){return Date.now()}},S0=function(a){ua(u,a);function u(i,l){return a.call(this)||this}return u.prototype.schedule=function(i,l){return this},u}(ku),rp={setInterval:function(a,u){for(var i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];return setInterval.apply(void 0,ju([a,u],xi(i)))},clearInterval:function(a){return clearInterval(a)},delegate:void 0},w0=function(a){ua(u,a);function u(i,l){var f=a.call(this,i,l)||this;return f.scheduler=i,f.work=l,f.pending=!1,f}return u.prototype.schedule=function(i,l){var f;if(l===void 0&&(l=0),this.closed)return this;this.state=i;var h=this.id,m=this.scheduler;return h!=null&&(this.id=this.recycleAsyncId(m,h,l)),this.pending=!0,this.delay=l,this.id=(f=this.id)!==null&&f!==void 0?f:this.requestAsyncId(m,this.id,l),this},u.prototype.requestAsyncId=function(i,l,f){return f===void 0&&(f=0),rp.setInterval(i.flush.bind(i,this),f)},u.prototype.recycleAsyncId=function(i,l,f){if(f===void 0&&(f=0),f!=null&&this.delay===f&&this.pending===!1)return l;l!=null&&rp.clearInterval(l)},u.prototype.execute=function(i,l){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var f=this._execute(i,l);if(f)return f;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},u.prototype._execute=function(i,l){var f=!1,h;try{this.work(i)}catch(m){f=!0,h=m||new Error("Scheduled action threw falsy error")}if(f)return this.unsubscribe(),h},u.prototype.unsubscribe=function(){if(!this.closed){var i=this,l=i.id,f=i.scheduler,h=f.actions;this.work=this.state=this.scheduler=null,this.pending=!1,qc(h,this),l!=null&&(this.id=this.recycleAsyncId(f,l,null)),this.delay=null,a.prototype.unsubscribe.call(this)}},u}(S0),ap=function(){function a(u,i){i===void 0&&(i=a.now),this.schedulerActionCtor=u,this.now=i}return a.prototype.schedule=function(u,i,l){return i===void 0&&(i=0),new this.schedulerActionCtor(this,u).schedule(l,i)},a.now=_0.now,a}(),E0=function(a){ua(u,a);function u(i,l){l===void 0&&(l=ap.now);var f=a.call(this,i,l)||this;return f.actions=[],f._active=!1,f}return u.prototype.flush=function(i){var l=this.actions;if(this._active){l.push(i);return}var f;this._active=!0;do if(f=i.execute(i.state,i.delay))break;while(i=l.shift());if(this._active=!1,f){for(;i=l.shift();)i.unsubscribe();throw f}},u}(ap),x0=new E0(w0),O0=x0,A0=new Vt(function(a){return a.complete()});function T0(a){return a&&yt(a.schedule)}function Ud(a){return a[a.length-1]}function D0(a){return yt(Ud(a))?a.pop():void 0}function Md(a){return T0(Ud(a))?a.pop():void 0}function j0(a,u){return typeof Ud(a)=="number"?a.pop():u}var kd=function(a){return a&&typeof a.length=="number"&&typeof a!="function"};function tm(a){return yt(a?.then)}function nm(a){return yt(a[Cd])}function rm(a){return Symbol.asyncIterator&&yt(a?.[Symbol.asyncIterator])}function am(a){return new TypeError("You provided "+(a!==null&&typeof a=="object"?"an invalid object":"'"+a+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function R0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var im=R0();function um(a){return yt(a?.[im])}function lm(a){return l0(this,arguments,function(){var i,l,f,h;return Pp(this,function(m){switch(m.label){case 0:i=a.getReader(),m.label=1;case 1:m.trys.push([1,,9,10]),m.label=2;case 2:return[4,xu(i.read())];case 3:return l=m.sent(),f=l.value,h=l.done,h?[4,xu(void 0)]:[3,5];case 4:return[2,m.sent()];case 5:return[4,xu(f)];case 6:return[4,m.sent()];case 7:return m.sent(),[3,2];case 8:return[3,10];case 9:return i.releaseLock(),[7];case 10:return[2]}})})}function om(a){return yt(a?.getReader)}function la(a){if(a instanceof Vt)return a;if(a!=null){if(nm(a))return C0(a);if(kd(a))return U0(a);if(tm(a))return M0(a);if(rm(a))return cm(a);if(um(a))return k0(a);if(om(a))return N0(a)}throw am(a)}function C0(a){return new Vt(function(u){var i=a[Cd]();if(yt(i.subscribe))return i.subscribe(u);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function U0(a){return new Vt(function(u){for(var i=0;i<a.length&&!u.closed;i++)u.next(a[i]);u.complete()})}function M0(a){return new Vt(function(u){a.then(function(i){u.closed||(u.next(i),u.complete())},function(i){return u.error(i)}).then(null,em)})}function k0(a){return new Vt(function(u){var i,l;try{for(var f=Du(a),h=f.next();!h.done;h=f.next()){var m=h.value;if(u.next(m),u.closed)return}}catch(g){i={error:g}}finally{try{h&&!h.done&&(l=f.return)&&l.call(f)}finally{if(i)throw i.error}}u.complete()})}function cm(a){return new Vt(function(u){z0(a,u).catch(function(i){return u.error(i)})})}function N0(a){return cm(lm(a))}function z0(a,u){var i,l,f,h;return u0(this,void 0,void 0,function(){var m,g;return Pp(this,function(S){switch(S.label){case 0:S.trys.push([0,5,6,11]),i=o0(a),S.label=1;case 1:return[4,i.next()];case 2:if(l=S.sent(),!!l.done)return[3,4];if(m=l.value,u.next(m),u.closed)return[2];S.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return g=S.sent(),f={error:g},[3,11];case 6:return S.trys.push([6,,9,10]),l&&!l.done&&(h=i.return)?[4,h.call(i)]:[3,8];case 7:S.sent(),S.label=8;case 8:return[3,10];case 9:if(f)throw f.error;return[7];case 10:return[7];case 11:return u.complete(),[2]}})})}function Ia(a,u,i,l,f){l===void 0&&(l=0),f===void 0&&(f=!1);var h=u.schedule(function(){i(),f?a.add(this.schedule(null,l)):this.unsubscribe()},l);if(a.add(h),!f)return h}function sm(a,u){return u===void 0&&(u=0),Nu(function(i,l){i.subscribe(Cu(l,function(f){return Ia(l,a,function(){return l.next(f)},u)},function(){return Ia(l,a,function(){return l.complete()},u)},function(f){return Ia(l,a,function(){return l.error(f)},u)}))})}function fm(a,u){return u===void 0&&(u=0),Nu(function(i,l){l.add(a.schedule(function(){return i.subscribe(l)},u))})}function B0(a,u){return la(a).pipe(fm(u),sm(u))}function q0(a,u){return la(a).pipe(fm(u),sm(u))}function H0(a,u){return new Vt(function(i){var l=0;return u.schedule(function(){l===a.length?i.complete():(i.next(a[l++]),i.closed||this.schedule())})})}function K0(a,u){return new Vt(function(i){var l;return Ia(i,u,function(){l=a[im](),Ia(i,u,function(){var f,h,m;try{f=l.next(),h=f.value,m=f.done}catch(g){i.error(g);return}m?i.complete():i.next(h)},0,!0)}),function(){return yt(l?.return)&&l.return()}})}function dm(a,u){if(!a)throw new Error("Iterable cannot be null");return new Vt(function(i){Ia(i,u,function(){var l=a[Symbol.asyncIterator]();Ia(i,u,function(){l.next().then(function(f){f.done?i.complete():i.next(f.value)})},0,!0)})})}function L0(a,u){return dm(lm(a),u)}function Y0(a,u){if(a!=null){if(nm(a))return B0(a,u);if(kd(a))return H0(a,u);if(tm(a))return q0(a,u);if(rm(a))return dm(a,u);if(um(a))return K0(a,u);if(om(a))return L0(a,u)}throw am(a)}function wr(a,u){return u?Y0(a,u):la(a)}function ia(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var i=Md(a);return wr(a,i)}function ip(a,u){var i=yt(a)?a:function(){return a},l=function(f){return f.error(i())};return new Vt(l)}var G0=jd(function(a){return function(){a(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ou(a,u){return new Promise(function(i,l){var f=new Ru({next:function(h){i(h),f.unsubscribe()},error:l,complete:function(){l(new G0)}});a.subscribe(f)})}function V0(a){return a instanceof Date&&!isNaN(a)}function $c(a,u){return Nu(function(i,l){var f=0;i.subscribe(Cu(l,function(h){l.next(a.call(u,h,f++))}))})}var Q0=Array.isArray;function X0(a,u){return Q0(u)?a.apply(void 0,ju([],xi(u))):a(u)}function hm(a){return $c(function(u){return X0(a,u)})}var Z0=Array.isArray,J0=Object.getPrototypeOf,$0=Object.prototype,I0=Object.keys;function P0(a){if(a.length===1){var u=a[0];if(Z0(u))return{args:u,keys:null};if(W0(u)){var i=I0(u);return{args:i.map(function(l){return u[l]}),keys:i}}}return{args:a,keys:null}}function W0(a){return a&&typeof a=="object"&&J0(a)===$0}function F0(a,u){return a.reduce(function(i,l,f){return i[l]=u[f],i},{})}function Hc(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var i=Md(a),l=D0(a),f=P0(a),h=f.args,m=f.keys;if(h.length===0)return wr([],i);var g=new Vt(e_(h,i,m?function(S){return F0(m,S)}:Jc));return l?g.pipe(hm(l)):g}function e_(a,u,i){return i===void 0&&(i=Jc),function(l){up(u,function(){for(var f=a.length,h=new Array(f),m=f,g=f,S=function(v){up(u,function(){var O=wr(a[v],u),A=!1;O.subscribe(Cu(l,function(j){h[v]=j,A||(A=!0,g--),g||l.next(i(h.slice()))},function(){--m||l.complete()}))},l)},b=0;b<f;b++)S(b)},l)}}function up(a,u,i){a?Ia(i,a,u):u()}function t_(a,u,i,l,f,h,m,g){var S=[],b=0,v=0,O=!1,A=function(){O&&!S.length&&!b&&u.complete()},j=function(I){return b<l?q(I):S.push(I)},q=function(I){b++;var ne=!1;la(i(I,v++)).subscribe(Cu(u,function(se){u.next(se)},function(){ne=!0},void 0,function(){if(ne)try{b--;for(var se=function(){var pe=S.shift();m||q(pe)};S.length&&b<l;)se();A()}catch(pe){u.error(pe)}}))};return a.subscribe(Cu(u,j,function(){O=!0,A()})),function(){}}function Nd(a,u,i){return i===void 0&&(i=1/0),yt(u)?Nd(function(l,f){return $c(function(h,m){return u(l,h,f,m)})(la(a(l,f)))},i):(typeof u=="number"&&(i=u),Nu(function(l,f){return t_(l,f,a,i)}))}function n_(a){return a===void 0&&(a=1/0),Nd(Jc,a)}var r_=["addListener","removeListener"],a_=["addEventListener","removeEventListener"],i_=["on","off"];function _r(a,u,i,l){if(yt(i)&&(l=i,i=void 0),l)return _r(a,u,i).pipe(hm(l));var f=xi(o_(a)?a_.map(function(g){return function(S){return a[g](u,S,i)}}):u_(a)?r_.map(lp(a,u)):l_(a)?i_.map(lp(a,u)):[],2),h=f[0],m=f[1];if(!h&&kd(a))return Nd(function(g){return _r(g,u,i)})(la(a));if(!h)throw new TypeError("Invalid event target");return new Vt(function(g){var S=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];return g.next(1<b.length?b:b[0])};return h(S),function(){return m(S)}})}function lp(a,u){return function(i){return function(l){return a[i](u,l)}}}function u_(a){return yt(a.addListener)&&yt(a.removeListener)}function l_(a){return yt(a.on)&&yt(a.off)}function o_(a){return yt(a.addEventListener)&&yt(a.removeEventListener)}function c_(a,u,i){return i===void 0&&(i=O0),new Vt(function(l){var f=V0(a)?+a-i.now():a;f<0&&(f=0);var h=0;return i.schedule(function(){l.closed||(l.next(h++),l.complete())},f)})}function ym(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var i=Md(a),l=j0(a,1/0),f=a;return f.length?f.length===1?la(f[0]):n_(l)(wr(f,i)):A0}function s_(a,u){return Nu(function(i,l){var f=0;i.subscribe(Cu(l,function(h){return a.call(u,h,f++)&&l.next(h)}))})}function f_(a){a===void 0&&(a={});var u=a.connector,i=u===void 0?function(){return new uo}:u,l=a.resetOnError,f=l===void 0?!0:l,h=a.resetOnComplete,m=h===void 0?!0:h,g=a.resetOnRefCountZero,S=g===void 0?!0:g;return function(b){var v,O,A,j=0,q=!1,I=!1,ne=function(){O?.unsubscribe(),O=void 0},se=function(){ne(),v=A=void 0,q=I=!1},pe=function(){var ee=v;se(),ee?.unsubscribe()};return Nu(function(ee,me){j++,!I&&!q&&ne();var xe=A=A??i();me.add(function(){j--,j===0&&!I&&!q&&(O=Wf(pe,S))}),xe.subscribe(me),!v&&j>0&&(v=new Ru({next:function(oe){return xe.next(oe)},error:function(oe){I=!0,ne(),O=Wf(se,f,oe),xe.error(oe)},complete:function(){q=!0,ne(),O=Wf(se,m),xe.complete()}}),la(ee).subscribe(v))})(b)}}function Wf(a,u){for(var i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];if(u===!0){a();return}if(u!==!1){var f=new Ru({next:function(){f.unsubscribe(),a()}});return la(u.apply(void 0,ju([],xi(i)))).subscribe(f)}}var od=function(a,u){return od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(i[f]=l[f])},od(a,u)};function zu(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function i(){this.constructor=a}od(a,u),a.prototype=u===null?Object.create(u):(i.prototype=u.prototype,new i)}function Le(a,u,i,l){return new(i||(i=Promise))(function(f,h){function m(b){try{S(l.next(b))}catch(v){h(v)}}function g(b){try{S(l.throw(b))}catch(v){h(v)}}function S(b){var v;b.done?f(b.value):(v=b.value,v instanceof i?v:new i(function(O){O(v)})).then(m,g)}S((l=l.apply(a,[])).next())})}function vm(a,u){var i,l,f,h,m={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(S){return function(b){return function(v){if(i)throw new TypeError("Generator is already executing.");for(;m;)try{if(i=1,l&&(f=2&v[0]?l.return:v[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,v[1])).done)return f;switch(l=0,f&&(v=[2&v[0],f.value]),v[0]){case 0:case 1:f=v;break;case 4:return m.label++,{value:v[1],done:!1};case 5:m.label++,l=v[1],v=[0];continue;case 7:v=m.ops.pop(),m.trys.pop();continue;default:if(f=m.trys,!((f=f.length>0&&f[f.length-1])||v[0]!==6&&v[0]!==2)){m=0;continue}if(v[0]===3&&(!f||v[1]>f[0]&&v[1]<f[3])){m.label=v[1];break}if(v[0]===6&&m.label<f[1]){m.label=f[1],f=v;break}if(f&&m.label<f[2]){m.label=f[2],m.ops.push(v);break}f[2]&&m.ops.pop(),m.trys.pop();continue}v=u.call(a,m)}catch(O){v=[6,O],l=0}finally{i=f=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([S,b])}}}function Kc(a){var u=typeof Symbol=="function"&&Symbol.iterator,i=u&&a[u],l=0;if(i)return i.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function ro(a,u){var i=typeof Symbol=="function"&&a[Symbol.iterator];if(!i)return a;var l,f,h=i.call(a),m=[];try{for(;(u===void 0||u-- >0)&&!(l=h.next()).done;)m.push(l.value)}catch(g){f={error:g}}finally{try{l&&!l.done&&(i=h.return)&&i.call(h)}finally{if(f)throw f.error}}return m}function ao(a,u,i){if(arguments.length===2)for(var l,f=0,h=u.length;f<h;f++)!l&&f in u||(l||(l=Array.prototype.slice.call(u,0,f)),l[f]=u[f]);return a.concat(l||Array.prototype.slice.call(u))}function Au(a){return this instanceof Au?(this.v=a,this):new Au(a)}function d_(a,u,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,f=i.apply(a,u||[]),h=[];return l={},m("next"),m("throw"),m("return"),l[Symbol.asyncIterator]=function(){return this},l;function m(O){f[O]&&(l[O]=function(A){return new Promise(function(j,q){h.push([O,A,j,q])>1||g(O,A)})})}function g(O,A){try{(function(j){j.value instanceof Au?Promise.resolve(j.value.v).then(S,b):v(h[0][2],j)})(f[O](A))}catch(j){v(h[0][3],j)}}function S(O){g("next",O)}function b(O){g("throw",O)}function v(O,A){O(A),h.shift(),h.length&&g(h[0][0],h[0][1])}}function h_(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=a[Symbol.asyncIterator];return i?i.call(a):(a=Kc(a),u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u);function l(f){u[f]=a[f]&&function(h){return new Promise(function(m,g){(function(S,b,v,O){Promise.resolve(O).then(function(A){S({value:A,done:v})},b)})(m,g,(h=a[f](h)).done,h.value)})}}}function pm(a){if(!a)throw new Error("Assertion Failed")}const y_={}.hasOwnProperty;function Lc(a,u,i){if(a&&u!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(a)))if(typeof u!="string"&&"length"in u){pm(typeof i!="string"&&"length"in i);for(var l=0,f=u.length;l<f;++l)Lc(a,u[l],i[l])}else{var h=u.indexOf(".");if(h!==-1){var m=u.substr(0,h),g=u.substr(h+1);if(g==="")i===void 0?Array.isArray(a)?isNaN(parseInt(m))||a.splice(parseInt(m),1):delete a[m]:a[m]=i;else{var S=a[m];S&&function(b,v){return y_.call(b,v)}(a,m)||(S=a[m]={}),Lc(S,g,i)}}else i===void 0?Array.isArray(a)&&!isNaN(parseInt(u))?a.splice(u,1):delete a[u]:a[u]=i}}const mm=typeof self<"u"&&typeof crypto<"u"?(a,u=crypto.getRandomValues.bind(crypto))=>{const i=new Uint8Array(a);return u(i),self.btoa(String.fromCharCode.apply(null,i))}:typeof Buffer<"u"?(a,u=v_)=>{const i=Buffer.alloc(a);return u(i),i.toString("base64")}:()=>{throw new Error("No implementation of randomString was found")};function v_(a){for(let u=0;u<a.length;++u)a[u]=Math.floor(256*Math.random())}function zd(a){return typeof a=="string"||!!(Array.isArray(a)&&a.some(u=>zd(u))&&a.every(bm))}function bm(a){return typeof a=="string"||typeof a=="number"||Array.isArray(a)&&a.every(bm)}function p_(a,u,i){const l=a[u]||(a[u]={}),f=i.keys.map(h=>typeof h=="string"?h:JSON.stringify(h));switch(i.type){case"insert":case"upsert":f.forEach((h,m)=>{l[h]={type:"ups",val:i.values[m]}});break;case"update":case"modify":f.forEach((h,m)=>{const g=i.type==="update"?i.changeSpecs[m]:i.changeSpec,S=l[h];if(S)switch(S.type){case"ups":for(const[b,v]of Object.entries(g))Lc(S.val,b,v);break;case"del":break;case"upd":Object.assign(S.mod,g)}else l[h]={type:"upd",mod:g}});break;case"delete":f.forEach(h=>{l[h]={type:"del"}})}return a}function op(a,u){for(const{table:i,muts:l}of u)for(const f of l)p_(a,i,f)}function qt(a){return typeof a=="function"}function Un(a){return function(u){if(function(i){return qt(i?.lift)}(u))return u.lift(function(i){try{return a(i,this)}catch(l){this.error(l)}});throw new TypeError("Unable to lift unknown Observable type")}}var gm=function(a){return a&&typeof a.length=="number"&&typeof a!="function"};function _m(a){return qt(a?.then)}var cp,Oc,Ff=(cp=function(a){return function(u){a(this),this.message=u?u.length+` errors occurred during unsubscription:
`+u.map(function(i,l){return l+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=u}},(Oc=cp(function(a){Error.call(a),a.stack=new Error().stack})).prototype=Object.create(Error.prototype),Oc.prototype.constructor=Oc,Oc);function cd(a,u){if(a){var i=a.indexOf(u);0<=i&&a.splice(i,1)}}var Ic=function(){function a(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}var u;return a.prototype.unsubscribe=function(){var i,l,f,h,m;if(!this.closed){this.closed=!0;var g=this._parentage;if(g)if(this._parentage=null,Array.isArray(g))try{for(var S=Kc(g),b=S.next();!b.done;b=S.next())b.value.remove(this)}catch(I){i={error:I}}finally{try{b&&!b.done&&(l=S.return)&&l.call(S)}finally{if(i)throw i.error}}else g.remove(this);var v=this.initialTeardown;if(qt(v))try{v()}catch(I){m=I instanceof Ff?I.errors:[I]}var O=this._finalizers;if(O){this._finalizers=null;try{for(var A=Kc(O),j=A.next();!j.done;j=A.next()){var q=j.value;try{sp(q)}catch(I){m=m??[],I instanceof Ff?m=ao(ao([],ro(m)),ro(I.errors)):m.push(I)}}}catch(I){f={error:I}}finally{try{j&&!j.done&&(h=A.return)&&h.call(A)}finally{if(f)throw f.error}}}if(m)throw new Ff(m)}},a.prototype.add=function(i){var l;if(i&&i!==this)if(this.closed)sp(i);else{if(i instanceof a){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(l=this._finalizers)!==null&&l!==void 0?l:[]).push(i)}},a.prototype._hasParent=function(i){var l=this._parentage;return l===i||Array.isArray(l)&&l.includes(i)},a.prototype._addParent=function(i){var l=this._parentage;this._parentage=Array.isArray(l)?(l.push(i),l):l?[l,i]:i},a.prototype._removeParent=function(i){var l=this._parentage;l===i?this._parentage=null:Array.isArray(l)&&cd(l,i)},a.prototype.remove=function(i){var l=this._finalizers;l&&cd(l,i),i instanceof a&&i._removeParent(this)},a.EMPTY=((u=new a).closed=!0,u),a}();function Sm(a){return a instanceof Ic||a&&"closed"in a&&qt(a.remove)&&qt(a.add)&&qt(a.unsubscribe)}function sp(a){qt(a)?a():a.unsubscribe()}Ic.EMPTY;var m_={Promise:void 0},b_={setTimeout:function(a,u){for(var i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];return setTimeout.apply(void 0,ao([a,u],ro(i)))},clearTimeout:function(a){return clearTimeout(a)},delegate:void 0};function wm(a){b_.setTimeout(function(){throw a})}function sd(){}var Bd=function(a){function u(i){var l=a.call(this)||this;return l.isStopped=!1,i?(l.destination=i,Sm(i)&&i.add(l)):l.destination=__,l}return zu(u,a),u.create=function(i,l,f){return new fd(i,l,f)},u.prototype.next=function(i){this.isStopped||this._next(i)},u.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},u.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},u.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this),this.destination=null)},u.prototype._next=function(i){this.destination.next(i)},u.prototype._error=function(i){try{this.destination.error(i)}finally{this.unsubscribe()}},u.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},u}(Ic),g_=function(){function a(u){this.partialObserver=u}return a.prototype.next=function(u){var i=this.partialObserver;if(i.next)try{i.next(u)}catch(l){Ac(l)}},a.prototype.error=function(u){var i=this.partialObserver;if(i.error)try{i.error(u)}catch(l){Ac(l)}else Ac(u)},a.prototype.complete=function(){var u=this.partialObserver;if(u.complete)try{u.complete()}catch(i){Ac(i)}},a}(),fd=function(a){function u(i,l,f){var h,m=a.call(this)||this;return qt(i)||!i?h={next:i??void 0,error:l??void 0,complete:f??void 0}:h=i,m.destination=new g_(h),m}return zu(u,a),u}(Bd);function Ac(a){wm(a)}var __={closed:!0,next:sd,error:function(a){throw a},complete:sd},qd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pc(a){return a}var er=function(){function a(u){u&&(this._subscribe=u)}return a.prototype.lift=function(u){var i=new a;return i.source=this,i.operator=u,i},a.prototype.subscribe=function(u,i,l){var f,h=this,m=(f=u)&&f instanceof Bd||function(g){return g&&qt(g.next)&&qt(g.error)&&qt(g.complete)}(f)&&Sm(f)?u:new fd(u,i,l);return function(){var g=h,S=g.operator,b=g.source;m.add(S?S.call(m,b):b?h._subscribe(m):h._trySubscribe(m))}(),m},a.prototype._trySubscribe=function(u){try{return this._subscribe(u)}catch(i){u.error(i)}},a.prototype.forEach=function(u,i){var l=this;return new(i=fp(i))(function(f,h){var m=new fd({next:function(g){try{u(g)}catch(S){h(S),m.unsubscribe()}},error:h,complete:f});l.subscribe(m)})},a.prototype._subscribe=function(u){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(u)},a.prototype[qd]=function(){return this},a.prototype.pipe=function(){for(var u,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return((u=i).length===0?Pc:u.length===1?u[0]:function(f){return u.reduce(function(h,m){return m(h)},f)})(this)},a.prototype.toPromise=function(u){var i=this;return new(u=fp(u))(function(l,f){var h;i.subscribe(function(m){return h=m},function(m){return f(m)},function(){return l(h)})})},a.create=function(u){return new a(u)},a}();function fp(a){var u;return(u=a??m_.Promise)!==null&&u!==void 0?u:Promise}function Em(a){return qt(a[qd])}function xm(a){return Symbol.asyncIterator&&qt(a?.[Symbol.asyncIterator])}function Om(a){return new TypeError("You provided "+(a!==null&&typeof a=="object"?"an invalid object":"'"+a+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Am=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator";function Tm(a){return qt(a?.[Am])}function Dm(a){return d_(this,arguments,function(){var u,i,l;return vm(this,function(f){switch(f.label){case 0:u=a.getReader(),f.label=1;case 1:f.trys.push([1,,9,10]),f.label=2;case 2:return[4,Au(u.read())];case 3:return i=f.sent(),l=i.value,i.done?[4,Au(void 0)]:[3,5];case 4:return[2,f.sent()];case 5:return[4,Au(l)];case 6:return[4,f.sent()];case 7:return f.sent(),[3,2];case 8:return[3,10];case 9:return u.releaseLock(),[7];case 10:return[2]}})})}function jm(a){return qt(a?.getReader)}function Oi(a){if(a instanceof er)return a;if(a!=null){if(Em(a))return f=a,new er(function(h){var m=f[qd]();if(qt(m.subscribe))return m.subscribe(h);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(gm(a))return l=a,new er(function(h){for(var m=0;m<l.length&&!h.closed;m++)h.next(l[m]);h.complete()});if(_m(a))return i=a,new er(function(h){i.then(function(m){h.closed||(h.next(m),h.complete())},function(m){return h.error(m)}).then(null,wm)});if(xm(a))return dp(a);if(Tm(a))return u=a,new er(function(h){var m,g;try{for(var S=Kc(u),b=S.next();!b.done;b=S.next()){var v=b.value;if(h.next(v),h.closed)return}}catch(O){m={error:O}}finally{try{b&&!b.done&&(g=S.return)&&g.call(S)}finally{if(m)throw m.error}}h.complete()});if(jm(a))return dp(Dm(a))}var u,i,l,f;throw Om(a)}function dp(a){return new er(function(u){(function(i,l){var f,h,m,g;return Le(this,void 0,void 0,function(){var S,b;return vm(this,function(v){switch(v.label){case 0:v.trys.push([0,5,6,11]),f=h_(i),v.label=1;case 1:return[4,f.next()];case 2:if((h=v.sent()).done)return[3,4];if(S=h.value,l.next(S),l.closed)return[2];v.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return b=v.sent(),m={error:b},[3,11];case 6:return v.trys.push([6,,9,10]),h&&!h.done&&(g=f.return)?[4,g.call(f)]:[3,8];case 7:v.sent(),v.label=8;case 8:return[3,10];case 9:if(m)throw m.error;return[7];case 10:return[7];case 11:return l.complete(),[2]}})})})(a,u).catch(function(i){return u.error(i)})})}function Cn(a,u,i,l,f){return new S_(a,u,i,l,f)}var S_=function(a){function u(i,l,f,h,m,g){var S=a.call(this,i)||this;return S.onFinalize=m,S.shouldUnsubscribe=g,S._next=l?function(b){try{l(b)}catch(v){i.error(v)}}:a.prototype._next,S._error=h?function(b){try{h(b)}catch(v){i.error(v)}finally{this.unsubscribe()}}:a.prototype._error,S._complete=f?function(){try{f()}catch(b){i.error(b)}finally{this.unsubscribe()}}:a.prototype._complete,S}return zu(u,a),u.prototype.unsubscribe=function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var l=this.closed;a.prototype.unsubscribe.call(this),!l&&((i=this.onFinalize)===null||i===void 0||i.call(this))}},u}(Bd),w_=function(a){function u(i,l){return a.call(this)||this}return zu(u,a),u.prototype.schedule=function(i,l){return this},u}(Ic),dd={setInterval:function(a,u){for(var i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];var f=dd.delegate;return f?.setInterval?f.setInterval.apply(f,ao([a,u],ro(i))):setInterval.apply(void 0,ao([a,u],ro(i)))},clearInterval:function(a){return clearInterval(a)},delegate:void 0},E_=function(a){function u(i,l){var f=a.call(this,i,l)||this;return f.scheduler=i,f.work=l,f.pending=!1,f}return zu(u,a),u.prototype.schedule=function(i,l){if(l===void 0&&(l=0),this.closed)return this;this.state=i;var f=this.id,h=this.scheduler;return f!=null&&(this.id=this.recycleAsyncId(h,f,l)),this.pending=!0,this.delay=l,this.id=this.id||this.requestAsyncId(h,this.id,l),this},u.prototype.requestAsyncId=function(i,l,f){return f===void 0&&(f=0),dd.setInterval(i.flush.bind(i,this),f)},u.prototype.recycleAsyncId=function(i,l,f){if(f===void 0&&(f=0),f!=null&&this.delay===f&&this.pending===!1)return l;dd.clearInterval(l)},u.prototype.execute=function(i,l){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var f=this._execute(i,l);if(f)return f;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},u.prototype._execute=function(i,l){var f,h=!1;try{this.work(i)}catch(m){h=!0,f=m||new Error("Scheduled action threw falsy error")}if(h)return this.unsubscribe(),f},u.prototype.unsubscribe=function(){if(!this.closed){var i=this.id,l=this.scheduler,f=l.actions;this.work=this.state=this.scheduler=null,this.pending=!1,cd(f,this),i!=null&&(this.id=this.recycleAsyncId(l,i,null)),this.delay=null,a.prototype.unsubscribe.call(this)}},u}(w_),x_={now:function(){return Date.now()}},hp=function(){function a(u,i){i===void 0&&(i=a.now),this.schedulerActionCtor=u,this.now=i}return a.prototype.schedule=function(u,i,l){return i===void 0&&(i=0),new this.schedulerActionCtor(this,u).schedule(l,i)},a.now=x_.now,a}(),Hd=new(function(a){function u(i,l){l===void 0&&(l=hp.now);var f=a.call(this,i,l)||this;return f.actions=[],f._active=!1,f._scheduled=void 0,f}return zu(u,a),u.prototype.flush=function(i){var l=this.actions;if(this._active)l.push(i);else{var f;this._active=!0;do if(f=i.execute(i.state,i.delay))break;while(i=l.shift());if(this._active=!1,f){for(;i=l.shift();)i.unsubscribe();throw f}}},u}(hp))(E_),O_=Hd;function Rm(a){return a&&qt(a.schedule)}function A_(a,u,i){a===void 0&&(a=0),i===void 0&&(i=O_);var l=-1;return u!=null&&(Rm(u)?i=u:l=u),new er(function(f){var h,m=(h=a)instanceof Date&&!isNaN(h)?+a-i.now():a;m<0&&(m=0);var g=0;return i.schedule(function(){f.closed||(f.next(g++),0<=l?this.schedule(void 0,l):f.complete())},m)})}function Cm(a){return Rm((u=a)[u.length-1])?a.pop():void 0;var u}function Pa(a,u,i,l,f){l===void 0&&(l=0),f===void 0&&(f=!1);var h=u.schedule(function(){i(),f?a.add(this.schedule(null,l)):this.unsubscribe()},l);if(a.add(h),!f)return h}function hd(a){return Un(function(u,i){var l,f=null,h=!1;f=u.subscribe(Cn(i,void 0,void 0,function(m){l=Oi(a(m,hd(a)(u))),f?(f.unsubscribe(),f=null,l.subscribe(i)):h=!0})),h&&(f.unsubscribe(),f=null,l.subscribe(i))})}function yp(a,u){return u===void 0&&(u=0),Un(function(i,l){i.subscribe(Cn(l,function(f){return Pa(l,a,function(){return l.next(f)},u)},function(){return Pa(l,a,function(){return l.complete()},u)},function(f){return Pa(l,a,function(){return l.error(f)},u)}))})}function vp(a,u){return u===void 0&&(u=0),Un(function(i,l){l.add(a.schedule(function(){return i.subscribe(l)},u))})}function pp(a,u){if(!a)throw new Error("Iterable cannot be null");return new er(function(i){Pa(i,u,function(){var l=a[Symbol.asyncIterator]();Pa(i,u,function(){l.next().then(function(f){f.done?i.complete():i.next(f.value)})},0,!0)})})}function T_(a,u){if(a!=null){if(Em(a))return function(i,l){return Oi(i).pipe(vp(l),yp(l))}(a,u);if(gm(a))return function(i,l){return new er(function(f){var h=0;return l.schedule(function(){h===i.length?f.complete():(f.next(i[h++]),f.closed||this.schedule())})})}(a,u);if(_m(a))return function(i,l){return Oi(i).pipe(vp(l),yp(l))}(a,u);if(xm(a))return pp(a,u);if(Tm(a))return function(i,l){return new er(function(f){var h;return Pa(f,l,function(){h=i[Am](),Pa(f,l,function(){var m,g,S;try{g=(m=h.next()).value,S=m.done}catch(b){return void f.error(b)}S?f.complete():f.next(g)},0,!0)}),function(){return qt(h?.return)&&h.return()}})}(a,u);if(jm(a))return function(i,l){return pp(Dm(i),l)}(a,u)}throw Om(a)}function Sr(a,u){return Un(function(i,l){var f=0;i.subscribe(Cn(l,function(h){l.next(a.call(u,h,f++))}))})}function Kd(a,u,i){return i===void 0&&(i=1/0),qt(u)?Kd(function(l,f){return Sr(function(h,m){return u(l,h,f,m)})(Oi(a(l,f)))},i):(typeof u=="number"&&(i=u),Un(function(l,f){return function(h,m,g,S,b,v,O,A){var j=[],q=0,I=0,ne=!1,se=function(){!ne||j.length||q||m.complete()},pe=function(me){return q<S?ee(me):j.push(me)},ee=function(me){v&&m.next(me),q++;var xe=!1;Oi(g(me,I++)).subscribe(Cn(m,function(oe){b?.(oe),v?pe(oe):m.next(oe)},function(){xe=!0},void 0,function(){if(xe)try{q--;for(var oe=function(){var we=j.shift();O?Pa(m,O,function(){return ee(we)}):ee(we)};j.length&&q<S;)oe();se()}catch(we){m.error(we)}}))};return h.subscribe(Cn(m,pe,function(){ne=!0,se()})),function(){A?.()}}(l,f,a,i)}))}function D_(){return(a=1)===void 0&&(a=1/0),Kd(Pc,a);var a}function mp(a,u){return u===void 0&&(u=Hd),Un(function(i,l){var f=null,h=null,m=null,g=function(){if(f){f.unsubscribe(),f=null;var b=h;h=null,l.next(b)}};function S(){var b=m+a,v=u.now();if(v<b)return f=this.schedule(void 0,b-v),void l.add(f);g()}i.subscribe(Cn(l,function(b){h=b,m=u.now(),f||(f=u.schedule(S,a),l.add(f))},function(){g(),l.complete()},void 0,function(){h=f=null}))})}function yd(){for(var a,u,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return D_()((a=i,(u=Cm(i))?T_(a,u):Oi(a)))}var j_=new er(function(a){return a.complete()});function wu(a){return a<=0?function(){return j_}:Un(function(u,i){var l=0;u.subscribe(Cn(i,function(f){++l<=a&&(i.next(f),a<=l&&i.complete())}))})}function Um(a,u){return u?function(i){return yd(u.pipe(wu(1),Un(function(l,f){l.subscribe(Cn(f,sd))})),i.pipe(Um(a)))}:Kd(function(i,l){return a(i,l).pipe(wu(1),function(f){return Sr(function(){return f})}(i))})}function Mm(a,u){u===void 0&&(u=Hd);var i=A_(a,u);return Um(function(){return i})}function km(a,u){return u===void 0&&(u=Pc),a=a??R_,Un(function(i,l){var f,h=!0;i.subscribe(Cn(l,function(m){var g=u(m);!h&&a(f,g)||(h=!1,f=g,l.next(m))}))})}function R_(a,u){return a===u}function gr(a,u){return Un(function(i,l){var f=0;i.subscribe(Cn(l,function(h){return a.call(u,h,f++)&&l.next(h)}))})}function bp(a){return gr(function(u,i){return a<=i})}function C_(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var i=Cm(a);return Un(function(l,f){(i?yd(a,l,i):yd(a,l)).subscribe(f)})}function pn(a,u){return Un(function(i,l){var f=null,h=0,m=!1,g=function(){return m&&!f&&l.complete()};i.subscribe(Cn(l,function(S){f?.unsubscribe();var b=0,v=h++;Oi(a(S,v)).subscribe(f=Cn(l,function(O){return l.next(u?u(S,O,v,b++):O)},function(){f=null,g()}))},function(){m=!0,g()}))})}function gp(a,u,i){var l=qt(a)||u||i?{next:a,error:u,complete:i}:a;return l?Un(function(f,h){var m;(m=l.subscribe)===null||m===void 0||m.call(l);var g=!0;f.subscribe(Cn(h,function(S){var b;(b=l.next)===null||b===void 0||b.call(l,S),h.next(S)},function(){var S;g=!1,(S=l.complete)===null||S===void 0||S.call(l),h.complete()},function(S){var b;g=!1,(b=l.error)===null||b===void 0||b.call(l,S),h.error(S)},function(){var S,b;g&&((S=l.unsubscribe)===null||S===void 0||S.call(l)),(b=l.finalize)===null||b===void 0||b.call(l)}))}):Pc}function Nm(a,u){return Le(this,void 0,void 0,function*(){try{const i=yield navigator.serviceWorker.ready;if(u==="push"&&i.sync&&(yield i.sync.register(`dexie-cloud:${a.name}`)),!i.active)throw new Error("Failed to trigger sync - there's no active service worker");return void i.active.postMessage({type:"dexie-cloud-sync",dbName:a.name,purpose:u})}catch{}})}function aa(a,u){a.cloud.usingServiceWorker?Nm(a,u):a.localSyncEvent.next({purpose:u})}const zm=typeof Buffer<"u"?a=>Buffer.from(a,"base64"):a=>{const u=atob(a),i=u.length,l=new Uint8Array(i);for(var f=0;f<i;f++)l[f]=u.charCodeAt(f);return l},lo=typeof Buffer<"u"?a=>ArrayBuffer.isView(a)?Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("base64"):Buffer.from(a).toString("base64"):a=>{const u=ArrayBuffer.isView(a)?a:new Uint8Array(a),i=[];for(let l=0,f=u.length;l<f;l+=4096){const h=u.subarray(l,l+4096);i.push(String.fromCharCode.apply(null,h))}return btoa(i.join(""))};class vd extends Error{constructor({title:u,message:i,messageCode:l,messageParams:f}){super(i),this.name="TokenErrorResponseError",this.title=u,this.messageCode=l,this.messageParams=f}}function oo(a,u){return new Promise((i,l)=>{const f=Object.assign(Object.assign({submitLabel:"Submit",cancelLabel:"Cancel"},u),{onSubmit:h=>{a.next(void 0),i(h)},onCancel:()=>{a.next(void 0),l(new At.AbortError("User cancelled"))}});a.next(f)})}function pd(a,u,...i){return oo(a,{type:"message-alert",title:u,alerts:i,fields:{},submitLabel:"OK",cancelLabel:null})}function _p(a,u,i){return Le(this,void 0,void 0,function*(){let l=i||"";for(;!l||!/^[\w-+.]+@([\w-]+\.)+[\w-]{2,10}(\sas\s[\w-+.]+@([\w-]+\.)+[\w-]{2,10})?$/.test(l);)l=(yield oo(a,{type:"email",title:u,alerts:l?[{type:"error",messageCode:"INVALID_EMAIL",message:"Please enter a valid email address",messageParams:{}}]:[],fields:{email:{type:"email",placeholder:"you@somedomain.com"}}})).email;return l})}function Sp(a,u,i){return Le(this,void 0,void 0,function*(){const l=[{type:"info",messageCode:"OTP_SENT",message:"A One-Time password has been sent to {email}",messageParams:{email:u}}];i&&l.push(i);const{otp:f}=yield oo(a,{type:"otp",title:"Enter OTP",alerts:l,fields:{otp:{type:"otp",label:"OTP",placeholder:"Paste OTP here"}}});return f})}function Ld(a){var u,i,l;return Le(this,void 0,void 0,function*(){const f=yield a.getCurrentUser(),{accessToken:h,accessTokenExpiration:m,refreshToken:g,refreshTokenExpiration:S,claims:b}=f;if(!h)return null;if(((u=m?.getTime())!==null&&u!==void 0?u:1/0)>Date.now()&&(((i=f.license)===null||i===void 0?void 0:i.status)||"ok")==="ok")return f;if(!g)throw new Error("Refresh token missing");if(((l=S?.getTime())!==null&&l!==void 0?l:1/0)<=Date.now())throw new Error("Refresh token has expired");const v=yield Wc(a.cloud.options.databaseUrl,f);return yield a.table("$logins").update(b.sub,{accessToken:v.accessToken,accessTokenExpiration:v.accessTokenExpiration,claims:v.claims,license:v.license}),v})}function U_(a,u,i,l,f){return Le(this,void 0,void 0,function*(){return u.accessToken&&u.accessTokenExpiration.getTime()>Date.now()?u:u.refreshToken&&(!u.refreshTokenExpiration||u.refreshTokenExpiration.getTime()>Date.now())?yield Wc(a,u):yield function(h,m,g,S){return Le(this,void 0,void 0,function*(){if(!crypto.subtle)throw typeof location<"u"&&location.protocol==="http:"?new Error("Dexie Cloud Addon needs to use WebCrypto, but your browser has disabled it due to being served from an insecure location. Please serve it from https or http://localhost:<port> (See https://stackoverflow.com/questions/46670556/how-to-enable-crypto-subtle-for-unsecure-origins-in-chrome/46671627#46671627)"):new Error("This browser does not support WebCrypto.");const{privateKey:b,publicKey:v}=yield crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]);if(!b||!v)throw new Error("Could not generate RSA keypair");h.nonExportablePrivateKey=b;const O=function(A){const j=lo(A);return function(q){let I=`-----BEGIN PUBLIC KEY-----
`;for(;q.length>0;)I+=q.substring(0,64)+`
`,q=q.substring(64);return I+="-----END PUBLIC KEY-----",I}(j)}(yield crypto.subtle.exportKey("spki",v));h.publicKey=v;try{const A=yield m({public_key:O,hints:S});if(A.type==="error")throw new vd(A);if(A.type!=="tokens")throw new Error(`Unexpected response type from token endpoint: ${A.type}`);return h.accessToken=A.accessToken,h.accessTokenExpiration=new Date(A.accessTokenExpiration),h.refreshToken=A.refreshToken,A.refreshTokenExpiration&&(h.refreshTokenExpiration=new Date(A.refreshTokenExpiration)),h.userId=A.claims.sub,h.email=A.claims.email,h.name=A.claims.name,h.claims=A.claims,h.license={type:A.userType,status:A.claims.license||"ok"},h.data=A.data,A.evalDaysLeft!=null&&(h.license.evalDaysLeft=A.evalDaysLeft),A.userValidUntil!=null&&(h.license.validUntil=new Date(A.userValidUntil)),A.alerts&&A.alerts.length>0&&(yield oo(g,{type:"message-alert",title:"Authentication Alert",fields:{},alerts:A.alerts})),h}catch(A){if(A instanceof vd)throw yield pd(g,A.title,{type:"error",messageCode:A.messageCode,message:A.message,messageParams:{}}),A;let j="We're having a problem authenticating right now.";throw A instanceof TypeError&&(j=typeof navigator!==void 0&&!navigator.onLine?"You seem to be offline. Please connect to the internet and try again.":At.debug||typeof location<"u"&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")?`Could not connect to server. Please verify that your origin '${location.origin}' is whitelisted using \`npx dexie-cloud whitelist\``:"Could not connect to server. Please verify the connection.",yield pd(g,"Authentication Failed",{type:"error",messageCode:"GENERIC_ERROR",message:j,messageParams:{}}).catch(()=>{})),A}})}(u,i,l,f)})}function Wc(a,u){return Le(this,void 0,void 0,function*(){if(!u.refreshToken)throw new Error("Cannot refresh token - refresh token is missing.");if(!u.nonExportablePrivateKey)throw new Error("login.nonExportablePrivateKey is missing - cannot sign refresh token without a private key.");const i=Date.now(),l="RSASSA-PKCS1-v1_5",f=new TextEncoder().encode(u.refreshToken+i),h=yield crypto.subtle.sign(l,u.nonExportablePrivateKey,f),m=lo(h),g={grant_type:"refresh_token",refresh_token:u.refreshToken,scopes:["ACCESS_DB"],signature:m,signing_algorithm:l,time_stamp:i},S=yield fetch(`${a}/token`,{body:JSON.stringify(g),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});if(S.status!==200)throw new Error(`RefreshToken: Status ${S.status} from ${a}/token`);const b=yield S.json();if(b.type==="error")throw new vd(b);return u.accessToken=b.accessToken,u.accessTokenExpiration=b.accessTokenExpiration?new Date(b.accessTokenExpiration):void 0,u.claims=b.claims,u.license={type:b.userType,status:b.claims.license||"ok"},b.evalDaysLeft!=null&&(u.license.evalDaysLeft=b.evalDaysLeft),b.userValidUntil!=null&&(u.license.validUntil=new Date(b.userValidUntil)),b.data&&(u.data=b.data),u})}const wp=new WeakMap;class Yd{constructor(u,i){wp.set(this,u),Object.assign(this,i)}static load(u,i){return u.table("$logins").get(i).then(l=>new Yd(u,l||{userId:i,claims:{sub:i},lastLogin:new Date(0)}))}save(){return Le(this,void 0,void 0,function*(){wp.get(this).table("$logins").put(this)})}}const Rn={userId:"unauthorized",name:"Unauthorized",claims:{sub:"unauthorized"},lastLogin:new Date(0)};try{Object.freeze(Rn),Object.freeze(Rn.claims)}catch{}function Bm(a,u){return Ou(wr(a).pipe(s_(u)))}function qm(a){return Le(this,void 0,void 0,function*(){const u=yield md(a);if(u){if(!(yield function(i,l,f){return Le(this,void 0,void 0,function*(){const h=[{type:"warning",messageCode:"LOGOUT_CONFIRMATION",message:`{numUnsyncedChanges} unsynced changes will get lost!
                Logout anyway?`,messageParams:{currentUserId:l,numUnsyncedChanges:f.toString()}}];return yield oo(i,{type:"logout-confirmation",title:"Confirm Logout",alerts:h,fields:{},submitLabel:"Confirm logout",cancelLabel:"Cancel"}).then(()=>!0).catch(()=>!1)})}(a.cloud.userInteraction,a.cloud.currentUserId,u)))throw new Error("User cancelled logout due to unsynced changes");yield md(a,{deleteUnsyncedData:!0})}})}function md(a,{deleteUnsyncedData:u=!1}={}){return Le(this,void 0,void 0,function*(){const[i,l]=yield a.dx.transaction("rw",a.dx.tables,f=>Le(this,void 0,void 0,function*(){const h=f.idbtrans;h.disableChangeTracking=!0,h.disableAccessControl=!0;const m=f.storeNames.filter(S=>S.endsWith("_mutations")),g=(yield Promise.all(m.map(S=>f.table(S).count()))).reduce((S,b)=>S+b,0);if(g>0&&!u)return[g,!1];a.$syncState.delete("syncState");for(const S of a.dx.tables)S.name!=="$jobs"&&S.name!=="$syncState"&&S.clear();return[g,!0]}));return l&&(yield Bm(a.cloud.currentUser,f=>f.userId===Rn.userId),yield a.cloud.sync({purpose:"pull",wait:!0})),i})}class bd extends Error{constructor(u,i){super(i||`${u.status} ${u.statusText}`),this.httpStatus=u.status}get name(){return"HttpError"}}function Tc(a,...u){globalThis.console[a](...u)}function ed(a,u){var i;return Le(this,void 0,void 0,function*(){const l=yield a.getCurrentUser(),f=l.userId;if(l.isLoggedIn&&(!u||!u.email&&!u.userId)){if((((i=l.license)===null||i===void 0?void 0:i.status)||"ok")==="ok"&&l.accessToken&&(!l.accessTokenExpiration||l.accessTokenExpiration.getTime()>Date.now()))return!1;if(l.refreshToken&&(!l.refreshTokenExpiration||l.refreshTokenExpiration.getTime()>Date.now()))return yield Ld(a),!1}const h=new Yd(a,{claims:{},lastLogin:new Date(0)});return yield U_(a.cloud.options.databaseUrl,h,a.cloud.options.fetchTokens||function(m){const{userInteraction:g}=m.cloud;return function({public_key:S,hints:b}){var v;return Le(this,void 0,void 0,function*(){let O;const A=(v=m.cloud.options)===null||v===void 0?void 0:v.databaseUrl;if(!A)throw new Error("No database URL given.");if(b?.grant_type==="demo")O={demo_user:yield _p(g,"Enter a demo user email",b?.email||b?.userId),grant_type:"demo",scopes:["ACCESS_DB"],public_key:S};else if(b?.otpId&&b.otp)O={grant_type:"otp",otp_id:b.otpId,otp:b.otp,scopes:["ACCESS_DB"],public_key:S};else{const I=yield _p(g,"Enter email address",b?.email);O=/@demo.local$/.test(I)?{demo_user:I,grant_type:"demo",scopes:["ACCESS_DB"],public_key:S}:{email:I,grant_type:"otp",scopes:["ACCESS_DB"]}}const j=yield fetch(`${A}/token`,{body:JSON.stringify(O),method:"post",headers:{"Content-Type":"application/json",mode:"cors"}});if(j.status!==200){const I=yield j.text();throw yield pd(g,"Token request failed",{type:"error",messageCode:"GENERIC_ERROR",message:I,messageParams:{}}).catch(()=>{}),new bd(j,I)}const q=yield j.json();if(q.type==="tokens"||q.type==="error")return q;if(O.grant_type==="otp"&&"email"in O){if(q.type!=="otp-sent")throw new Error(`Unexpected response from ${A}/token`);const I=yield Sp(g,O.email),ne=Object.assign(Object.assign({},O),{otp:I||"",otp_id:q.otp_id,public_key:S});let se=yield fetch(`${A}/token`,{body:JSON.stringify(ne),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});for(;se.status===401;){const pe=yield se.text();ne.otp=yield Sp(g,O.email,{type:"error",messageCode:"INVALID_OTP",message:pe,messageParams:{}}),se=yield fetch(`${A}/token`,{body:JSON.stringify(ne),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"})}if(se.status!==200){const pe=yield se.text();throw new bd(se,pe)}return yield se.json()}throw new Error(`Unexpected response from ${A}/token`)})}}(a),a.cloud.userInteraction,u),f!==Rn.userId&&h.userId!==f&&(yield qm(a)),yield function(m,g){return Le(this,void 0,void 0,function*(){if(g.userId===m.cloud.currentUserId)return;const S=m.table("$logins");yield m.transaction("rw",S,b=>Le(this,void 0,void 0,function*(){const v=yield S.toArray();yield Promise.all(v.filter(O=>O.userId!==g.userId&&O.isLoggedIn).map(O=>(O.isLoggedIn=!1,S.put(O)))),g.isLoggedIn=!0,g.lastLogin=new Date;try{yield g.save()}catch(O){try{O.name==="DataCloneError"&&(Tc("debug","Login context property names:",Object.keys(g)),Tc("debug","Login context property names:",Object.keys(g)),Tc("debug","Login context:",g),Tc("debug","Login context JSON:",JSON.stringify(g)))}catch{}throw O}})),yield Bm(m.cloud.currentUser,b=>b.userId===g.userId)})}(a,h),aa(a,"pull"),h.userId!==f})}const gd={},Fl=typeof self<"u"&&self.document&&typeof navigator<"u"&&navigator.serviceWorker;Fl&&Fl.ready.then(a=>gd.registration=a),typeof self<"u"&&"clients"in self&&!self.document&&addEventListener("message",a=>{var u,i;!((i=(u=a.data)===null||u===void 0?void 0:u.type)===null||i===void 0)&&i.startsWith("sw-broadcast-")&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(l=>{var f;return l.id!==((f=a.source)===null||f===void 0?void 0:f.id)&&l.postMessage(a.data)})});class td{constructor(u){this.name=u}subscribe(u){if(!Fl)return()=>{};const i=l=>{var f;((f=l.data)===null||f===void 0?void 0:f.type)===`sw-broadcast-${this.name}`&&u(l.data.message)};return Fl.addEventListener("message",i),()=>Fl.removeEventListener("message",i)}postMessage(u){var i;typeof self.clients=="object"?[...self.clients.matchAll({includeUncontrolled:!0})].forEach(l=>l.postMessage({type:`sw-broadcast-${this.name}`,message:u})):gd.registration&&((i=gd.registration.active)===null||i===void 0||i.postMessage({type:`sw-broadcast-${this.name}`,message:u}))}}const Il=globalThis["lbc-events"]||(globalThis["lbc-events"]=new Map);class Dc extends Vt{constructor(u){const i=typeof BroadcastChannel>"u"?new td(u):new BroadcastChannel(u);super(l=>{function f(g){l.next(g.detail)}function h(g){l.next(g.data)}let m;(function(g,S){Il.has(g)?Il.get(g).push(S):Il.set(g,[S])})(`lbc-${u}`,f);try{i instanceof td?m=i.subscribe(g=>l.next(g)):i.addEventListener("message",h)}catch{}return()=>{(function(g,S){const b=Il.get(g);if(b){const v=b.indexOf(S);v!==-1&&b.splice(v,1)}})(`lbc-${u}`,f),i instanceof td?m():i.removeEventListener("message",h)}}),this.name=u,this.bc=i}next(u){this.bc.postMessage(u),function(i){const l=Il.get(i.type);l&&l.forEach(f=>{try{f(i)}catch{}})}(new CustomEvent(`lbc-${this.name}`,{detail:u}))}}function _d({realms:a,inviteRealms:u}){return Le(this,void 0,void 0,function*(){const i=JSON.stringify([...a.map(h=>({realmId:h,accepted:!0})),...u.map(h=>({realmId:h,accepted:!1}))].sort((h,m)=>h.realmId<m.realmId?-1:h.realmId>m.realmId?1:0)),l=new TextEncoder().encode(i),f=yield crypto.subtle.digest("SHA-1",l);return lo(f)})}function kc(a){return Object.entries(a.cloud.schema||{}).filter(([,{markedForSync:u}])=>u).map(([u])=>a.tables.filter(({name:i})=>i===u)[0]).filter(u=>u)}function Gd(a){return`$${a}_mutations`}function Hm(a){var u;const i=(u=/^\$(.*)_mutations$/.exec(a))===null||u===void 0?void 0:u[1];if(!i)throw new Error(`Given mutationTable ${a} is not correct`);return i}const M_=[].concat;function Km(a){return M_.apply([],a)}function Sd(a,u,{since:i={},limit:l=1/0}={}){return Le(this,void 0,void 0,function*(){const f=Km(yield Promise.all(a.map(S=>Le(this,void 0,void 0,function*(){const b=Hm(S.name),v=i[b];let O=v?S.where("rev").above(v):S;return l<1/0&&(O=O.limit(l)),(yield O.toArray()).map(A=>({table:b,mut:A}))})))).sort((S,b)=>S.mut.txid===b.mut.txid?S.mut.opNo-b.mut.opNo:S.mut.ts-b.mut.ts),h=[];let m=null,g=null;for(const{table:S,mut:b}of f)m&&m.table===S&&g===b.txid?m.muts.push(b):(m={table:S,muts:[b]},g=b.txid,h.push(m));return h})}function Lm(a){const u=new Uint8Array(a);if(typeof crypto<"u")crypto.getRandomValues(u);else for(let i=0;i<a;i++)u[i]=Math.floor(256*Math.random());if(typeof Buffer<"u"&&Buffer.from)return Buffer.from(u).toString("base64");if(typeof btoa<"u")return btoa(String.fromCharCode.apply(null,u));throw new Error("No btoa or Buffer available")}const{toString:k_}={},Ep={replace:function(a){const u=Object.keys(a);let i=null;for(let f=0,h=u.length;f<h;++f)u[f][0]==="$"&&(i=i||[],i.push(u[f]));if(!i)return a;const l={...a};for(const f of i)delete l[f];for(const f of i)l["$"+f]=a[f];return l}};function Ym(...a){const u=a.reduce((l,f)=>({...l,...f}),a.reduce((l,f)=>({...f,...l}),{})),i=new WeakMap;return{stringify(l,f,h){return JSON.stringify(l,function(g){const S=this[g],b=function(v){const O=typeof v;switch(typeof v){case"object":case"function":{if(v===null)return null;const j=Object.getPrototypeOf(v);if(!j)return Ep;let q=i.get(j);if(q!==void 0)return q;const I=(A=v,k_.call(A).slice(8,-1)),ne=Object.entries(u).find(([se,pe])=>{var ee,me;return(me=(ee=pe?.test)===null||ee===void 0?void 0:ee.call(pe,v,I))!==null&&me!==void 0?me:se===I});return q=ne?.[1],q||(q=Array.isArray(v)?null:typeof v=="function"?u.function||null:Ep),i.set(j,q),q}default:return u[O]}var A}(S);return b?b.replace(S,f,u):S},h)},parse(l,f){const h=[];return JSON.parse(l,function(m,g){const S=g?.$t;if(S){const v=u[S];g=v?v.revive(g,f,u):g}let b=h[h.length-1];if(b&&b[0]===g){g={...g};for(const v of b[1])delete g[v];for(const[v,O]of Object.entries(b[2]))g[v]=O;h.pop()}if(g===void 0||m[0]==="$"&&m!=="$t"){let v,O;b=h[h.length-1],b&&b[0]===this?(v=b[1],O=b[2]):h.push([this,v=[],O={}]),m[0]==="$"&&m!=="$t"?(v.push(m),O[m.substr(1)]=g):O[m]=void 0}return g})}}}const N_={Blob:{test:(a,u)=>u==="Blob",replace:(a,u)=>{const i=u.length;return u.push(a),{$t:"Blob",mimeType:a.type,i}},revive:({i:a,mimeType:u},i)=>new Blob([i[a]],{type:u})}};var z_={number:{replace:a=>{switch(!0){case isNaN(a):return{$t:"number",v:"NaN"};case a===1/0:return{$t:"number",v:"Infinity"};case a===-1/0:return{$t:"number",v:"-Infinity"};default:return a}},revive:({v:a})=>Number(a)}};const B_={bigint:{replace:a=>({$t:"bigint",v:""+a}),revive:a=>BigInt(a.v)}};var q_={Date:{replace:a=>({$t:"Date",v:isNaN(a.getTime())?"NaN":a.toISOString()}),revive:({v:a})=>new Date(a==="NaN"?NaN:Date.parse(a))}},H_={Set:{replace:a=>({$t:"Set",v:Array.from(a.entries())}),revive:({v:a})=>new Set(a)}},K_={Map:{replace:a=>({$t:"Map",v:Array.from(a.entries())}),revive:({v:a})=>new Map(a)}};const L_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0;var Y_=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","DataView","BigInt64Array","BigUint64Array"].reduce((a,u)=>({...a,[u]:{replace:(i,l,f)=>({$t:u,v:f.ArrayBuffer.replace(i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength),l,f).v}),revive:({v:i},l,f)=>{const h=L_[u];return h&&new h(f.ArrayBuffer.revive({v:i},l,f))}}}),{});function Gm(a){return function(u){for(var i="",l=0,f=u.length;l<f;l++)i+=Vm[u[l]];return i}(lo(a))}function G_(a){return zm(function(u){if(typeof u!="string")throw new Error("invalid decoder input: "+u);for(var i="",l=0,f=u.length;l<f;l++)i+=wd[u[l]];return i}(a))}const wd={"-":"=",0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",A:"K",B:"L",C:"M",D:"N",E:"O",F:"P",G:"Q",H:"R",I:"S",J:"T",K:"U",L:"V",M:"W",N:"X",O:"Y",P:"Z",Q:"a",R:"b",S:"c",T:"d",U:"e",V:"f",W:"g",X:"h",Y:"i",Z:"j",_:"k",a:"l",b:"m",c:"n",d:"o",e:"p",f:"q",g:"r",h:"s",i:"t",j:"u",k:"v",l:"w",m:"x",n:"y",o:"z",p:"0",q:"1",r:"2",s:"3",t:"4",u:"5",v:"6",w:"7",x:"8",y:"9",z:"+","|":"/"},Vm={};for(const a of Object.keys(wd))Vm[wd[a]]=a;var V_={ArrayBuffer:{replace:a=>({$t:"ArrayBuffer",v:Gm(a)}),revive:({v:a})=>{const u=G_(a);return u.buffer.byteLength===u.byteLength?u.buffer:u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)}}};class nd{constructor(u,i){this.buf=u,this.type=i}}function Q_(a){const u=new XMLHttpRequest;if(u.overrideMimeType("text/plain; charset=x-user-defined"),u.open("GET",URL.createObjectURL(a),!1),u.send(),u.status!==200&&u.status!==0)throw new Error("Bad Blob access: "+u.status);return u.responseText}function X_(a){const u=new Uint8Array(a.length);for(let i=0;i<a.length;++i)u[i]=a.charCodeAt(i);return u.buffer}var Z_={Blob:{test:(a,u)=>u==="Blob"||a instanceof nd,replace:a=>({$t:"Blob",v:lo(a instanceof nd?a.buf:X_(Q_(a))),type:a.type}),revive:({type:a,v:u})=>{const i=zm(u);return typeof Blob!==void 0?new Blob([i]):new nd(i.buffer,a)}}};const Qm={...z_,...B_,...q_,...H_,...K_,...Y_,...V_,...Z_};function xp(a){return new Promise((u,i)=>{const l=new FileReader;l.onabort=f=>i(new Error("file read aborted")),l.onerror=f=>i(f.target.error),l.onload=f=>u(f.target.result),l.readAsArrayBuffer(a)})}var J_={undefined:{replace:()=>({$t:"undefined"}),revive:()=>{}}};const $_=typeof BigInt=="function"&&typeof BigInt(0)=="bigint";class Op{toString(){return this.v}constructor(u){this.v=u}}const I_=$_?{}:{bigint:{test:a=>a instanceof Op,replace:a=>Object.assign({$t:"bigint"},a),revive:({v:a})=>new Op(a)}},Xm=Object.assign(Object.assign(Object.assign({},J_),I_),{PropModification:{test:a=>a instanceof Wv,replace:a=>Object.assign({$t:"PropModification"},a["@@propmod"]),revive:a=>{var u=function(i,l){var f={};for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&l.indexOf(h)<0&&(f[h]=i[h]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(h=Object.getOwnPropertySymbols(i);m<h.length;m++)l.indexOf(h[m])<0&&Object.prototype.propertyIsEnumerable.call(i,h[m])&&(f[h[m]]=i[h[m]])}return f}(a,["$t"]);return new Wv(u)}}}),Yc=Ym(Qm,Xm),P_=function(...a){const u=Ym(Qm,N_,...a);return{toBinary(i){const[l,f]=this.stringify(i),h=new ArrayBuffer(4);return new DataView(h).setUint32(0,l.size),new Blob([h,l,f])},stringify(i){const l=[],f=u.stringify(i,l);return[new Blob(l.map(m=>{const g=new ArrayBuffer(4);return new DataView(g).setUint32(0,"byteLength"in m?m.byteLength:m.size),new Blob([g,m])})),f]},async parse(i,l){let f=0;const h=[],m=await xp(l),g=new DataView(m);for(;f<m.byteLength;){const S=g.getUint32(f);f+=4;const b=m.slice(f,f+S);f+=S,h.push(b)}return u.parse(i,h)},async fromBinary(i){const l=new DataView(await xp(i.slice(0,4))).getUint32(0),f=i.slice(4,l+4),h=await function(m){return new Promise((g,S)=>{const b=new FileReader;b.onabort=v=>S(new Error("file read aborted")),b.onerror=v=>S(v.target.error),b.onload=v=>g(v.target.result),b.readAsText(m)})}(i.slice(l+4));return await this.parse(h,f)}}}(Xm);function W_(a,u,i){const l=[];for(let f of i){const{table:h,muts:m}=f,g=a.tables.find(v=>v.name===h);if(!g)throw new Error(`Internal error: table ${h} not found in DBCore schema`);const{primaryKey:S}=g;let b=f;m.forEach((v,O)=>{const A=!S.outbound&&(v.type==="upsert"||v.type==="insert");v.keys.forEach((j,q)=>{if(Array.isArray(j)){b===f&&(b=Ap(f,A));const I=b.muts[O],ne=JSON.stringify(j);I.keys[q]=ne}else if(j[0]==="#"){b===f&&(b=Ap(f,A));const I=b.muts[O];if(!u.isLoggedIn)throw new Error("Internal error: Cannot sync private IDs before authenticated");const ne=`${j}:${u.userId}`;I.keys[q]=ne,A&&At.setByKeyPath(I.values[q],S.keyPath,ne)}})}),l.push(b)}return l}function Ap(a,u){return Object.assign(Object.assign({},a),{muts:u?a.muts.map(i=>i.type!=="insert"&&i.type!=="upsert"||!i.values?Object.assign(Object.assign({},i),{keys:i.keys.slice()}):Object.assign(Object.assign({},i),{keys:i.keys.slice(),values:i.values.slice()})):a.muts.map(i=>Object.assign(Object.assign({},i),{keys:i.keys.slice()}))})}let Ed=new WeakMap;function Zm(a){var u,i;return Le(this,void 0,void 0,function*(){const l=((i=(u=Ed.get(a))===null||u===void 0?void 0:u.getTime())!==null&&i!==void 0?i:0)-Date.now();l>0&&(yield new Promise(f=>setTimeout(f,l)))})}function F_(a,u,i,l,f,h,m,g){return Le(this,void 0,void 0,function*(){const S={Accept:"application/json, application/x-bison, application/x-bison-stream","Content-Type":"application/tson"},b=yield Ld(l),v=b?.accessToken;v&&(S.Authorization=`Bearer ${v}`);const O={v:2,dbID:u?.remoteDbId,clientIdentity:m,schema:h||{},lastPull:u?{serverRevision:u.serverRevision,realms:u.realms,inviteRealms:u.inviteRealms}:void 0,baseRevs:i,changes:W_(l.dx.core.schema,g,a)};l.syncStateChangedEvent.next({phase:"pushing"});const A=yield fetch(`${f}/sync`,{method:"post",headers:S,credentials:"include",body:Yc.stringify(O)});if(l.syncStateChangedEvent.next({phase:"pulling"}),function(j,q){const I=q.headers.get("Ratelimit-Limit"),ne=q.headers.get("Ratelimit-Remaining"),se=q.headers.get("Ratelimit-Reset");if(I&&ne&&se){const pe=Number(I),ee=Math.max(0,Number(ne)),me=Number(se);if(ee<pe/2){const xe=Math.ceil(me/(ee+1));Ed.set(j,new Date(Date.now()+1e3*xe))}else Ed.delete(j)}}(l,A),!A.ok)throw new bd(A);if(A.headers.get("content-type")==="application/x-bison")return P_.fromBinary(yield A.blob());{const j=yield A.text();return Yc.parse(j)}})}function Pl(a){if(a?.cancelled)throw new At.AbortError("Operation was cancelled")}let Tu=!1;function Jm(a,u,i,l){return Le(this,void 0,void 0,function*(){yield a.$baseRevs.bulkPut(Object.keys(u).filter(f=>u[f].markedForSync).map(f=>({tableName:f,clientRev:(i[f]||0)+1,serverRev:l}))),yield a.$baseRevs.where("tableName").noneOf(Object.keys(u).filter(f=>u[f].markedForSync)).delete()})}function xd(a,u={}){for(const{table:i,muts:l}of a){const f=l.length>0?l[l.length-1].rev:null;u[i]=f||u[i]||0}return u}function eS(a,u,i){return Le(this,void 0,void 0,function*(){const l=yield a.bulkGet(u),f=[],h=[];u.forEach((m,g)=>{const S=l[g];if(S){for(const[b,v]of Object.entries(i[g]))if(b===a.schema.primKey.keyPath){if(i0(v,m)!==0)throw new Error("Cannot change primary key")}else At.setByKeyPath(S,b,v);f.push(m),h.push(S)}}),yield a.schema.primKey.keyPath==null?a.bulkPut(h,f):a.bulkPut(h)})}function $m(a,u){return Le(this,void 0,void 0,function*(){for(const{table:i,muts:l}of a){const f=u.table(i);if(!f)continue;const{primaryKey:h}=f.core.schema,m=g=>{switch(g[0]){case"[":if(g.endsWith("]"))try{return JSON.parse(g)}catch{}return g;case"#":return g.endsWith(":"+u.cloud.currentUserId)?g.substr(0,g.length-u.cloud.currentUserId.length-1):g;default:return g}};for(const g of l){const S=g.keys.map(m);switch(g.type){case"insert":h.outbound?yield f.bulkAdd(g.values,S):(S.forEach((b,v)=>{At.setByKeyPath(g.values[v],h.keyPath,b)}),yield f.bulkAdd(g.values));break;case"upsert":h.outbound?yield f.bulkPut(g.values,S):(S.forEach((b,v)=>{At.setByKeyPath(g.values[v],h.keyPath,b)}),yield f.bulkPut(g.values));break;case"modify":S.length===1?yield f.update(S[0],g.changeSpec):yield f.where(":id").anyOf(S).modify(g.changeSpec);break;case"update":yield eS(f,S,g.changeSpecs);break;case"delete":yield f.bulkDelete(S)}}}})}typeof self<"u"&&typeof navigator<"u"&&(Tu=navigator.onLine,self.addEventListener("online",()=>Tu=!0),self.addEventListener("offline",()=>Tu=!1));const tS="currentSyncWorker";function io(a,u,i,l){return Im.apply(this,arguments).then(f=>(l?.justCheckIfNeeded||a.syncStateChangedEvent.next({phase:"in-sync"}),f)).catch(f=>Le(this,void 0,void 0,function*(){return l?.justCheckIfNeeded?Promise.reject(f):Tu&&l?.retryImmediatelyOnFetchError&&f?.name==="TypeError"&&/fetch/.test(f?.message)?(a.syncStateChangedEvent.next({phase:"error",error:f}),yield new Promise(h=>setTimeout(h,500)),yield io(a,u,i,Object.assign(Object.assign({},l),{retryImmediatelyOnFetchError:!1}))):(yield a.$syncState.update("syncState",{timestamp:new Date,error:""+f}),a.syncStateChangedEvent.next({phase:Tu?"error":"offline",error:new Error(""+f?.message||f)}),Promise.reject(f))}))}function Im(a,u,i,{isInitialSync:l,cancelToken:f,justCheckIfNeeded:h,purpose:m}={isInitialSync:!1}){var g;return Le(this,void 0,void 0,function*(){if(!(!((g=a.cloud.options)===null||g===void 0)&&g.databaseUrl))throw new Error("Internal error: sync must not be called when no databaseUrl is configured");const{databaseUrl:S}=u,b=yield a.getCurrentUser(),v=b.isLoggedIn?kc(a):[],O=v.map(Be=>a.table(Gd(Be.name))),A=yield a.getPersistedSyncState(),j=!l&&b.isLoggedIn,q=j?function(Be,Ne){const De=Ne?.syncedTables||[];return kc(Be).filter(je=>!De.includes(je.name))}(a,A):[];Pl(f);const I=q.length>0;if(I){if(h)return!0;yield a.transaction("rw",q,Be=>Le(this,void 0,void 0,function*(){Be.idbtrans.disableChangeTracking=!0,Be.idbtrans.disableAccessControl=!0,yield function(Ne,De,je){return Le(this,void 0,void 0,function*(){const Ce=new Set(je||[]);for(const ge of Ne)ge.name==="members"?yield ge.toCollection().modify(_e=>{Ce.has(_e.realmId)||_e.userId&&_e.userId!==Rn.userId||(_e.userId=De.userId)}):ge.name==="roles"||(ge.name==="realms"?yield ge.toCollection().modify(_e=>{Ce.has(_e.realmId)||_e.owner!==void 0&&_e.owner!==Rn.userId||(_e.owner=De.userId)}):yield ge.toCollection().modify(_e=>{_e.realmId&&Ce.has(_e.realmId)||(_e.owner&&_e.owner!==Rn.userId||(_e.owner=De.userId),_e.realmId&&_e.realmId!==Rn.userId||(_e.realmId=De.userId))}))})}(q,b,A?.realms)})),Pl(f)}const[ne,se,pe]=yield a.transaction("r",a.tables,()=>Le(this,void 0,void 0,function*(){const Be=yield a.getPersistedSyncState();let Ne=yield a.$baseRevs.toArray();Ne=Ne.filter(je=>v.some(Ce=>Ce.name===je.tableName));let De=yield Sd(O);if(Pl(f),I){const je=[...A?.realms||[],...A?.inviteRealms||[]],Ce=yield function(ge,_e,Ae,Q){return Le(this,void 0,void 0,function*(){const fe=`upload-${Lm(8)}`;if(_e.isLoggedIn&&ge.length>0){const Re=new Set(Q||[]);return(yield Promise.all(ge.map(ce=>Le(this,void 0,void 0,function*(){const{extractKey:D}=ce.core.schema.primaryKey;if(!D)return{table:ce.name,muts:[]};const J=Ae[ce.name],te=J?.generatedGlobalId?ce.filter(Oe=>{return D(Oe),!Re.has(Oe.realmId||"")&&(qe=D(Oe),!(He=J?.idPrefix)||typeof qe=="string"&&qe.startsWith(He));var qe,He}):ce.filter(Oe=>{const qe=D(Oe);return!Re.has(Oe.realmId||"")&&zd(qe)}),ue=yield te.toArray();if(ue.length>0){const Oe={type:"upsert",values:ue,keys:ue.map(D),userId:_e.userId,txid:fe};return{table:ce.name,muts:[Oe]}}return{table:ce.name,muts:[]}})))).filter(ce=>ce.muts.length>0)}return[]})}(q,b,i,je);return Pl(f),De=De.concat(Ce),[De,Be,Ne]}return[De,Be,Ne]})),ee=ne.some(Be=>Be.muts.some(Ne=>Ne.keys.length>0));if(h)return ee;if(m==="push"&&!ee)return!1;const me=xd(ne,se?.latestRevisions),xe=se?.clientIdentity||mm(16);Pl(f);const oe=yield F_(ne,se,pe,a,S,i,xe,b);return(yield a.transaction("rw",a.tables,Be=>Le(this,void 0,void 0,function*(){Be.idbtrans.disableChangeTracking=!0,Be.idbtrans.disableAccessControl=!0;for(const ge of Object.keys(i))oe.schema[ge]&&(i[ge]=oe.schema[ge]);yield a.$syncState.put(i,"schema");const Ne=yield Sd(O,0,{since:me});for(const ge of O){const _e=Hm(ge.name);if(Ne.some(Ae=>Ae.table===_e&&Ae.muts.length>0)){if(me[_e]){const Ae=me[_e]||0;yield Promise.all([ge.where("rev").belowOrEqual(Ae).delete(),a.$baseRevs.where(":id").between([_e,-1/0],[_e,Ae+1],!0,!0).reverse().offset(1).delete()])}}else yield Promise.all([ge.clear(),a.$baseRevs.where({tableName:_e}).delete()])}xd(Ne,me),yield Jm(a,i,me,oe.serverRevision);const De=yield a.getPersistedSyncState();yield function(ge,_e,Ae){return Le(this,void 0,void 0,function*(){const Q=new Set,fe=new Set,Re=Ae?Ae.realms:[],ce=Ae?Ae.inviteRealms:[],D=new Set(_e.realms),J=new Set(_e.realms.concat(_e.inviteRealms));for(const te of Re)D.has(te)||(fe.add(te),J.has(te)||Q.add(te));for(const te of ce.concat(Re))J.has(te)||Q.add(te);if(Q.size>0||fe.size>0){const te=kc(ge);for(const ue of te){let Oe=["realms","members","roles"].includes(ue.name)?Q:fe;Oe.size!==0&&(ue.schema.indexes.some(qe=>qe.keyPath==="realmId"||Array.isArray(qe.keyPath)&&qe.keyPath[0]==="realmId")?yield ue.where("realmId").anyOf([...Oe]).delete():yield ue.filter(qe=>!!qe?.realmId&&Oe.has(qe.realmId)).delete())}}})}(a,oe,De);const je=De||{syncedTables:[],latestRevisions:{},realms:[],inviteRealms:[],clientIdentity:xe};j&&(je.syncedTables=v.map(ge=>ge.name).concat(q.map(ge=>ge.name))),je.latestRevisions=me,je.remoteDbId=oe.dbId,je.initiallySynced=!0,je.realms=oe.realms,je.inviteRealms=oe.inviteRealms,je.serverRevision=oe.serverRevision,je.timestamp=new Date,delete je.error;const Ce=Pm(oe.changes,Ne);return yield $m(Ce,a),a.$syncState.put(je,"syncState"),Ne.length===0})))?(a.syncCompleteEvent.next(),!1):(yield Zm(a),yield Im(a,u,i,{isInitialSync:l,cancelToken:f}))})}function Pm(a,u){const i={};op(i,a);const l={};return op(l,u),function(f,h){var m,g,S;for(const[b,v]of Object.entries(h))for(const[O,A]of Object.entries(v))switch(A.type){case"ups":{const j=(m=f[b])===null||m===void 0?void 0:m[O];if(j)switch(j.type){case"ups":case"upd":delete f[b][O]}}break;case"del":(g=f[b])===null||g===void 0||delete g[O];break;case"upd":{const j=(S=f[b])===null||S===void 0?void 0:S[O];if(j)switch(j.type){case"ups":for(const[q,I]of Object.entries(A.mod))Lc(j.val,q,I);break;case"del":break;case"upd":for(const q of Object.keys(A.mod))delete j.mod[q]}break}}}(i,l),function(f,h=""){h||(h=mm(16));const m={};for(const[S,b]of Object.entries(f))for(const[v,O]of Object.entries(b)){const A=m[S]||(m[S]={});(A[O.type]||(A[O.type]=[])).push(Object.assign({key:v},O))}const g=[];for(const[S,b]of Object.entries(m)){const v={table:S,muts:[]};for(const[O,A]of Object.entries(b))switch(O){case"ups":{const j={type:"upsert",keys:A.map(q=>q.key),values:A.map(q=>q.val),txid:h};v.muts.push(j);break}case"upd":{const j={type:"update",keys:A.map(q=>q.key),changeSpecs:A.map(q=>q.mod),txid:h};v.muts.push(j);break}case"del":{const j={type:"delete",keys:A.map(q=>q.key),txid:h};v.muts.push(j);break}}g.push(v)}return g}(i)}const nS=10,rS=1e4,aS=1e3;function iS(a){const u=[],i=new Fn(!0),l=new Fn(null);let f=!1,h=new Array(nS).fill(0);return l.subscribe(()=>Le(this,void 0,void 0,function*(){if(!f&&u.length>0){f=!0,h.shift(),h.push(Date.now()),i.next(!1);try{yield function(){var m,g,S,b,v,O;return Le(this,void 0,void 0,function*(){for(;u.length>0;){const A=u.shift();try{yield Ou(a.cloud.syncState.pipe(gr(({phase:q})=>q==="in-sync"||q==="error")));const j=a.cloud.persistedSyncState.value;if(!A)continue;switch(A.type){case"token-expired":const q=a.cloud.currentUser.value,I=yield Wc(a.cloud.options.databaseUrl,q);yield a.table("$logins").update(q.userId,{accessToken:I.accessToken,accessTokenExpiration:I.accessTokenExpiration,claims:I.claims,license:I.license,data:I.data});break;case"realm-added":!((m=j?.realms)===null||m===void 0)&&m.includes(A.realm)||!((g=j?.inviteRealms)===null||g===void 0)&&g.includes(A.realm)||(yield a.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-accepted":!((S=j?.realms)===null||S===void 0)&&S.includes(A.realm)||(yield a.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-removed":(!((b=j?.realms)===null||b===void 0)&&b.includes(A.realm)||!((v=j?.inviteRealms)===null||v===void 0)&&v.includes(A.realm))&&(yield a.cloud.sync({purpose:"pull",wait:!0}));break;case"realms-changed":yield a.cloud.sync({purpose:"pull",wait:!0});break;case"changes":if(((O=a.cloud.syncState.value)===null||O===void 0?void 0:O.phase)==="error"){aa(a,"pull");break}yield a.transaction("rw",a.dx.tables,ne=>Le(this,void 0,void 0,function*(){ne.idbtrans.disableChangeTracking=!0,ne.idbtrans.disableAccessControl=!0;const[se,pe,ee]=yield Promise.all([a.getSchema(),a.getPersistedSyncState(),a.getCurrentUser()]);if(!pe||!se||!ee)return;if(A.baseRev!==pe.serverRevision)return void(typeof A.baseRev!="string"||typeof pe.serverRevision!="bigint"&&typeof pe.serverRevision!="object"||aa(a,"pull"));if((yield At.waitFor(_d(pe)))!==A.realmSetHash)return void aa(a,"pull");let me=[];if(ee.isLoggedIn){const xe=kc(a).map(oe=>a.table(Gd(oe.name)));me=yield Sd(xe)}if(A.changes.length>0){const xe=Pm(A.changes,me);yield $m(xe,a)}pe.latestRevisions=xd(me,pe.latestRevisions),pe.serverRevision=A.newRev,yield Jm(a,se,pe.latestRevisions,A.newRev),yield a.$syncState.put(pe,"syncState")}))}}catch{}}})}()}finally{h[h.length-1]-h[0]<rS&&(yield new Promise(m=>setTimeout(m,aS))),f=!1,i.next(!0)}}})),{enqueue:function(m){u.push(m),l.next(null)},readyToServe:i}}const Tp=new WeakMap,jc={members:"@id, [userId+realmId], [email+realmId], realmId",roles:"[realmId+name]",realms:"@realmId",$jobs:"",$syncState:"",$baseRevs:"[tableName+clientRev]",$logins:"claims.sub, lastLogin"};let uS=0;function ta(a){"vip"in a&&(a=a.vip);let u=Tp.get(a.cloud);if(!u){const i=new uo;let l=new Dc(`syncstatechanged-${a.name}`),f=new Dc(`synccomplete-${a.name}`);i.id=++uS;let h=!1;u={get name(){return a.name},close:()=>a.close(),transaction:a.transaction.bind(a),table:a.table.bind(a),get tables(){return a.tables},cloud:a.cloud,get $jobs(){return a.table("$jobs")},get $syncState(){return a.table("$syncState")},get $baseRevs(){return a.table("$baseRevs")},get $logins(){return a.table("$logins")},get realms(){return a.realms},get members(){return a.members},get roles(){return a.roles},get initiallySynced(){return h},localSyncEvent:i,get syncStateChangedEvent(){return l},get syncCompleteEvent(){return f},dx:a},Object.assign(u,{getCurrentUser:()=>u.$logins.toArray().then(g=>g.find(S=>S.isLoggedIn)||Rn),getPersistedSyncState:()=>u.$syncState.get("syncState"),getSchema:()=>u.$syncState.get("schema").then(g=>{if(g)for(const b of u.tables)b.schema.primKey&&b.schema.primKey.keyPath&&g[b.name]&&(g[b.name].primaryKey=typeof(S=b.schema.primKey.keyPath)=="string"?S:S?"["+[].join.call(S,"+")+"]":"");var S;return g}),getOptions:()=>u.$syncState.get("options"),setInitiallySynced(g){h=g},reconfigure(){l=new Dc(`syncstatechanged-${a.name}`),f=new Dc(`synccomplete-${a.name}`)}}),u.messageConsumer=iS(u),Tp.set(a.cloud,u)}return u}const lS=typeof InstallTrigger<"u",Wm=typeof navigator<"u"&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\/|Edge\//.test(navigator.userAgent),oS=Wm?[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]:NaN,cS=Wm&&oS<=605||lS,sS=typeof self<"u"&&"clients"in self&&!self.document;function Fm(){throw new At.SchemaError("Version increment needed to allow dexie-cloud change tracking")}const{toString:fS}={};function Dp(a){return fS.call(a).slice(8,-1)}function rd(a,u){var i;return u.type==="delete"?u.keys:((i=u.keys)===null||i===void 0?void 0:i.slice())||u.values.map(a.extractKey)}const dS=/b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|x|y|z/i;let na=0;function eb(a,u){const i=new Uint8Array(18),l=new Uint8Array(i.buffer,0,6),f=Date.now();na>=f?++na:na=f,l[0]=na/1099511627776,l[1]=na/4294967296,l[2]=na/16777216,l[3]=na/65536,l[4]=na/256,l[5]=na;const h=new Uint8Array(i.buffer,6);return crypto.getRandomValues(h),a+Gm(new Uint8Array(i.buffer))+(u||"")}function hS(a){return{stack:"dbcore",name:"idGenerationMiddleware",level:1,create:u=>Object.assign(Object.assign({},u),{table:i=>{const l=u.table(i);return Object.assign(Object.assign({},l),{mutate:f=>{var h,m;if(f.trans.disableChangeTracking)return l.mutate(f);if(f.type==="add"||f.type==="put"){const g=(h=a.cloud.schema)===null||h===void 0?void 0:h[i];if(g?.generatedGlobalId){if(!((m=a.cloud.options)===null||m===void 0)&&m.databaseUrl&&!a.initiallySynced){const S=rd(l.schema.primaryKey,f);return l.getMany({keys:S,trans:f.trans,cache:"immutable"}).then(b=>{if(b.length<S.length)throw new Error("Unable to create new objects without an initial sync having been performed.");return l.mutate(f)})}return function(S,b){let v=null;const O=rd(l.schema.primaryKey,S);return O.forEach((A,j)=>{if(A===void 0){const q=S.values[j].realmId||a.cloud.currentUserId,I=q.substr(q.length-3);O[j]=eb(b,I),l.schema.primaryKey.outbound||(v||(v=S.values.slice()),v[j]=At.deepClone(v[j]),At.setByKeyPath(v[j],l.schema.primaryKey.keyPath,O[j]))}else if(typeof A!="string"||!A.startsWith(b)&&!A.startsWith("#"+b))throw new At.ConstraintError(`The ID "${A}" is not valid for table "${i}". Primary '@' keys requires the key to be prefixed with "${b}" (or "#${b}).
If you want to generate IDs programmatically, remove '@' from the schema to get rid of this constraint. Dexie Cloud supports custom IDs as long as they are random and globally unique.`)}),l.mutate(Object.assign(Object.assign({},S),{keys:O,values:v||S.values}))}(f,g.idPrefix)}g?.markedForSync&&rd(l.schema.primaryKey,f).forEach((S,b)=>{if(!zd(S)){const v=Array.isArray(S)?S.map(Dp).join(","):Dp(S);throw new At.ConstraintError(`Invalid primary key type ${v} for table ${i}. Tables marked for sync has primary keys of type string or Array of string (and optional numbers)`)}})}return l.mutate(f)}})}})}}let yS=0;function Wl(a,u){return function(i){const{readers:l,writers:f}=i.trans[u]||(i.trans[u]={writers:[],readers:[]}),h=f.length,m=(h>0?f[h-1].then(()=>a(i),()=>a(i)):a(i)).finally(()=>{l.splice(l.indexOf(m))});return l.push(m),m}}function vS(a,u){return function(i){const{readers:l,writers:f}=i.trans[u]||(i.trans[u]={writers:[],readers:[]});let h=(f.length>0?f[f.length-1].then(()=>a(i),()=>a(i)):l.length>0?(m=l,new Promise(g=>{m.length===0&&g([]);let S=m.length;const b=new Array(S);m.forEach((v,O)=>Promise.resolve(v).then(A=>b[O]={status:"fulfilled",value:A},A=>b[O]={status:"rejected",reason:A}).then(()=>--S||g(b)))})).then(()=>a(i)):a(i)).finally(()=>{f.shift()});var m;return f.push(h),h}}const Su=new Fn(new Set);function tb(a){var u,i,l,f;return((u=a.cloud.options)===null||u===void 0?void 0:u.disableEagerSync)||((l=(i=a.cloud.currentUser.value)===null||i===void 0?void 0:i.license)===null||l===void 0?void 0:l.status)!=="ok"||!(!((f=a.cloud.options)===null||f===void 0)&&f.databaseUrl)}function pS({currentUserObservable:a,db:u}){return{stack:"dbcore",name:"MutationTrackingMiddleware",level:1,create:i=>{const l=i.schema.tables.filter(h=>!/^\$/.test(h.name));let f;try{f=new Map(l.map(h=>[h.name,i.table(`$${h.name}_mutations`)]))}catch{Fm()}return Object.assign(Object.assign({},i),{transaction:(h,m)=>{let g;if(m==="readwrite"){const S=h.filter(b=>{var v,O;return(O=(v=u.cloud.schema)===null||v===void 0?void 0:v[b])===null||O===void 0?void 0:O.markedForSync}).map(b=>Gd(b));g=i.transaction([...h,...S],m)}else g=i.transaction(h,m);if(m==="readwrite"){g.txid=Lm(16),g.opCount=0,g.currentUser=a.value,Su.value.add(g),Su.next(Su.value);const S=()=>{g.removeEventListener("complete",b),g.removeEventListener("error",S),g.removeEventListener("abort",S),Su.value.delete(g),Su.next(Su.value)},b=()=>{g.mutationsAdded&&!tb(u)&&aa(u,"push"),S()};g.addEventListener("complete",b),g.addEventListener("error",S),g.addEventListener("abort",S)}return g},table:h=>{const m=i.table(h);if(/^\$/.test(h))return h.endsWith("_mutations")?Object.assign(Object.assign({},m),{mutate:v=>(v.type!=="add"&&v.type!=="put"||(v.trans.mutationsAdded=!0),m.mutate(v))}):h==="$logins"?Object.assign(Object.assign({},m),{mutate:v=>m.mutate(v).then(O=>(v.trans.mutationsAdded=!0,O)).catch(O=>Promise.reject(O))}):m;const{schema:g}=m,S=f.get(h);return function(v){const O="$lock"+ ++yS;return Object.assign(Object.assign({},v),{count:Wl(v.count,O),get:Wl(v.get,O),getMany:Wl(v.getMany,O),openCursor:Wl(v.openCursor,O),query:Wl(v.query,O),mutate:vS(v.mutate,O)})}(Object.assign(Object.assign({},m),{mutate:v=>{var O,A,j;const q=v.trans;return q.txid?q.disableChangeTracking?m.mutate(v):!((A=(O=u.cloud.schema)===null||O===void 0?void 0:O[h])===null||A===void 0)&&A.markedForSync&&(!((j=q.currentUser)===null||j===void 0)&&j.isLoggedIn)?v.type==="deleteRange"?m.query({query:{range:v.range,index:g.primaryKey},trans:v.trans,values:!1}).then(I=>b({type:"delete",keys:I.result,trans:v.trans,criteria:{index:null,range:v.range}})):b(v):m.mutate(v):m.mutate(v)}}));function b(v){const O=v.trans;O.mutationsAdded=!0;const{txid:A,currentUser:{userId:j}}=O,{type:q}=v,I=++O.opCount;return m.mutate(v).then(ne=>{const{numFailures:se,failures:pe}=ne;let ee=q==="delete"?v.keys:ne.results,me="values"in v?v.values:[],xe="updates"in v&&v.updates;se&&(ee=ee.filter((Be,Ne)=>!pe[Ne]),me=me.filter((Be,Ne)=>!pe[Ne]));const oe=Date.now(),we=v.type==="delete"?{type:"delete",ts:oe,opNo:I,keys:ee,criteria:v.criteria,txid:A,userId:j}:v.type==="add"?{type:"insert",ts:oe,opNo:I,keys:ee,txid:A,userId:j,values:me}:v.criteria&&v.changeSpec?{type:"modify",ts:oe,opNo:I,keys:ee,criteria:v.criteria,changeSpec:v.changeSpec,txid:A,userId:j}:xe?{type:"update",ts:oe,opNo:I,keys:xe.keys,changeSpecs:xe.changeSpecs,txid:A,userId:j}:{type:"upsert",ts:oe,opNo:I,keys:ee,values:me,txid:A,userId:j};return"isAdditionalChunk"in v&&v.isAdditionalChunk&&(we.isAdditionalChunk=!0),ee.length>0||"criteria"in v&&v.criteria?S.mutate({type:"add",trans:O,values:[we]}).then(()=>ne):ne})}}})}}}function mS(a,u){return function(i,l){const f=Object.assign(Object.assign({},jc),i);Object.keys(jc).forEach(g=>{const S=f[g];if(S==null)throw new Error(`Cannot delete table ${g} as it is needed for access control of Dexie Cloud`);if(!i[g])return;const b=S.split(",").map(A=>A.trim()),v=jc[g].split(",").map(A=>A.trim()),O=new Set(b.map(A=>A.replace(/([&*]|\+\+)/g,"")));if(b[0]!==v[0])throw new Error(`Cannot override primary key of table ${g}. Please declare it as {${g}: ${JSON.stringify(jc[g])}`);for(let A=1;A<v.length;++A){const j=v[A];O.has(j.replace(/([&*]|\+\+)/g,""))||(f[g]+=`,${j}`)}});const h=u.cloud.schema||(u.cloud.schema={}),m=new Set;return Object.keys(f).forEach(g=>{const S=f[g],b=h[g]||(h[g]={});S!=null?(/^\@/.test(S)&&(f[g]=f[g].substr(1),b.generatedGlobalId=!0,b.idPrefix=function(v,O){let A=v[0].toLocaleLowerCase();for(let ne=1,se=v.length;ne<se&&A.length<3;++ne)(dS.test(v[ne])||(j=v[ne])>="A"&&j<="Z")&&(A+=v[ne].toLowerCase());for(var j,q,I;O.has(A);){if(/\d/g.test(A)){if(A=A.substr(0,A.length-1)+(A[A.length-1]+1),!(A.length>3))continue;A=A.substr(0,3)}else if(A.length<3){A+="2";continue}let ne=1,se=A;for(;O.has(se)&&ne<8;)q=A,se=(1&(I=ne)?q[0].toUpperCase():q[0].toLowerCase())+(2&I?q[1].toUpperCase():q[1].toLowerCase())+(4&I?q[2].toUpperCase():q[2].toLowerCase()),++ne;if(ne<8)A=se;else{let pe=A.charCodeAt(2)+1&127;A=A.substr(0,2)+String.fromCharCode(pe)}}return A}(g,m),m.add(b.idPrefix)),/^\$/.test(g)||(f[`$${g}_mutations`]="++rev",b.markedForSync=!0),b.deleted&&(b.deleted=!1)):(b.deleted=!0,b.markedForSync=!1,f[`$${g}_mutations`]=null)}),a.call(this,f,l)}}const eo=new Fn(!0),Od=new Fn(!0);eo.pipe(pn(a=>a?ia(!0):ia(!1).pipe(Mm(2e4))),km()).subscribe(Od);const nb=typeof document<"u"?_r(document,"visibilitychange"):ia({}),bS=nb.pipe(gr(()=>document.visibilityState==="hidden")),gS=nb.pipe(gr(()=>document.visibilityState==="visible")),rb=typeof window<"u"?ym(gS,_r(window,"mousedown"),_r(window,"mousemove"),_r(window,"keydown"),_r(window,"wheel"),_r(window,"touchmove")):ia({});typeof document<"u"&&ym(ia(!0),bS,rb).pipe(Sr(()=>document.visibilityState==="visible"),gp(a=>{eo.value!==a&&eo.next(a)}),pn(a=>a?ia(0).pipe(Mm(16e4),gp(()=>eo.next(!1))):ia(0))).subscribe(()=>{});class _S extends Error{constructor(){super(...arguments),this.name="TokenExpiredError"}}class SS extends Vt{constructor(u,i,l,f,h,m,g,S){super(b=>new ES(u,i,l,f,g,S,b,h,m))}}let wS=0;class ES extends ku{constructor(u,i,l,f,h,m,g,S,b){super(()=>this.teardown()),this.id=++wS,this.reconnecting=!1,this.databaseUrl=u,this.rev=i,this.realmSetHash=l,this.clientIdentity=f,this.token=h,this.tokenExpiration=m,this.subscriber=g,this.lastUserActivity=new Date,this.messageProducer=S,this.messageProducerSubscription=null,this.webSocketStatus=b,this.connect()}teardown(){this.disconnect()}disconnect(){if(this.webSocketStatus.next("disconnected"),this.pinger&&(clearInterval(this.pinger),this.pinger=null),this.ws)try{this.ws.close()}catch{}this.ws=null,this.messageProducerSubscription&&(this.messageProducerSubscription.unsubscribe(),this.messageProducerSubscription=null)}reconnect(){if(!this.reconnecting){this.reconnecting=!0;try{this.disconnect()}catch{}this.connect().catch(()=>{}).then(()=>this.reconnecting=!1)}}connect(){return Le(this,void 0,void 0,function*(){if(this.lastServerActivity=new Date,this.pauseUntil&&this.pauseUntil>new Date)return;if(this.ws)throw new Error("Called connect() when a connection is already open");if(!this.databaseUrl)throw new Error("Cannot connect without a database URL");if(this.closed)return;if(this.tokenExpiration&&this.tokenExpiration<new Date)return void this.subscriber.error(new _S);this.webSocketStatus.next("connecting"),this.pinger=setInterval(()=>Le(this,void 0,void 0,function*(){if(this.closed)this.teardown();else if(this.ws)try{this.ws.send(JSON.stringify({type:"ping"})),setTimeout(()=>{this.pinger&&(this.closed?this.teardown():this.lastServerActivity<new Date(Date.now()-2e4)&&this.reconnect())},2e4)}catch{this.reconnect()}else this.reconnect()}),3e4);const u=new URL(this.databaseUrl);u.protocol=u.protocol==="http:"?"ws":"wss";const i=new URLSearchParams;if(this.subscriber.closed)return;i.set("v","2"),i.set("rev",this.rev),i.set("realmsHash",this.realmSetHash),i.set("clientId",this.clientIdentity),this.token&&i.set("token",this.token);const l=this.ws=new WebSocket(`${u}/changes?${i}`);l.onclose=f=>{this.pinger&&this.reconnect()},l.onmessage=f=>{if(this.pinger){this.lastServerActivity=new Date;try{const h=Yc.parse(f.data);if(h.type==="error")throw new Error(`Error message from dexie-cloud: ${h.error}`);h.type==="rev"&&(this.rev=h.rev),h.type!=="pong"&&this.subscriber.next(h)}catch(h){this.subscriber.error(h)}}};try{let f=!1;yield new Promise((h,m)=>{l.onopen=g=>{f=!0,h(null)},l.onerror=g=>{if(f)this.reconnect();else{const S=g.error||new Error("WebSocket Error");this.subscriber.error(S),this.webSocketStatus.next("error"),m(S)}}}),this.messageProducerSubscription=this.messageProducer.subscribe(h=>{var m;this.closed||(h.type==="ready"&&this.webSocketStatus.value!=="connected"&&this.webSocketStatus.next("connected"),(m=this.ws)===null||m===void 0||m.send(Yc.stringify(h)))})}catch{this.pauseUntil=new Date(Date.now()+6e4)}})}}class xS extends Error{constructor(u){super(u==="expired"?"License expired":u==="deactivated"?"User deactivated":"Invalid license"),this.name="InvalidLicenseError",u&&(this.license=u)}}function OS(a){return Le(this,void 0,void 0,function*(){var u;yield(u=3e3,new Promise(i=>setTimeout(i,u))),yield Ou(rb)})}function jp(a){var u;return Le(this,void 0,void 0,function*(){return!(!(!((u=a.cloud.options)===null||u===void 0)&&u.databaseUrl)||!a.cloud.schema)&&(yield io(a,a.cloud.options,a.cloud.schema,{justCheckIfNeeded:!0}))})}const Rc=new WeakMap;function ab(a,u,i,l){const f=Rc.get(a);if(f){if(f.pull||l?.purpose==="push")return f.promise;{let m=!1;const g=a.cloud.syncState.subscribe(S=>{S.phase==="pulling"&&(m=!0)});return f.promise.then(()=>{g.unsubscribe()}).catch(S=>(g.unsubscribe(),Promise.reject(S))).then(()=>{if(!m)return ab(a,u,i,l)})}}const h=function(){return Le(this,void 0,void 0,function*(){try{if(yield Zm(a),a.cloud.isServiceWorkerDB)yield io(a,u,i,l);else{if(a.cloud.usingServiceWorker)throw pm(!1),new Error("Internal _syncIfPossible() - invalid precondition - should not have been called.");yield function(m,g,S){return typeof navigator<"u"&&navigator.locks?navigator.locks.request(m.name+"|"+g,()=>S()):S()}(a,tS,()=>io(a,u,i,l))}Rc.delete(a)}catch(m){throw Rc.delete(a),m}})}();return Rc.set(a,{promise:h,pull:l?.purpose!=="push"}),h}const AS=6e4;function TS(a,u,i){let l=null,f={cancelled:!1},h=null,m=null;function g(b,v=1){setTimeout(()=>{h&&clearTimeout(h);const O=m==="pull"?"pull":b;h=null,m=null,ab(a,u,i,{cancelToken:f,retryImmediatelyOnFetchError:!0,purpose:O}).catch(A=>{if(f.cancelled)S();else if(v<3){const j=m&&m==="pull"?"pull":b,q=setTimeout(()=>g(j,v+1),[0,5,15][v]*AS);h&&clearTimeout(h),h=q,m=j}})},0)}const S=()=>{f.cancelled=!0,l&&l.unsubscribe()};return{start:()=>{l=a.localSyncEvent.subscribe(({purpose:b})=>{try{g(b||"pull")}catch{}})},stop:S}}function ad(a,u){if(a&&u&&u.unsyncedTables)for(const i of u.unsyncedTables)a[i]&&(a[i].markedForSync=!1)}var Fc,Pe,ib,to,Rp,Gc={},ub=[],DS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function $a(a,u){for(var i in u)a[i]=u[i];return a}function lb(a){var u=a.parentNode;u&&u.removeChild(a)}function Yt(a,u,i){var l,f,h,m={};for(h in u)h=="key"?l=u[h]:h=="ref"?f=u[h]:m[h]=u[h];if(arguments.length>2&&(m.children=arguments.length>3?Fc.call(arguments,2):i),typeof a=="function"&&a.defaultProps!=null)for(h in a.defaultProps)m[h]===void 0&&(m[h]=a.defaultProps[h]);return Nc(a,m,l,f,null)}function Nc(a,u,i,l,f){var h={type:a,props:u,key:i,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:f??++ib};return f==null&&Pe.vnode!=null&&Pe.vnode(h),h}function Uu(a){return a.children}function no(a,u){this.props=a,this.context=u}function Mu(a,u){if(u==null)return a.__?Mu(a.__,a.__.__k.indexOf(a)+1):null;for(var i;u<a.__k.length;u++)if((i=a.__k[u])!=null&&i.__e!=null)return i.__e;return typeof a.type=="function"?Mu(a):null}function ob(a){var u,i;if((a=a.__)!=null&&a.__c!=null){for(a.__e=a.__c.base=null,u=0;u<a.__k.length;u++)if((i=a.__k[u])!=null&&i.__e!=null){a.__e=a.__c.base=i.__e;break}return ob(a)}}function Cp(a){(!a.__d&&(a.__d=!0)&&to.push(a)&&!Vc.__r++||Rp!==Pe.debounceRendering)&&((Rp=Pe.debounceRendering)||setTimeout)(Vc)}function Vc(){for(var a;Vc.__r=to.length;)a=to.sort(function(u,i){return u.__v.__b-i.__v.__b}),to=[],a.some(function(u){var i,l,f,h,m,g;u.__d&&(m=(h=(i=u).__v).__e,(g=i.__P)&&(l=[],(f=$a({},h)).__v=h.__v+1,Vd(g,h,f,i.__n,g.ownerSVGElement!==void 0,h.__h!=null?[m]:null,l,m??Mu(h),h.__h),db(l,h),h.__e!=m&&ob(h)))})}function cb(a,u,i,l,f,h,m,g,S,b){var v,O,A,j,q,I,ne,se=l&&l.__k||ub,pe=se.length;for(i.__k=[],v=0;v<u.length;v++)if((j=i.__k[v]=(j=u[v])==null||typeof j=="boolean"?null:typeof j=="string"||typeof j=="number"||typeof j=="bigint"?Nc(null,j,null,null,j):Array.isArray(j)?Nc(Uu,{children:j},null,null,null):j.__b>0?Nc(j.type,j.props,j.key,null,j.__v):j)!=null){if(j.__=i,j.__b=i.__b+1,(A=se[v])===null||A&&j.key==A.key&&j.type===A.type)se[v]=void 0;else for(O=0;O<pe;O++){if((A=se[O])&&j.key==A.key&&j.type===A.type){se[O]=void 0;break}A=null}Vd(a,j,A=A||Gc,f,h,m,g,S,b),q=j.__e,(O=j.ref)&&A.ref!=O&&(ne||(ne=[]),A.ref&&ne.push(A.ref,null,j),ne.push(O,j.__c||q,j)),q!=null?(I==null&&(I=q),typeof j.type=="function"&&j.__k===A.__k?j.__d=S=sb(j,S,a):S=fb(a,j,A,se,q,S),typeof i.type=="function"&&(i.__d=S)):S&&A.__e==S&&S.parentNode!=a&&(S=Mu(A))}for(i.__e=I,v=pe;v--;)se[v]!=null&&(typeof i.type=="function"&&se[v].__e!=null&&se[v].__e==i.__d&&(i.__d=Mu(l,v+1)),yb(se[v],se[v]));if(ne)for(v=0;v<ne.length;v++)hb(ne[v],ne[++v],ne[++v])}function sb(a,u,i){for(var l,f=a.__k,h=0;f&&h<f.length;h++)(l=f[h])&&(l.__=a,u=typeof l.type=="function"?sb(l,u,i):fb(i,l,l,f,l.__e,u));return u}function fb(a,u,i,l,f,h){var m,g,S;if(u.__d!==void 0)m=u.__d,u.__d=void 0;else if(i==null||f!=h||f.parentNode==null)e:if(h==null||h.parentNode!==a)a.appendChild(f),m=null;else{for(g=h,S=0;(g=g.nextSibling)&&S<l.length;S+=2)if(g==f)break e;a.insertBefore(f,h),m=h}return m!==void 0?m:f.nextSibling}function Up(a,u,i){u[0]==="-"?a.setProperty(u,i):a[u]=i==null?"":typeof i!="number"||DS.test(u)?i:i+"px"}function Cc(a,u,i,l,f){var h;e:if(u==="style")if(typeof i=="string")a.style.cssText=i;else{if(typeof l=="string"&&(a.style.cssText=l=""),l)for(u in l)i&&u in i||Up(a.style,u,"");if(i)for(u in i)l&&i[u]===l[u]||Up(a.style,u,i[u])}else if(u[0]==="o"&&u[1]==="n")h=u!==(u=u.replace(/Capture$/,"")),u=u.toLowerCase()in a?u.toLowerCase().slice(2):u.slice(2),a.l||(a.l={}),a.l[u+h]=i,i?l||a.addEventListener(u,h?kp:Mp,h):a.removeEventListener(u,h?kp:Mp,h);else if(u!=="dangerouslySetInnerHTML"){if(f)u=u.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(u!=="href"&&u!=="list"&&u!=="form"&&u!=="tabIndex"&&u!=="download"&&u in a)try{a[u]=i??"";break e}catch{}typeof i=="function"||(i!=null&&(i!==!1||u[0]==="a"&&u[1]==="r")?a.setAttribute(u,i):a.removeAttribute(u))}}function Mp(a){this.l[a.type+!1](Pe.event?Pe.event(a):a)}function kp(a){this.l[a.type+!0](Pe.event?Pe.event(a):a)}function Vd(a,u,i,l,f,h,m,g,S){var b,v,O,A,j,q,I,ne,se,pe,ee,me,xe,oe=u.type;if(u.constructor!==void 0)return null;i.__h!=null&&(S=i.__h,g=u.__e=i.__e,u.__h=null,h=[g]),(b=Pe.__b)&&b(u);try{e:if(typeof oe=="function"){if(ne=u.props,se=(b=oe.contextType)&&l[b.__c],pe=b?se?se.props.value:b.__:l,i.__c?I=(v=u.__c=i.__c).__=v.__E:("prototype"in oe&&oe.prototype.render?u.__c=v=new oe(ne,pe):(u.__c=v=new no(ne,pe),v.constructor=oe,v.render=RS),se&&se.sub(v),v.props=ne,v.state||(v.state={}),v.context=pe,v.__n=l,O=v.__d=!0,v.__h=[]),v.__s==null&&(v.__s=v.state),oe.getDerivedStateFromProps!=null&&(v.__s==v.state&&(v.__s=$a({},v.__s)),$a(v.__s,oe.getDerivedStateFromProps(ne,v.__s))),A=v.props,j=v.state,O)oe.getDerivedStateFromProps==null&&v.componentWillMount!=null&&v.componentWillMount(),v.componentDidMount!=null&&v.__h.push(v.componentDidMount);else{if(oe.getDerivedStateFromProps==null&&ne!==A&&v.componentWillReceiveProps!=null&&v.componentWillReceiveProps(ne,pe),!v.__e&&v.shouldComponentUpdate!=null&&v.shouldComponentUpdate(ne,v.__s,pe)===!1||u.__v===i.__v){v.props=ne,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(we){we&&(we.__=u)}),v.__h.length&&m.push(v);break e}v.componentWillUpdate!=null&&v.componentWillUpdate(ne,v.__s,pe),v.componentDidUpdate!=null&&v.__h.push(function(){v.componentDidUpdate(A,j,q)})}if(v.context=pe,v.props=ne,v.__v=u,v.__P=a,ee=Pe.__r,me=0,"prototype"in oe&&oe.prototype.render)v.state=v.__s,v.__d=!1,ee&&ee(u),b=v.render(v.props,v.state,v.context);else do v.__d=!1,ee&&ee(u),b=v.render(v.props,v.state,v.context),v.state=v.__s;while(v.__d&&++me<25);v.state=v.__s,v.getChildContext!=null&&(l=$a($a({},l),v.getChildContext())),O||v.getSnapshotBeforeUpdate==null||(q=v.getSnapshotBeforeUpdate(A,j)),xe=b!=null&&b.type===Uu&&b.key==null?b.props.children:b,cb(a,Array.isArray(xe)?xe:[xe],u,i,l,f,h,m,g,S),v.base=u.__e,u.__h=null,v.__h.length&&m.push(v),I&&(v.__E=v.__=null),v.__e=!1}else h==null&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=jS(i.__e,u,i,l,f,h,m,S);(b=Pe.diffed)&&b(u)}catch(we){u.__v=null,(S||h!=null)&&(u.__e=g,u.__h=!!S,h[h.indexOf(g)]=null),Pe.__e(we,u,i)}}function db(a,u){Pe.__c&&Pe.__c(u,a),a.some(function(i){try{a=i.__h,i.__h=[],a.some(function(l){l.call(i)})}catch(l){Pe.__e(l,i.__v)}})}function jS(a,u,i,l,f,h,m,g){var S,b,v,O=i.props,A=u.props,j=u.type,q=0;if(j==="svg"&&(f=!0),h!=null){for(;q<h.length;q++)if((S=h[q])&&"setAttribute"in S==!!j&&(j?S.localName===j:S.nodeType===3)){a=S,h[q]=null;break}}if(a==null){if(j===null)return document.createTextNode(A);a=f?document.createElementNS("http://www.w3.org/2000/svg",j):document.createElement(j,A.is&&A),h=null,g=!1}if(j===null)O===A||g&&a.data===A||(a.data=A);else{if(h=h&&Fc.call(a.childNodes),b=(O=i.props||Gc).dangerouslySetInnerHTML,v=A.dangerouslySetInnerHTML,!g){if(h!=null)for(O={},q=0;q<a.attributes.length;q++)O[a.attributes[q].name]=a.attributes[q].value;(v||b)&&(v&&(b&&v.__html==b.__html||v.__html===a.innerHTML)||(a.innerHTML=v&&v.__html||""))}if(function(I,ne,se,pe,ee){var me;for(me in se)me==="children"||me==="key"||me in ne||Cc(I,me,null,se[me],pe);for(me in ne)ee&&typeof ne[me]!="function"||me==="children"||me==="key"||me==="value"||me==="checked"||se[me]===ne[me]||Cc(I,me,ne[me],se[me],pe)}(a,A,O,f,g),v)u.__k=[];else if(q=u.props.children,cb(a,Array.isArray(q)?q:[q],u,i,l,f&&j!=="foreignObject",h,m,h?h[0]:i.__k&&Mu(i,0),g),h!=null)for(q=h.length;q--;)h[q]!=null&&lb(h[q]);g||("value"in A&&(q=A.value)!==void 0&&(q!==a.value||j==="progress"&&!q||j==="option"&&q!==O.value)&&Cc(a,"value",q,O.value,!1),"checked"in A&&(q=A.checked)!==void 0&&q!==a.checked&&Cc(a,"checked",q,O.checked,!1))}return a}function hb(a,u,i){try{typeof a=="function"?a(u):a.current=u}catch(l){Pe.__e(l,i)}}function yb(a,u,i){var l,f;if(Pe.unmount&&Pe.unmount(a),(l=a.ref)&&(l.current&&l.current!==a.__e||hb(l,null,u)),(l=a.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(h){Pe.__e(h,u)}l.base=l.__P=null}if(l=a.__k)for(f=0;f<l.length;f++)l[f]&&yb(l[f],u,typeof a.type!="function");i||a.__e==null||lb(a.__e),a.__e=a.__d=void 0}function RS(a,u,i){return this.constructor(a,i)}function Np(a,u,i){var l,f,h;Pe.__&&Pe.__(a,u),f=(l=!1)?null:u.__k,h=[],Vd(u,a=u.__k=Yt(Uu,null,[a]),f||Gc,Gc,u.ownerSVGElement!==void 0,f?null:u.firstChild?Fc.call(u.childNodes):null,h,f?f.__e:u.firstChild,l),db(h,a)}Fc=ub.slice,Pe={__e:function(a,u,i,l){for(var f,h,m;u=u.__;)if((f=u.__c)&&!f.__)try{if((h=f.constructor)&&h.getDerivedStateFromError!=null&&(f.setState(h.getDerivedStateFromError(a)),m=f.__d),f.componentDidCatch!=null&&(f.componentDidCatch(a,l||{}),m=f.__d),m)return f.__E=f}catch(g){a=g}throw a}},ib=0,no.prototype.setState=function(a,u){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=$a({},this.state),typeof a=="function"&&(a=a($a({},i),this.props)),a&&$a(i,a),a!=null&&this.__v&&(u&&this.__h.push(u),Cp(this))},no.prototype.forceUpdate=function(a){this.__v&&(this.__e=!0,a&&this.__h.push(a),Cp(this))},no.prototype.render=Uu,to=[],Vc.__r=0;const br={Alert:{error:{color:"red",fontWeight:"bold"},warning:{color:"#f80",fontWeight:"bold"},info:{color:"black"}},Darken:{position:"fixed",top:0,left:0,opacity:.5,backgroundColor:"#000",width:"100vw",height:"100vh",zIndex:150,webkitBackdropFilter:"blur(2px)",backdropFilter:"blur(2px)"},DialogOuter:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:150,alignItems:"center",display:"flex",justifyContent:"center"},DialogInner:{position:"relative",color:"#222",backgroundColor:"#fff",padding:"30px",marginBottom:"2em",maxWidth:"90%",maxHeight:"90%",overflowY:"auto",border:"3px solid #3d3d5d",borderRadius:"8px",boxShadow:"0 0 80px 10px #666",width:"auto",fontFamily:"sans-serif"},Input:{height:"35px",width:"17em",borderColor:"#ccf4",outline:"none",fontSize:"17pt",padding:"8px"}};function CS({children:a,className:u}){return Yt("div",{className:u},Yt("div",{style:br.Darken}),Yt("div",{style:br.DialogOuter},Yt("div",{style:br.DialogInner},a)))}var es,Gt,id,zp,Qc=0,vb=[],zc=[],Bp=Pe.__b,qp=Pe.__r,Hp=Pe.diffed,Kp=Pe.__c,Lp=Pe.unmount;function Qd(a,u){Pe.__h&&Pe.__h(Gt,a,Qc||u),Qc=0;var i=Gt.__H||(Gt.__H={__:[],__h:[]});return a>=i.__.length&&i.__.push({__V:zc}),i.__[a]}function US(a){return Qc=1,function(u,i,l){var f=Qd(es++,2);if(f.t=u,!f.__c&&(f.__=[Gp(void 0,i),function(m){var g=f.__N?f.__N[0]:f.__[0],S=f.t(g,m);g!==S&&(f.__N=[S,f.__[1]],f.__c.setState({}))}],f.__c=Gt,!Gt.u)){Gt.u=!0;var h=Gt.shouldComponentUpdate;Gt.shouldComponentUpdate=function(m,g,S){if(!f.__c.__H)return!0;var b=f.__c.__H.__.filter(function(O){return O.__c});if(b.every(function(O){return!O.__N}))return!h||h.call(this,m,g,S);var v=!1;return b.forEach(function(O){if(O.__N){var A=O.__[0];O.__=O.__N,O.__N=void 0,A!==O.__[0]&&(v=!0)}}),!!v&&(!h||h.call(this,m,g,S))}}return f.__N||f.__}(Gp,a)}function MS(a){return Qc=5,function(u,i){var l=Qd(es++,7);return pb(l.__H,i)?(l.__V=u(),l.i=i,l.__h=u,l.__V):l.__}(function(){return{current:a}},[])}function kS(){for(var a;a=vb.shift();)if(a.__P&&a.__H)try{a.__H.__h.forEach(Bc),a.__H.__h.forEach(Ad),a.__H.__h=[]}catch(u){a.__H.__h=[],Pe.__e(u,a.__v)}}Pe.__b=function(a){Gt=null,Bp&&Bp(a)},Pe.__r=function(a){qp&&qp(a),es=0;var u=(Gt=a.__c).__H;u&&(id===Gt?(u.__h=[],Gt.__h=[],u.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=zc,i.__N=i.i=void 0})):(u.__h.forEach(Bc),u.__h.forEach(Ad),u.__h=[])),id=Gt},Pe.diffed=function(a){Hp&&Hp(a);var u=a.__c;u&&u.__H&&(u.__H.__h.length&&(vb.push(u)!==1&&zp===Pe.requestAnimationFrame||((zp=Pe.requestAnimationFrame)||function(i){var l,f=function(){clearTimeout(h),Yp&&cancelAnimationFrame(l),setTimeout(i)},h=setTimeout(f,100);Yp&&(l=requestAnimationFrame(f))})(kS)),u.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==zc&&(i.__=i.__V),i.i=void 0,i.__V=zc})),id=Gt=null},Pe.__c=function(a,u){u.some(function(i){try{i.__h.forEach(Bc),i.__h=i.__h.filter(function(l){return!l.__||Ad(l)})}catch(l){u.some(function(f){f.__h&&(f.__h=[])}),u=[],Pe.__e(l,i.__v)}}),Kp&&Kp(a,u)},Pe.unmount=function(a){Lp&&Lp(a);var u,i=a.__c;i&&i.__H&&(i.__H.__.forEach(function(l){try{Bc(l)}catch(f){u=f}}),u&&Pe.__e(u,i.__v))};var Yp=typeof requestAnimationFrame=="function";function Bc(a){var u=Gt,i=a.__c;typeof i=="function"&&(a.__c=void 0,i()),Gt=u}function Ad(a){var u=Gt;a.__c=a.__(),Gt=u}function pb(a,u){return!a||a.length!==u.length||u.some(function(i,l){return i!==a[l]})}function Gp(a,u){return typeof u=="function"?u(a):u}function NS({message:a,messageCode:u,messageParams:i}){return a.replace(/\{\w+\}/gi,l=>i[l.substring(1,l.length-1)])}function zS({title:a,type:u,alerts:i,fields:l,submitLabel:f,cancelLabel:h,onCancel:m,onSubmit:g}){const[S,b]=US({}),v=MS(null);return function(O,A){var j=Qd(es++,4);!Pe.__s&&pb(j.__H,A)&&(j.__=O,j.i=A,Gt.__h.push(j))}(()=>{var O;return(O=v.current)===null||O===void 0?void 0:O.focus()},[]),Yt(CS,{className:"dxc-login-dlg"},Yt(Uu,null,Yt("h3",{style:br.WindowHeader},a),i.map(O=>Yt("p",{style:br.Alert[O.type]},NS(O))),Yt("form",{onSubmit:O=>{O.preventDefault(),g(S)}},Object.entries(l).map(([O,{type:A,label:j,placeholder:q}],I)=>Yt("label",{style:br.Label,key:I},j?`${j}: `:"",Yt("input",{ref:I===0?v:void 0,type:A,name:O,autoComplete:"on",style:br.Input,autoFocus:!0,placeholder:q,value:S[O]||"",onInput:ne=>{var se;const pe=function(me,xe){switch(me){case"email":return xe.toLowerCase();case"otp":return xe.toUpperCase();default:return xe}}(A,(se=ne.target)===null||se===void 0?void 0:se.value);let ee=Object.assign(Object.assign({},S),{[O]:pe});b(ee),A==="otp"&&pe?.trim().length===8&&g(ee)}}))))),Yt("div",{style:br.ButtonsDiv},Yt(Uu,null,Yt("button",{type:"submit",style:br.Button,onClick:()=>g(S)},f),h&&Yt("button",{style:br.Button,onClick:m},h))))}class Vp extends no{constructor(u){super(u),this.observer=i=>this.setState({userInteraction:i}),this.state={userInteraction:void 0}}componentDidMount(){this.subscription=wr(this.props.db.cloud.userInteraction).subscribe(this.observer)}componentWillUnmount(){this.subscription&&(this.subscription.unsubscribe(),delete this.subscription)}render(u,{userInteraction:i}){return i?Yt(zS,Object.assign({},i)):null}}function co(a){const u=new WeakMap;return i=>{let l=u.get(i);return l||(l=a(i),u.set(i,l)),l}}const Xc=co(a=>new Fn(Rn));function ts(a,u){let i=u,l=wr(a).pipe($c(h=>i=h),f_({resetOnRefCountZero:()=>c_(1e3)}));const f=new Vt(h=>{let m=!1;const g=l.subscribe({next(S){m=!0,h.next(S)},error(S){h.error(S)},complete(){h.complete()}});return m||g.closed||h.next(i),g});return f.getValue=()=>i,f}const mb=co(a=>ts(Eu(()=>a.roles.where({realmId:"rlm-public"}).toArray().then(u=>{const i={};for(const l of u.slice().sort((f,h)=>(f.sortOrder||0)-(h.sortOrder||0)))i[l.name]=l;return i})),{})),bb=co(a=>ts(Xc(a._novip).pipe(pn(u=>Eu(()=>a.transaction("r","realms","members",()=>Promise.all([a.members.where({userId:u.userId}).toArray(),a.realms.toArray(),u.userId]).then(([i,l,f])=>({selfMembers:i,realms:l,userId:f})))))),{selfMembers:[],realms:[],get userId(){return a.cloud.currentUserId}}));function BS(...a){return a.length===0?{}:a.reduce((i,l)=>{const f=Object.assign({},i);for(const[h,m]of Object.entries(l))if(h in f&&f[h]){if(f[h]==="*")continue;if(m==="*")f[h]="*";else if(Array.isArray(m)&&Array.isArray(f[h])){const g=f,S=g[h];g[h]=[...new Set([...S,...m])]}else if(typeof m=="object"&&m&&typeof f[h]=="object"){const g=f[h];for(const[S,b]of Object.entries(m))g[S]!=="*"&&(b==="*"?g[S]="*":Array.isArray(g[S])&&Array.isArray(b)&&(g[S]=[...new Set([...g[S],...b])]))}}else f[h]=l[h];return f})}const gb=co(a=>function(u,i){let l;const f=u.pipe($c(h=>l=i(h)));return f.getValue=()=>l!==void 0?l:l=i(u.getValue()),f}(ts(Hc([bb(a._novip),mb(a._novip)]).pipe(Sr(([{selfMembers:u,realms:i,userId:l},f])=>({selfMembers:u,realms:i,userId:l,globalRoles:f}))),{selfMembers:[],realms:[],userId:Rn.userId,globalRoles:{}}),({selfMembers:u,realms:i,userId:l,globalRoles:f})=>i.map(m=>{const g=u.filter(v=>v.realmId===m.realmId),S=g.map(v=>v.permissions).filter(v=>v),b=Km(g.map(v=>v.roles).filter(v=>v)).map(v=>f[v]).filter(v=>v).map(v=>v.permissions);return Object.assign(Object.assign({},m),{permissions:m.owner===l?{manage:"*"}:BS(...S,...b)})}).reduce((m,g)=>Object.assign(Object.assign({},m),{[g.realmId]:g}),{[l]:{realmId:l,owner:l,name:l,permissions:{manage:"*"}}})));class Qp{constructor(u,i,l){this.permissions=u||{},this.tableName=i,this.isOwner=l}add(...u){var i;return this.permissions.manage==="*"||!!(!((i=this.permissions.manage)===null||i===void 0)&&i.includes(this.tableName))||this.permissions.add==="*"||!!u.every(l=>{var f;return(f=this.permissions.add)===null||f===void 0?void 0:f.includes(l)})}update(...u){var i,l;if(this.isOwner||this.permissions.manage==="*"||!((i=this.permissions.manage)===null||i===void 0)&&i.includes(this.tableName))return!0;if(this.permissions.update==="*")return u.every(h=>h!=="owner");const f=(l=this.permissions.update)===null||l===void 0?void 0:l[this.tableName];return f==="*"?u.every(h=>h!=="owner"):u.every(h=>f?.some(m=>m===h||m==="*"&&h!=="owner"))}delete(){var u;return!(!this.isOwner&&this.permissions.manage!=="*")||!!(!((u=this.permissions.manage)===null||u===void 0)&&u.includes(this.tableName))}}const qS=co(a=>{const u=Xc(a._novip).pipe(pn(f=>Eu(()=>a.members.where({email:f.email||""}).toArray()))),i=gb(a._novip),l=bb(a._novip);return ts(Hc([u,l,i]).pipe(Sr(([f,h,m])=>{const g=(v,O)=>Object.assign(Object.assign({},v),{[O.id]:Object.assign(Object.assign({},O),{realm:m[O.realmId]})}),S=f.reduce(g,{}),b=h.selfMembers.reduce(g,S);return Object.values(b).filter(v=>!v.accepted).map(v=>Object.assign(Object.assign({},v),{accept(){return Le(this,void 0,void 0,function*(){yield a.members.update(v.id,{accepted:new Date})})},reject(){return Le(this,void 0,void 0,function*(){yield a.members.update(v.id,{rejected:new Date})})}}))})),[])}),HS={nameSuffix:!0};function Td(a){const u=a.name,i=Xc(a),l=[];let f=!1,h=null;a.on("ready",v=>Le(this,void 0,void 0,function*(){try{yield function(O){var A,j,q,I,ne,se,pe;return Le(this,void 0,void 0,function*(){m=!1;const ee=ta(O);typeof window<"u"&&typeof document<"u"&&(!((A=ee.cloud.options)===null||A===void 0)&&A.customLoginGui||l.push(function(De){let je=!1;const Ce=document.createElement("div");return document.body?(document.body.appendChild(Ce),Np(Yt(Vp,{db:De.vip}),Ce)):addEventListener("DOMContentLoaded",()=>{je||(document.body.appendChild(Ce),Np(Yt(Vp,{db:De.vip}),Ce))}),{unsubscribe(){try{Ce.remove()}catch{}je=!0},get closed(){return je}}}(O))),ee.cloud.isServiceWorkerDB||l.push(function(De){let je=De.cloud.webSocketStatus.value;const Ce=De.cloud.webSocketStatus.pipe(pn(ge=>{const _e=je;je=ge;const Ae=ia(ge);switch(ge){case"disconnected":return eo.value?Ae.pipe(mp(500)):Ae;case"connecting":return _e==="not-started"||_e==="error"?Ae:Ae.pipe(mp(4e3));default:return Ae}}));return Hc([Ce,De.syncStateChangedEvent.pipe(C_({phase:"initial"})),Xc(De.dx._novip),Od]).pipe(Sr(([ge,_e,Ae,Q])=>{var fe;if(!((fe=Ae.license)===null||fe===void 0)&&fe.status&&Ae.license.status!=="ok")return{phase:"offline",status:"offline",license:Ae.license.status};let{phase:Re,error:ce,progress:D}=_e,J=ge;return Re==="error"&&(J="error"),ge==="not-started"&&(Re!=="pushing"&&Re!=="pulling"||(J="connecting")),De.cloud.syncState.value.phase!=="error"||_e.phase!=="pushing"&&_e.phase!=="pulling"||(J="connecting"),Q||(J="disconnected"),{phase:Re,error:ce,progress:D,status:Tu?J:"offline",license:"ok"}}))}(ee).subscribe(O.cloud.syncState)),l.push(ee.syncCompleteEvent.subscribe(S)),ee.tables.every(De=>De.core)||Fm();const me="serviceWorker"in navigator?yield navigator.serviceWorker.getRegistrations():[],[xe,oe]=yield ee.transaction("rw",ee.$syncState,()=>Le(this,void 0,void 0,function*(){var De,je;const{options:Ce,schema:ge}=ee.cloud,[_e,Ae,Q]=yield Promise.all([ee.getOptions(),ee.getSchema(),ee.getPersistedSyncState()]);if(f){if(!_e||JSON.stringify(_e)!==JSON.stringify(Ce)){if(!Ce)throw new Error("Internal error");const fe=Object.assign({},Ce);delete fe.fetchTokens,yield ee.$syncState.put(fe,"options")}}else ee.cloud.options=_e||null;if(!((De=ee.cloud.options)===null||De===void 0)&&De.tryUseServiceWorker&&"serviceWorker"in navigator&&me.length>0&&!cS?ee.cloud.usingServiceWorker=!0:(!((je=ee.cloud.options)===null||je===void 0)&&je.tryUseServiceWorker&&ee.cloud.isServiceWorkerDB,ee.cloud.usingServiceWorker=!1),ad(ge,ee.cloud.options),ad(Ae,ee.cloud.options),ge){if(!Ae||JSON.stringify(Ae)!==JSON.stringify(ge)){const fe=Ae||{};for(const[Re,ce]of Object.entries(ge)){const D=fe[Re];D?(D.markedForSync=ce.markedForSync,ce.deleted=D.deleted,D.generatedGlobalId=ce.generatedGlobalId):fe[Re]=Object.assign({},ce)}yield ee.$syncState.put(fe,"schema"),Object.assign(ge,fe)}}else ee.cloud.schema=Ae||null;return[Q?.initiallySynced,Q?.realms]}));xe&&ee.setInitiallySynced(!0),function(De){var je,Ce;for(const ge of De.tables)if(!((Ce=(je=De.cloud.schema)===null||je===void 0?void 0:je[ge.name])===null||Ce===void 0)&&Ce.markedForSync){if(ge.schema.primKey.auto)throw new At.SchemaError(`Table ${ge.name} is both autoIncremented and synced. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(ge.name)}]}) to blacklist it from sync`);if(!ge.schema.primKey.keyPath)throw new At.SchemaError(`Table ${ge.name} cannot be both synced and outbound. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(ge.name)}]}) to blacklist it from sync`)}}(ee),!((j=ee.cloud.options)===null||j===void 0)&&j.databaseUrl&&!xe&&(yield function(De,je,Ce){return Le(this,void 0,void 0,function*(){yield io(De,je,Ce,{isInitialSync:!0})})}(ee,ee.cloud.options,ee.cloud.schema),ee.setInitiallySynced(!0)),g(),ee.cloud.isServiceWorkerDB||(l.push(Eu(()=>ee.getCurrentUser()).subscribe(i)),l.push(Eu(()=>ee.getPersistedSyncState()).subscribe(ee.cloud.persistedSyncState)),yield Ou(Hc([i.pipe(bp(1),wu(1)),ee.cloud.persistedSyncState.pipe(bp(1),wu(1))])));let we=!1;const Be=yield ee.getCurrentUser(),Ne=(q=ee.cloud.options)===null||q===void 0?void 0:q.requireAuth;Ne&&(typeof Ne=="object"?(!Be.isLoggedIn||Ne.userId&&Be.userId!==Ne.userId||Ne.email&&Be.email!==Ne.email)&&(we=yield ed(ee,Ne)):Be.isLoggedIn||(we=yield ed(ee))),!Be.isLoggedIn||oe&&oe.includes(Be.userId)||(we=!0),h&&h.stop(),h=null,g(),ee.cloud.usingServiceWorker&&(!((I=ee.cloud.options)===null||I===void 0)&&I.databaseUrl)?(Nm(ee,we?"pull":"push").catch(()=>{}),function(De){var je;return Le(this,void 0,void 0,function*(){try{const{periodicSync:Ce}=yield navigator.serviceWorker.ready;if(Ce)try{yield Ce.register(`dexie-cloud:${De.name}`,(je=De.cloud.options)===null||je===void 0?void 0:je.periodicSync)}catch{}}catch{}})}(ee).catch(()=>{})):!((ne=ee.cloud.options)===null||ne===void 0)&&ne.databaseUrl&&ee.cloud.schema&&!ee.cloud.isServiceWorkerDB&&(h=TS(ee,ee.cloud.options,ee.cloud.schema),h.start(),aa(ee,we?"pull":"push")),g(),ee.cloud.isServiceWorkerDB||l.push(_r(self,"online").subscribe(()=>{ee.syncStateChangedEvent.next({phase:"not-in-sync"}),tb(ee)||aa(ee,"push")}),_r(self,"offline").subscribe(()=>{ee.syncStateChangedEvent.next({phase:"offline"})})),!(!((se=ee.cloud.options)===null||se===void 0)&&se.databaseUrl)||!((pe=ee.cloud.options)===null||pe===void 0)&&pe.disableWebSocket||sS||l.push(function(De){var je;if(!(!((je=De.cloud.options)===null||je===void 0)&&je.databaseUrl))throw new Error("No database URL to connect WebSocket to");const Ce=De.messageConsumer.readyToServe.pipe(gr(ge=>ge),pn(()=>De.getPersistedSyncState()),gr(ge=>ge&&ge.serverRevision),pn(ge=>Le(this,void 0,void 0,function*(){return{type:"ready",rev:ge.serverRevision,realmSetHash:yield _d(ge)}})));return function ge(){return De.cloud.persistedSyncState.pipe(gr(_e=>_e?.serverRevision),wu(1),pn(_e=>De.cloud.currentUser.pipe(Sr(Ae=>[Ae,_e]))),pn(([_e,Ae])=>Od.pipe(Sr(Q=>[Q?_e:null,Ae]))),pn(([_e,Ae])=>_e?.isLoggedIn&&!Ae?.realms.includes(_e.userId)?De.cloud.persistedSyncState.pipe(gr(Q=>Q?.realms.includes(_e.userId)||!1),wu(1),Sr(Q=>[_e,Q])):new Fn([_e,Ae])),pn(([_e,Ae])=>Le(this,void 0,void 0,function*(){return[_e,yield _d(Ae)]})),km(([_e,Ae],[Q,fe])=>_e===Q&&Ae===fe),pn(([_e,Ae])=>{var Q;return!((Q=De.cloud.persistedSyncState)===null||Q===void 0)&&Q.value?_e?new SS(De.cloud.options.databaseUrl,De.cloud.persistedSyncState.value.serverRevision,Ae,De.cloud.persistedSyncState.value.clientIdentity,Ce,De.cloud.webSocketStatus,_e.accessToken,_e.accessTokenExpiration):wr([]):ge()}),hd(_e=>_e?.name==="TokenExpiredError"?ia(!0).pipe(pn(()=>Le(this,void 0,void 0,function*(){const Ae=yield De.getCurrentUser(),Q=yield Wc(De.cloud.options.databaseUrl,Ae);yield De.table("$logins").update(Ae.userId,{accessToken:Q.accessToken,accessTokenExpiration:Q.accessTokenExpiration,claims:Q.claims,license:Q.license,data:Q.data})})),pn(()=>ge())):ip(()=>_e)),hd(_e=>(De.cloud.webSocketStatus.next("error"),_e instanceof xS?ip(()=>_e):wr(OS()).pipe(pn(()=>ge())))))}().subscribe({next:ge=>{ge&&De.messageConsumer.enqueue(ge)},error:ge=>{},complete:()=>{}})}(ee))})}(v)}catch{}}),!0);let m=!1;function g(){if(m)throw new At.DatabaseClosedError}(function(v,O){v.on.close.subscribe(O);const A=v._close;v._close=function(){A.call(this),O()}})(a,()=>{l.forEach(v=>v.unsubscribe()),m=!0,h&&h.stop(),h=null,i.next(Rn)});const S=new uo;var b;a.cloud={version:"4.0.12",options:Object.assign({},HS),schema:null,get currentUserId(){return i.value.userId||Rn.userId},currentUser:i,syncState:new Fn({phase:"initial",status:"not-started"}),events:{syncComplete:S},persistedSyncState:new Fn(void 0),userInteraction:new Fn(void 0),webSocketStatus:new Fn("not-started"),login(v){return Le(this,void 0,void 0,function*(){const O=ta(a);yield O.cloud.sync(),yield ed(O,v)})},invites:qS(a),roles:mb(a),configure(v){v=a.cloud.options=Object.assign(Object.assign({},a.cloud.options),v),f=!0,v.databaseUrl&&v.nameSuffix&&(a.name=`${u}-${function(O){const A=new URL(O);return A.pathname==="/"?A.hostname.split(".")[0]:A.pathname.split("/")[1]}(v.databaseUrl)}`,ta(a).reconfigure()),ad(a.cloud.schema,a.cloud.options)},logout({force:v}={}){return Le(this,void 0,void 0,function*(){v?yield md(ta(a),{deleteUnsyncedData:!0}):yield qm(ta(a))})},sync({wait:v,purpose:O}={wait:!0,purpose:"push"}){var A;return Le(this,void 0,void 0,function*(){v===void 0&&(v=!0);const j=ta(a);if((((A=j.cloud.currentUser.value.license)===null||A===void 0?void 0:A.status)||"ok")!=="ok"&&(yield Ld(j)),O==="pull"){const q=j.cloud.persistedSyncState.value;if(aa(j,O),v){const I=yield Ou(j.cloud.persistedSyncState.pipe(gr(ne=>ne?.timestamp!=null&&(!q||ne.timestamp>q.timestamp))));if(I?.error)throw new Error("Sync error: "+I.error)}}else if(yield jp(j)){const q=j.cloud.persistedSyncState.value;aa(j,O),v&&(yield Ou(wr(Eu(()=>Le(this,void 0,void 0,function*(){const I=yield jp(j),ne=yield j.getPersistedSyncState();if(ne?.timestamp!==q?.timestamp&&ne?.error)throw new Error("Sync error: "+ne.error);return I}))).pipe(gr(I=>!I))))}})},permissions:(v,O)=>function(A,j,q){if(!j)throw new TypeError("Cannot check permissions of undefined or null. A Dexie Cloud object with realmId and owner expected.");const{owner:I,realmId:ne}=j;if(!q){if(typeof j.table!="function")throw new TypeError("Missing 'table' argument to permissions and table could not be extracted from entity");q=j.table()}const se=gb(A),pe=me=>{const xe=me[ne||A.cloud.currentUserId];return xe?new Qp(xe.permissions,q,ne===void 0||ne===A.cloud.currentUserId||I===A.cloud.currentUserId):new Qp({},q,!I||I===A.cloud.currentUserId)},ee=se.pipe(Sr(pe));return ee.getValue=()=>pe(se.getValue()),ee}(a._novip,v,O)},a.Version.prototype._parseStoresSpec=At.override(a.Version.prototype._parseStoresSpec,v=>mS(v,a)),a.Table.prototype.newId=function({colocateWith:v}={}){const O=v&&v.substr(v.length-3);return eb(a.cloud.schema[this.name].idPrefix||"",O)},a.Table.prototype.idPrefix=function(){var v,O;return((O=(v=this.db.cloud.schema)===null||v===void 0?void 0:v[this.name])===null||O===void 0?void 0:O.idPrefix)||""},a.use(pS({currentUserObservable:a.cloud.currentUser,db:ta(a)})),a.use((b=ta(a),{stack:"dbcore",name:"implicitPropSetterMiddleware",level:1,create:v=>Object.assign(Object.assign({},v),{table:O=>{const A=v.table(O);return Object.assign(Object.assign({},A),{mutate:j=>{var q,I,ne,se;if(j.trans.disableChangeTracking)return A.mutate(j);const pe=j.trans;if(!((I=(q=b.cloud.schema)===null||q===void 0?void 0:q[O])===null||I===void 0)&&I.markedForSync){if(pe.mode==="versionchange")return Promise.reject(new At.UpgradeError(`Dexie Cloud Addon: Cannot upgrade or populate synced table "${O}". See https://dexie.org/cloud/docs/best-practices`));if(j.type==="add"||j.type==="put"){if(O==="members")for(const ee of j.values)typeof ee.email=="string"&&(ee.email=ee.email.trim().toLowerCase());for(const ee of j.values){ee.owner||(ee.owner=pe.currentUser.userId),ee.realmId||(ee.realmId=pe.currentUser.userId);const me=(se=(ne=A.schema.primaryKey).extractKey)===null||se===void 0?void 0:se.call(ne,ee);typeof me=="string"&&me[0]==="#"&&j.type==="put"&&(delete j.criteria,delete j.changeSpec,delete j.updates,ee.$ts=Date.now())}}}return A.mutate(j)}})}})})),a.use(hS(ta(a)))}Td.version="4.0.12",At.Cloud=Td;const KS="https://dexie.cloud",LS="https://zhuh6rzgq.dexie.cloud",YS={serviceUrl:KS,dbUrl:LS},Xp={version:1,stores:{sets:"&id, name, date, songs",songs:"&id, name, text"}};class GS extends At{sets;songs;constructor(){super("dexie-browser",{addons:[Td],autoOpen:!1}),this.version(Xp.version).stores(Xp.stores)}}const nn=new GS;async function VS(){nn.cloud.configure(YS),await nn.open()}typeof window<"u"&&(window.db=nn);async function QS(a){await VS(),await nn.cloud.login(a)}async function XS(){await nn.cloud.logout(),nn.close()}function ZS(){const[a,u]=$e.useState([]);return $e.useEffect(()=>{async function i(){await nn.open();const l=await nn.songs.toArray();u(l)}i()},[]),be.jsxs("div",{children:[be.jsx("h2",{children:"Songs"}),be.jsx("ul",{children:a.map(i=>be.jsxs("li",{children:[be.jsx(ra,{to:"song-view",data:{id:i.id},children:i.name}),be.jsx(ra,{to:"song-edit",data:{id:i.id},children:Ip.PENCIL})]},i.id))})]})}function JS(){const[a,u]=$e.useState(""),[i,l]=$e.useState("");async function f(h){h.preventDefault(),await nn.open();const m={id:crypto.randomUUID(),name:a,text:i};await nn.songs.add(m),u(""),l("")}return be.jsxs("form",{onSubmit:f,children:[be.jsxs("label",{children:["Name ",be.jsx("input",{value:a,onChange:h=>u(h.target.value)})]}),be.jsx("br",{}),be.jsx("textarea",{value:i,onChange:h=>l(h.target.value)}),be.jsx("br",{}),be.jsx("button",{type:"submit",children:"Save"})]})}function $S(){const{query:a}=Zc(),[u,i]=$e.useState(null),[l,f]=$e.useState(""),[h,m]=$e.useState("");$e.useEffect(()=>{async function S(){if(a.id){await nn.open();const b=await nn.songs.get(a.id);b&&(i(b),f(b.name),m(b.text))}}S()},[a.id]);async function g(S){S.preventDefault(),u&&await nn.songs.put({...u,name:l,text:h})}return u?be.jsxs("form",{className:"song edit",onSubmit:g,children:[be.jsxs("label",{children:["Name ",be.jsx("input",{value:l,onChange:S=>f(S.target.value)})]}),be.jsx("br",{}),be.jsx("textarea",{value:h,onChange:S=>m(S.target.value)}),be.jsx("br",{}),be.jsx("button",{type:"submit",children:"Save"}),be.jsx(ra,{className:"dont print",to:"song-view",data:{id:u.id},children:"View"})]}):be.jsx("p",{children:"Select a song to edit."})}function IS(){return be.jsx("p",{children:"All Sets"})}function PS(){return be.jsx("p",{children:"Add Set"})}function WS(){return be.jsx("p",{children:"Edit Set"})}function FS(){return be.jsx("p",{children:"Live Mode"})}function e1(){const[a,u]=$e.useState(()=>nn.cloud.currentUser);async function i(f){f.preventDefault();const h=f.target,g=new FormData(h).get("email");try{await QS({email:g??void 0}),u(nn.cloud.currentUser)}catch(S){console.error(S)}}async function l(){try{await XS(),u(void 0)}catch(f){console.error(f)}}return a?be.jsxs("button",{onClick:l,children:["Logout ",a?.username||a?.email]}):be.jsxs("form",{onSubmit:i,children:[be.jsx("input",{name:"email",type:"email",placeholder:"Email"}),be.jsx("button",{type:"submit",children:"Login"})]})}function t1(){return be.jsxs("div",{children:[be.jsx("h2",{children:"Settings"}),be.jsx(e1,{})]})}function Zp(a,u=""){const i=a.replace(/\r\n?/g,`
`).split(`
`);let l=0;const h=(i[l]?.trim()??"").match(/\[(\w[#b]?)]/);let m=h?O(h[1]):null;l++;const g=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],S={"C#":"Db","D#":"Eb","F#":"Gb","G#":"Ab","A#":"Bb"},b=[0,2,4,5,7,9,11],v=["","m","m","","","m","dim"];function O(ce){return ce.replace(//g,"#").replace(//g,"b")}function A(ce){const D=ce.toUpperCase();let J=g.indexOf(D);if(J>-1)return J;const te={DB:"C#",EB:"D#",GB:"F#",AB:"G#",BB:"A#"}[D];return te?g.indexOf(te):0}function j(ce){if(!m)return String(ce);const D=(ce-1)%7,J=(A(m)+b[D])%12;let te=g[J];return(/b$/.test(m)||["F","Bb","Eb","Ab","Db","Gb","Cb"].includes(m))&&(te=S[te]||te),te+v[D]}function q(ce){const D=ce.match(/^(\d)(?:\/(\d))?(.*)$/);if(!D)return ce;let te=j(+D[1]);return D[2]&&(te+="/"+j(+D[2])),te+=D[3]||"",te}const I=["","","","","","","","","","","","","",""],ne=ce=>{const D=ce.replace(/\|(\d{1,2})$/,(J,te)=>I[+te]||te);return q(D)},se={},pe={};let ee=null,me=[],xe=null;for(;l<i.length&&!/^\s*Sections:/i.test(i[l]);){const ce=i[l].match(/^\s*(key|tempo|author|time):\s*(.+)$/i);if(ce){const J=ce[1].toLowerCase(),te=ce[2].trim();switch(J){case"key":m=O(te);break;case"tempo":const ue=parseInt(te,10);isNaN(ue)||(ee=ue);break;case"author":me=te.split(",").map(Oe=>Oe.trim()).filter(Boolean);break;case"time":xe=te;break}l++;continue}const D=i[l].match(/^[\s\t]*([\w \-]+):\s*(.+)$/);if(D){const J=D[1].trim().toLowerCase(),te=[D[2].trim()];let ue=l+1;for(;ue<i.length&&/^\s{2,}\S/.test(i[ue])&&!/^[\w \-]+:\s*/.test(i[ue].trim());)te.push(i[ue].trim()),ue++;l=ue-1,pe[J]=te,se[J]=Re(te.join(" "))}l++}const oe={},we=[],Be=/^\s{2,}([\w \-]+):\s*$/;for(;l<i.length&&!/^\s*Arrangements:/i.test(i[l]);){const ce=i[l].match(Be);if(ce){const D=ce[1].trim();we.push(D),l++;const J=[];for(;l<i.length&&!Be.test(i[l])&&!/^\s*Arrangements:/i.test(i[l]);){const te=i[l];te.trim()&&J.push(te.replace(/^\s{4}/,"")),l++}oe[D]=J}else l++}const Ne={};if(l<i.length&&/^\s*Arrangements:/i.test(i[l]))for(l++;l<i.length;){const ce=i[l].match(/^(\s{2,})([\w \-]+)\s*:?\s*$/);if(ce){const D=ce[1].length,J=ce[2].trim();let te=l+1;for(;te<i.length&&!i[te].trim();)te++;const ue=te<i.length?(/^(\s*)/.exec(i[te])||[""])[0].length:0;if(!(i[l].trim().endsWith(":")||ue>D)){l++;continue}l++;const qe=[];for(;l<i.length;){const He=i[l];if((/^(\s*)/.exec(He)||[""])[0].length<=D)break;He.trim()&&qe.push(He.trim()),l++}Ne[J]=qe}else l++}Object.keys(Ne).length||(Ne.default=we);const De=Ne[u]||Ne[Object.keys(Ne)[0]],je=[];je.push('<article class="song">');const Ce=[];m&&Ce.push(`<p class="song-meta-key"><strong>Key:</strong> ${Ae(m)}</p>`),ee!==null&&Ce.push(`<p class="song-meta-tempo"><strong>Tempo:</strong> ${ee}</p>`),xe&&Ce.push(`<p class="song-meta-time"><strong>Time:</strong> ${Ae(xe)}</p>`),me.length&&Ce.push(`<p class="song-meta-authors"><strong>Author${me.length>1?"s":""}:</strong> ${Ae(me.join(", "))}</p>`),Ce.length&&(je.push('<section class="song-meta">'),Ce.forEach(ce=>je.push(ce)),je.push("</section>")),je.push('<section class="song-chords"><h3 class="chords-title">Chords</h3>'),De.forEach(ce=>{const D=pe[Q(ce)]||[];if(!D.length)return;let J=`<span class="chord-section-label">${Ae(ce)}</span> `+_e(D[0]);for(let te=1;te<D.length;te++)J+='<br class="line-break"/>'+_e(D[te]);je.push(`<p class="chord-line">${J}</p>`)}),je.push("</section>"),De.forEach(ce=>{je.push(`<section class="song-section section-${ce.toLowerCase().replace(/[^a-z0-9]+/g,"-")}">`),je.push(`<h3 class="section-title">${Ae(ce)}</h3>`);const D=oe[ce]||[],J=se[Q(ce)]||[];let te=0;D.forEach(ue=>{const Oe=fe(ue,()=>{const qe=J[te%J.length]||"";return te++,`<sup class="chord">${Ae(ne(qe))}</sup>`});je.push(`<p class="lyric-line">${Oe}</p>`)}),je.push("</section>")}),je.push("</article>");const ge={key:m,tempo:ee,authors:me,time:xe};return{html:je.join(`
`),arrangements:Object.keys(Ne),song:ge};function _e(ce){return ce.split(/\s+/).filter(Boolean).map(D=>`<span class="chord">${Ae(ne(D))}</span>`).join(" ")}function Ae(ce){const D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return String(ce).replace(/[&<>"]|'"'/g,J=>D[J]??J)}function Q(ce){return ce.split(/\s+/)[0].toLowerCase()}function fe(ce,D){let J="",te=0;for(let ue=0;ue<ce.length;ue++)ce[ue]==="^"&&(J+=Ae(ce.slice(te,ue))+D(),te=ue+1);return J+Ae(ce.slice(te))}function Re(ce){const D=ce.split(/\s+/).filter(Boolean),J=[];for(let te=0;te<D.length;te++){let ue=D[te];if(ue.startsWith("(")){const Oe=[];if(ue.endsWith(")"))Oe.push(ue.slice(1,-1));else{for(Oe.push(ue.slice(1));++te<D.length&&!D[te].endsWith(")");)Oe.push(D[te]);te<D.length&&Oe.push(D[te].slice(0,-1))}let qe=1;for(te+1<D.length&&/^x\d+$/i.test(D[te+1])&&(qe=+D[++te].slice(1));qe--;)J.push(...Oe)}else/^x\d+$/i.test(ue)||J.push(ue)}return J}}function n1(){const{query:a}=Zc(),[u,i]=$e.useState(null),[l,f]=$e.useState([]),[h,m]=$e.useState(""),[g,S]=$e.useState(""),b=$p();return $e.useEffect(()=>{async function v(){if(a.id){await nn.open();const O=await nn.songs.get(a.id);if(O){i(O);const A=Zp(O.text);f(A.arrangements),m(A.arrangements[0]||""),S(A.html)}}}v()},[a.id]),$e.useEffect(()=>{if(!u)return;const v=Zp(u.text,h);S(v.html),f(v.arrangements)},[u,h]),$e.useEffect(()=>{console.debug("arr",l)},[l]),$e.useEffect(()=>{if(!g)return;document.querySelectorAll(".chord").forEach(j=>{b.showChords?j.classList.remove("hidden"):j.classList.add("hidden")});const O=document.querySelector(".song-chords");O&&(b.showChordset?O.classList.remove("hidden"):O.classList.add("hidden"));const A=document.querySelector(".song-meta");A&&(b.showMeta?A.classList.remove("hidden"):A.classList.add("hidden"))},[g,b.showChords,b.showChordset,b.showMeta]),u?be.jsxs("div",{children:[be.jsx("h2",{children:u.name}),l.length&&be.jsx("select",{className:"dont print",value:h,onChange:v=>m(v.target.value),children:l.map((v,O)=>be.jsx("option",{value:v,children:v},O))}),be.jsx(ra,{className:"dont print",to:"song-edit",data:{id:u.id},children:"Edit"}),be.jsx("div",{dangerouslySetInnerHTML:{__html:g}})]}):be.jsx("p",{children:"Select a song to view."})}function r1(){const[a,u]=$e.useState(!1);return $e.useEffect(()=>{const i=document.querySelectorAll(".dont.print");a?i.forEach(l=>{l.classList.add("hidden")}):i.forEach(l=>{l.classList.remove("hidden")})},[a]),be.jsxs(be.Fragment,{children:[be.jsxs("button",{className:"print mode button",type:"button",onClick:()=>u(!a),children:[Ip.DEVICE.PRINTER,""]}),be.jsxs(Pg,{name:"live",initial:"idle",children:[be.jsx(e0,{}),be.jsxs("div",{className:"main container",children:[be.jsx(mr,{name:"idle",children:be.jsx(t0,{})}),be.jsx(mr,{name:"songs",children:be.jsx(ZS,{})}),be.jsx(mr,{name:"song-add",children:be.jsx(JS,{})}),be.jsx(mr,{name:"song-edit",children:be.jsx($S,{})}),be.jsx(mr,{name:"song-view",children:be.jsx(n1,{})}),be.jsx(mr,{name:"sets",children:be.jsx(IS,{})}),be.jsx(mr,{name:"set-add",children:be.jsx(PS,{})}),be.jsx(mr,{name:"set-edit",children:be.jsx(WS,{})}),be.jsx(mr,{name:"set-view",children:be.jsx(FS,{})}),be.jsx(mr,{name:"settings",children:be.jsx(t1,{})})]}),be.jsx(Fg,{})]})]})}Xg.createRoot(document.getElementById("root")).render(be.jsx($e.StrictMode,{children:be.jsx(r1,{})}));Ig({immediate:!0});
